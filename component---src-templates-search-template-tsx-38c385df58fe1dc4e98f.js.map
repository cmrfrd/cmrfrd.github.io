{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./src/components/Navigation/Navigation.Paginator.tsx","webpack:///./src/components/Search/Search.tsx","webpack:///./src/templates/search.template.tsx"],"names":["_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Paginator","maxPages","count","pageCount","pageRoot","pathPrefix","Constructor","protoProps","staticProps","render","this","previousPath","nextPath","hasNext","currentPage","hasPrevious","mod","a","b","Helmet","rel","href","Frame","PageButton","onClick","setCurrentPage","window","scroll","top","left","behavior","getPageLinks","current","previousPage","pagesRange","range","truncatedRange","slice","unshift","splice","push","Set","map","page","Spacer","aria-hidden","PageNumberBUtton","style","opacity","className","prototype","Component","paginationItemMixin","p","css","theme","colors","primary","mediaqueryup","desktop","mediaquery","tablet","Search","elements","setSearchResults","placeholder","filter","sort","searching","setSearching","setNumSearchResults","tcolors","useColorMode","modes","dark","useState","searchTerm","setSearchTerm","resultsTimeoutRef","useRef","useEffect","clearTimeout","results","e","setTimeout","searchingTimeoutRef","InputContainer","IconContainer","LoaderContainer","SearchIcon","fill","invbackground","Input","type","onChange","event","scrollTo","value","onFocus","console","log","onScroll","preventDefault","CircleLoader","spinTransition","loop","Infinity","ease","duration","Container","CircleLoaderContainer","animate","rotate","transition","motion","span","display","width","height","border","background","borderTop","borderRadius","position","boxSizing","paddingTop","paddingBottom","svg","transform","right","outline","borderWidth","borderColor","color","SearchPage","location","pageContext","posts","search","searchPageData","edges","node","searchResults","pages","Math","ceil","pageLength","numSearchResults","gridLayout","useContext","GridLayoutContext","SEO","pathname","Section","narrow","SearchContainer","SearchHeading","heading","term","title","toLowerCase","includes","dateForSEO","Horizontal","NumPostsHeader","PostsPaginator","show","margin","borderBottom","horizontalNav","marginTop","bottom","zIndex","padding","colorModeTransition","minHeight","phablet","Headings","h2","h5"],"mappings":"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","file":"component---src-templates-search-template-tsx-38c385df58fe1dc4e98f.js","sourcesContent":["function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import { mediaquery, mediaqueryup } from '@styles/media';\nimport { IPaginator, ITAOAThemeUIContext } from '@types';\nimport { range } from '@utils';\n\nimport { css } from '@emotion/core';\nimport { SerializedStyles } from '@emotion/serialize';\nimport styled from '@emotion/styled';\nimport * as CSS from 'csstype';\nimport { Link } from 'gatsby';\nimport React, { Component } from 'react';\nimport { Helmet } from 'react-helmet';\n\ninterface IPaginatorProps {\n  maxPages: number;\n  count: number;\n}\n\nconst Pagin: React.FC<{}> = ({ children }) => {};\n\n/**\n * <Paginator />\n *\n * 1 2 3 ... final page NEXT\n * Component to navigate between different pages on a series of blog post, for example.\n *\n * We're using a <nav> element here so make sure to put the pagination component\n * INSIDE of a section to make sure the markup stays contextually relevant\n *\n * Receives the gatsby-paginator props\n */\n\nclass Paginator extends Component<IPaginator, {}> {\n  maxPages: number = 3;\n  count: number = this.props.pageCount;\n  pageRoot: string = this.props.pathPrefix;\n\n  /**\n   * Utility function to return a 1 ... 5 6 7 ... 10 style pagination\n   */\n  get getPageLinks(): React.ReactNode {\n    const current = this.props.currentPage;\n    const count = this.props.pageCount;\n    const maxPages = this.maxPages;\n\n    // Current is the page we're on\n    // We want to show current - 1, current, current + 1\n    // Of course if we're on page 1, we don't want a page 0\n    const previousPage = current === 0 ? current : current - 1;\n\n    // Now create a range of numbers from the previousPage to the total pages (count)\n    const pagesRange = range(previousPage, count);\n\n    // We might need to truncate that pagesRange if it's\n    // more than the max pages we wish to display (3)\n    const truncatedRange: Array<number | null> = pagesRange.slice(0, maxPages);\n\n    // Throughout this function we might add a null to our pages range.\n    // When it comes to rendering our range if we find a null we'll add a spacer.\n\n    // We might need a spacer at the start of the pagination e.g. 1 ... 3 4 5 etc.\n    // If we're after the second page, we need a ... spacer (3 and up)\n    if (pagesRange[0] > 1) {\n      truncatedRange.unshift(null);\n    }\n    // If we're after the first page, we need page 1 to appear (2 and up)\n    if (pagesRange[0] > 0) {\n      truncatedRange.unshift(0);\n    }\n\n    // If we're on the final page, then there won't be a \"next\" page and\n    // the pagination will end up looking a bit short (e.g. on 8 pages ... 7, 8)\n    // Push to the end an extra page maxPages from the end\n    if (pagesRange[0] + 1 === count && pagesRange[0] - 1 > 0) {\n      truncatedRange.splice(pagesRange.length - 1 - maxPages, 0, pagesRange[0] - 1);\n    }\n\n    // We might need a spacer at the end of the pagination e.g. 4 5 6 ... 8\n    // If we're before the penultimate page, we need a ... spacer\n    if (pagesRange[0] + maxPages < count) {\n      truncatedRange.push(null);\n    }\n\n    // If we're before the last page, we need page <last> to appear\n    if (pagesRange[0] + maxPages - 1 < count) {\n      truncatedRange.push(count);\n    }\n\n    return [...new Set(truncatedRange)].map((page: number | null, i: number) =>\n      page === null ? (\n        // If you find a null in the truncated array then add a spacer\n        <Spacer key={`PaginatorPage_spacer_${i}`} aria-hidden={true} />\n      ) : (\n        // Otherwise render a PageButton\n        <PageNumberBUtton\n          key={`PaginatorPage_${page}`}\n          style={{ opacity: current === page ? 1 : 0.3 }}\n          className=\"Paginator__pageLink\"\n          onClick={() => {\n            this.props.setCurrentPage(page);\n            window.scroll({ top: 0, left: 0, behavior: 'smooth' });\n          }}\n        >\n          {page}\n        </PageNumberBUtton>\n      )\n    );\n  }\n\n  render(): React.ReactNode {\n    const count = this.count;\n\n    if (count <= 1) return null;\n\n    const previousPath = this.previousPath;\n    const nextPath = this.nextPath;\n    const hasNext = this.props.currentPage < this.count;\n    const hasPrevious = this.props.currentPage > 1;\n\n    const mod = (a, b) => ((a % b) + b) % b;\n\n    return (\n      <>\n        <Helmet>\n          {hasPrevious && <link rel=\"prev\" href={previousPath} />}\n          {hasNext && <link rel=\"next\" href={nextPath} />}\n        </Helmet>\n        <Frame>\n          {this.props.pageCount > 0 && (\n            <PageButton\n              onClick={() => {\n                this.props.setCurrentPage(mod(this.props.currentPage - 1, this.props.pageCount));\n                window.scroll({ top: 0, left: 0, behavior: 'smooth' });\n              }}\n            >\n              Prev\n            </PageButton>\n          )}\n          {this.getPageLinks}\n          {this.props.pageCount > 0 && (\n            <PageButton\n              onClick={() => {\n                this.props.setCurrentPage(mod(this.props.currentPage + 1, this.props.pageCount));\n                window.scroll({ top: 0, left: 0, behavior: 'smooth' });\n              }}\n            >\n              Next\n            </PageButton>\n          )}\n        </Frame>\n      </>\n    );\n  }\n}\n\nexport default Paginator;\n\nconst paginationItemMixin = (p: ITAOAThemeUIContext): SerializedStyles => css`\n  line-height: 1;\n  color: ${p.theme.colors.primary};\n  padding: 2rem;\n  width: 6.8rem;\n  height: 6.8rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-variant-numeric: tabular-nums;\n\n  ${mediaqueryup.desktop()} {\n    display: block;\n    width: auto;\n    height: auto;\n  }\n`;\n\nconst PageButton = styled.div`\n  font-weight: 600;\n  font-size: 18px;\n  text-decoration: none;\n  ${(p: ITAOAThemeUIContext): SerializedStyles => paginationItemMixin(p)}\n\n  &:hover,\n    &:focus {\n    opacity: 1;\n    text-decoration: underline;\n  }\n`;\n\nconst PageNumberBUtton = styled.div`\n  font-weight: 400;\n  font-size: 18px;\n  text-decoration: none;\n  color: ${(p: ITAOAThemeUIContext): CSS.ColorProperty => p.theme.colors.primary};\n  ${(p: ITAOAThemeUIContext): SerializedStyles => paginationItemMixin(p)}\n\n  &:hover,\n    &:focus {\n    opacity: 1;\n    text-decoration: underline;\n  }\n`;\n\nconst Spacer = styled.span`\n  opacity: 0.3;\n  ${(p: ITAOAThemeUIContext): SerializedStyles => paginationItemMixin(p)}\n  &::before {\n    content: '...';\n  }\n`;\n\nconst MobileReference = styled.span`\n    font-weight: 400;\n    ${(p: ITAOAThemeUIContext): SerializedStyles => paginationItemMixin(p)}\n    color: ${(p: ITAOAThemeUIContext): CSS.ColorProperty => p.theme.colors.primary};\n\n    em {\n    font-style: normal;\n    color: ${(p: ITAOAThemeUIContext): CSS.ColorProperty => p.theme.colors.primary};\n    }\n`;\n\nconst Frame = styled.div`\n  position: relative;\n  z-index: 1;\n  display: inline-flex;\n\n  ${mediaquery.tablet()} {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  ${mediaqueryup.desktop()} {\n    justify-content: space-between;\n    align-items: center;\n    justify-content: flex-start;\n  }\n`;\n","import Icons from '@icons';\nimport { ITAOAThemeUIContext } from '@types';\nimport { theme } from '@utils';\n\nimport styled from '@emotion/styled';\nimport * as CSS from 'csstype';\nimport { motion } from 'framer-motion';\nimport React, { useEffect, useState, useRef } from 'react';\nimport { useColorMode } from 'theme-ui';\n\nconst Search: React.FC<{}> = (props: any) => {\n  const { elements, setSearchResults, placeholder, filter, sort } = props;\n  const { setCurrentPage } = props;\n  const { searching, setSearching } = props;\n  const { setNumSearchResults } = props;\n\n  const [colorMode] = useColorMode();\n  const tcolors = colorMode === 'dark' ? theme.colors.modes.dark : theme.colors;\n\n  const [searchTerm, setSearchTerm] = useState('');\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>): void => {\n    window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n    setSearchTerm(event.target.value);\n  };\n\n  const resultsTimeoutRef = useRef(null);\n  useEffect(() => {\n    if (resultsTimeoutRef.current !== null) {\n      clearTimeout(resultsTimeoutRef.current);\n    }\n\n    const results = elements.filter((e: any) => filter(e, searchTerm)).sort(sort);\n\n    resultsTimeoutRef.current = setTimeout(() => {\n      resultsTimeoutRef.current = null;\n      setSearchResults(results);\n      setNumSearchResults(results.length);\n    }, 375);\n\n    setSearchResults([]);\n  }, [searchTerm]);\n\n  const searchingTimeoutRef = useRef(null);\n  useEffect(() => {\n    if (searchingTimeoutRef.current !== null) {\n      clearTimeout(searchingTimeoutRef.current);\n    }\n\n    searchingTimeoutRef.current = setTimeout(() => {\n      searchingTimeoutRef.current = null;\n      setSearching(false);\n    }, 400);\n\n    setSearching(true);\n    setCurrentPage(0);\n  }, [searchTerm]);\n\n  return (\n    <InputContainer>\n      <IconContainer>\n        {searching ? (\n          <LoaderContainer>\n            <CircleLoader />\n          </LoaderContainer>\n        ) : (\n          <Icons.SearchIcon fill={tcolors.invbackground} />\n        )}\n      </IconContainer>\n      <Input\n        type=\"text\"\n        placeholder={placeholder}\n        onChange={handleChange}\n        onFocus={e => {\n          console.log('focus', e);\n        }}\n        onScroll={e => {\n          e.preventDefault();\n        }}\n      />\n    </InputContainer>\n  );\n};\n\nexport default Search;\n\nconst CircleLoader: React.FC<{}> = () => {\n  const spinTransition = {\n    loop: Infinity,\n    ease: 'linear',\n    duration: 1\n  };\n\n  return (\n    <Container>\n      <CircleLoaderContainer animate={{ rotate: 360 }} transition={spinTransition} />\n    </Container>\n  );\n};\n\nconst CircleLoaderContainer = styled(motion.span)((p: ITAOAThemeUIContext) => ({\n  display: 'block',\n  width: '2rem',\n  height: '2rem',\n  border: `0.25rem solid ${p.theme.colors.background}`,\n  borderTop: `0.25rem solid ${p.theme.colors.primary}`,\n  borderRadius: '50%',\n  position: 'absolute',\n  boxSizing: 'border-box',\n  top: '0.4rem',\n  left: '0.5rem'\n}));\n\nconst Container = styled.div(() => ({\n  position: 'relative',\n  width: '3rem',\n  height: '3rem',\n  boxSizing: 'border-box'\n}));\n\nconst InputContainer = styled.div(() => ({\n  position: 'relative',\n  display: 'inline-block',\n  paddingTop: '20px',\n  paddingBottom: '20px',\n  width: '100%',\n  svg: {\n    position: 'absolute',\n    top: '50%',\n    transform: 'translateY(-50%)',\n    right: '1rem'\n  }\n}));\n\nconst LoaderContainer = styled.div(() => ({\n  position: 'absolute',\n  right: '0.8rem'\n}));\n\nconst Input = styled.input((p: ITAOAThemeUIContext) => ({\n  outline: 0,\n  borderWidth: '0 0 2px',\n  borderColor: p.theme.colors.invbackground as CSS.ColorProperty,\n  color: p.theme.colors.invbackground as CSS.ColorProperty,\n  background: 'transparent',\n  height: '30px',\n  paddingTop: '0.5rem',\n  width: '100%'\n}));\n\nconst IconContainer = styled.div(() => ({}));\n","import PostsList from '../sections/posts/Posts.List';\nimport { GridLayoutContext } from '../sections/posts/Posts.List.Context';\n\nimport Headings from '@components/Headings';\nimport Paginator from '@components/Navigation/Navigation.Paginator';\nimport SEO from '@components/SEO';\nimport Search from '@components/Search';\nimport Section from '@components/Section';\nimport { mediaquery } from '@styles/media';\nimport { Template, TTemplate, IPost, ITAOAThemeUIContext } from '@types';\n\nimport styled from '@emotion/styled';\nimport React, { useState, useContext } from 'react';\n\nconst SearchPage: Template = ({ location, pageContext }: TTemplate) => {\n  const { posts } = pageContext;\n  const { search } = pageContext.searchPageData.edges[0].node;\n\n  const [searchResults, setSearchResults] = useState(posts);\n  const pages = Math.ceil([...searchResults].length / search.pageLength);\n\n  const [currentPage, setCurrentPage] = useState(0);\n\n  const [searching, setSearching] = useState(true);\n\n  const [numSearchResults, setNumSearchResults] = useState(posts.length);\n\n  const { gridLayout } = useContext(GridLayoutContext);\n\n  const filter = (e: IPost, term: string): boolean => {\n    return e.title.toLowerCase().includes(term) || e.title.includes(term);\n  };\n\n  const sort = (a: IPost, b: IPost): number => {\n    if (a.dateForSEO > b.dateForSEO) {\n      return -1;\n    }\n    if (a.dateForSEO < b.dateForSEO) {\n      return 1;\n    }\n    return 0;\n  };\n\n  return (\n    <span>\n      <SEO pathname={location.pathname} />\n      <Section narrow>\n        <SearchContainer gridLayout={gridLayout}>\n          <SearchHeading>{search.heading}</SearchHeading>\n          <Search\n            setNumSearchResults={setNumSearchResults}\n            searchResults={searchResults}\n            setSearchResults={setSearchResults}\n            setCurrentPage={setCurrentPage}\n            searching={searching}\n            setSearching={setSearching}\n            elements={posts}\n            filter={filter}\n            sort={sort}\n            placeholder={search.placeholder}\n          />\n          <Horizontal />\n          <NumPostsHeader>{numSearchResults} results found</NumPostsHeader>\n          <PostsList\n            posts={searchResults.slice(\n              currentPage * search.pageLength,\n              (currentPage + 1) * search.pageLength\n            )}\n            currentPage={currentPage}\n            searching={searching}\n          />\n        </SearchContainer>\n        <PostsPaginator show={pageContext.pageCount > 1}>\n          <Paginator\n            {...{\n              pageCount: pages,\n              count: searchResults.slice(\n                (currentPage - 1) * search.pageLength,\n                currentPage * search.pageLength\n              ).length,\n              pathPrefix: '/bluh',\n              setCurrentPage: setCurrentPage,\n              currentPage: currentPage,\n              ...pageContext\n            }}\n          />\n        </PostsPaginator>\n      </Section>\n    </span>\n  );\n};\n\nexport default SearchPage;\n\nconst Horizontal = styled.div((p: ITAOAThemeUIContext) => ({\n  position: 'relative',\n  margin: '20px auto 50px',\n  borderBottom: `2px solid ${p.theme.colors.horizontalNav}`,\n\n  [mediaquery.tablet()]: {\n    margin: '20px auto'\n  }\n}));\n\ninterface IPostsPaginator extends ITAOAThemeUIContext {\n  show: boolean;\n}\nconst PostsPaginator = styled.div((p: IPostsPaginator) => ({\n  ...(p.show && { marginTop: '95px' }),\n  width: '100%'\n}));\n\ninterface ISearchContainerProps extends ITAOAThemeUIContext {\n  gridLayout: string;\n}\n\nconst SearchContainer = styled.div((p: ISearchContainerProps) => ({\n  position: 'relative',\n  bottom: 0,\n  left: 0,\n  zIndex: 1,\n  width: '100%',\n  padding: '200px 30px 50px',\n  transition: p.theme.colorModeTransition,\n  minHeight: p.gridLayout ? '1600px' : '1000px',\n\n  [mediaquery.phablet()]: {\n    padding: '150px 30px 0'\n  }\n}));\n\nconst SearchHeading = styled(Headings.h2)({\n  [mediaquery.phablet()]: {\n    padding: 0\n  }\n});\n\nconst NumPostsHeader = styled(Headings.h5)({\n  [mediaquery.phablet()]: {\n    padding: 0\n  }\n});\n"],"sourceRoot":""}