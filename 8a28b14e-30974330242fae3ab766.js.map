{"version":3,"sources":["webpack:///./node_modules/ace-builds/src-noconflict/ace.js"],"names":["global","this","window","define","module","deps","payload","arguments","length","modules","payloads","original","apply","console","error","trace","_require","parentId","callback","lookup","undefined","Object","prototype","toString","call","params","i","l","dep","require","push","packagedModule","moduleName","normalizeModule","indexOf","chunks","split","charAt","slice","join","previous","replace","exports","mod","id","uri","packaged","req","exportAce","ns","root","ace","Element","remove","defineProperty","enumerable","writable","configurable","value","parentNode","removeChild","OS","LINUX","MAC","WINDOWS","getOS","isMac","isLinux","_navigator","navigator","os","exec","platform","toLowerCase","ua","userAgent","appName","isWin","isIE","parseFloat","match","isOldIE","isGecko","isMozilla","isOpera","opera","isWebKit","isChrome","isEdge","isAIR","isAndroid","isChromeOS","isIOS","test","MSStream","isMobile","useragent","buildDom","arr","parent","refs","txt","document","createTextNode","appendChild","Array","isArray","els","ch","el","createElement","options","childIndex","keys","forEach","n","val","className","setAttribute","getDocumentHead","doc","head","getElementsByTagName","documentElement","tag","createElementNS","removeChildren","element","innerHTML","textContent","ownerDocument","createFragment","createDocumentFragment","hasCssClass","name","addCssClass","removeCssClass","classes","index","splice","toggleCssClass","add","setCssClass","node","include","hasCssString","sheets","querySelectorAll","importCssString","cssText","target","container","getRootNode","style","insertBefore","firstChild","importCssStylsheet","rel","href","scrollbarWidth","inner","width","minWidth","height","display","outer","position","left","overflow","body","noScrollbar","offsetWidth","withScrollbar","clientWidth","computedStyle","getComputedStyle","setStyle","styles","property","HAS_CSS_ANIMATION","HAS_CSS_TRANSFORMS","HI_DPI","devicePixelRatio","div","transform","animationName","translate","tx","ty","Math","round","top","inherits","ctor","superCtor","super_","create","constructor","mixin","obj","key","implement","proto","oop","Keys","ret","MODIFIER_KEYS","16","17","18","224","91","92","93","KEY_MODS","FUNCTION_KEYS","8","9","13","19","27","32","33","34","35","36","37","38","39","40","44","45","46","96","97","98","99","100","101","102","103","104","105","112","113","114","115","116","117","118","119","120","121","122","123","144","145","PRINTABLE_KEYS","48","49","50","51","52","53","54","55","56","57","59","61","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","107","109","110","186","187","188","189","190","191","192","219","220","221","222","111","106","parseInt","enter","escape","esc","del","mods","pow","filter","x","keyCodeToString","keyCode","keyString","String","fromCharCode","activeListenerOptions","pressedKeys","ts","getListenerOptions","detectListenerOptionsSupport","createComment","addEventListener","passive","e","EventListener","elem","type","destroy","removeListener","addListener","destroyer","$toDestroy","removeEventListener","stopEvent","stopPropagation","preventDefault","getButton","ctrlKey","altKey","shiftKey","button","capture","eventHandler","releaseCaptureHandler","onMouseUp","addMouseWheelListener","wheelDeltaX","wheelX","wheelY","wheelDeltaY","wheelDelta","deltaMode","DOM_DELTA_PIXEL","deltaX","deltaY","DOM_DELTA_LINE","DOM_DELTA_PAGE","axis","HORIZONTAL_AXIS","detail","addMultiMouseDownListener","elements","timeouts","callbackName","startX","startY","timer","clicks","eventNames","2","3","4","onMousedown","isNewClick","abs","clientX","clientY","clearTimeout","setTimeout","_clicks","getModifierHash","metaKey","normalizeCommandKeys","hashId","getModifierState","altGr","location","keyLocation","timeStamp","defaultPrevented","resetPressedKeys","getModifierString","addCommandKeyListener","isOldGecko","lastKeyDownKeyCode","lastDefaultPrevented","result","postMessage","postMessageId","nextTick","win","messageName","listener","data","$idleBlocked","onIdle","cb","timeout","handler","$idleBlockId","blockIdle","delay","nextFrame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","bind","Range","startRow","startColumn","endRow","endColumn","start","row","column","end","isEqual","range","contains","compare","compareRange","cmp","comparePoint","p","containsRange","intersects","isEnd","isStart","setStart","setEnd","inside","insideStart","insideEnd","isMultiLine","compareStart","compareEnd","compareInside","clipRows","firstRow","lastRow","fromPoints","extend","isEmpty","clone","collapseRows","max","toScreenRange","session","screenPosStart","documentToScreenPosition","screenPosEnd","moveBy","comparePoints","p1","p2","last","a","stringReverse","string","reverse","stringRepeat","count","trimBeginRegexp","trimEndRegexp","stringTrimLeft","stringTrimRight","copyObject","copy","copyArray","array","deepCopy","arrayToMap","map","createMap","props","arrayRemove","escapeRegExp","str","escapeHTML","getMatchOffsets","regExp","matches","offset","deferredCall","fcn","deferred","cancel","schedule","isPending","delayedCall","defaultTimeout","_self","$cancelT","lineMode","pasteCancelled","Date","now","event","dom","lang","clipboard","BROKEN_SETDATA","USE_IE_MIME_TYPE","HAS_FOCUS_ARGS","KEYS","MODS","valueResetRegex","TextInput","host","text","opacity","copied","pasted","inComposition","sendingText","tempStyle","fontSize","commandMode","ignoreFocusEvents","lastValue","lastSelectionStart","lastSelectionEnd","lastRestoreEnd","isFocused","activeElement","onBlur","hasFocus","onFocus","resetSelection","$focusScroll","focus","preventScroll","isTransformed","getBoundingClientRect","ancestors","t","parentElement","nodeType","removeAttribute","blur","on","curOp","commandName","command","isUserAction","docChanged","selectionChanged","onCompositionEnd","newValue","selectionEnd","selection","setSelectionRange","afterContextMenu","selectionStart","line","getRange","cursor","getLine","prevLine","nextLine","inputHandler","setInputHandler","getInputHandler","sendText","fromInput","onPaste","extendLeft","extendRight","inserted","restoreStart","restoreEnd","endIndex","shouldReset","onTextInput","onInput","onCompositionUpdate","inputType","execCommand","MAX_LINE_LENGTH","handleClipboardData","forceIEMime","clipboardData","mime","setData","getData","doCopy","isCut","getCopyText","onCut","onCopy","select","onCommandKey","onSelect","isAllSelected","selectAll","$readOnly","cancelComposition","useTextareaForIME","markerRange","context","compositionStartOffset","off","closeTimeout","syncComposition","onContextMenuClose","renderer","$isMousePressed","$keepTextAreaAtCursor","$moveTextAreaToCursor","onCompositionStart","_signal","getSelectionRange","msGetInputContext","getInputContext","onKeyup","getElement","setCommandMode","readOnly","setReadOnly","setCopyWithEmptySelection","onContextMenu","_emit","domEvent","moveToMouse","bringToFront","characterWidth","rect","borderTopWidth","borderLeftWidth","maxTop","bottom","clientHeight","move","min","textInput","scroller","addIosSelectionHandler","typingResetTimeout","typing","detectArrowKeys","$mouseHandler","isMousePressed","modifier","up","home","option","down","right","shift","commands","findKeyCommand","$setUserAgentForTests","_isMobile","_isIOS","DefaultHandlers","mouseHandler","$clickSelection","editor","setDefaultHandler","onMouseDown","onDoubleClick","onTripleClick","onQuadClick","onMouseWheel","selectByLines","extendSelectionBy","selectByWords","calcRangeOrientation","anchor","ev","inSelection","pos","getDocumentPosition","mousedownEvent","moveToPosition","time","$focusTimeout","inMultiSelectMode","captureMouse","startSelect","setState","waitForClickSelection","screenToTextCoordinates","y","getShiftKey","selectToPosition","setCapture","orientedRange","setSelectionAnchor","scrollCursorIntoView","unitName","cmpStart","cmpEnd","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","unsetStyle","releaseCapture","focusWait","distance","calcDistance","ax","ay","bx","by","sqrt","getBracketRange","getWordRange","getLineRange","getAccelKey","$lastScroll","vx","vy","allowed","prevScroll","dt","direction","canScroll","isScrollableBy","speed","scrollBy","stop","Tooltip","isOpen","$element","$parentNode","$init","setText","setHtml","html","setPosition","setClassName","show","hide","getHeight","offsetHeight","getWidth","GutterTooltip","windowWidth","innerWidth","windowHeight","innerHeight","GutterHandler","tooltipTimeout","mouseEvent","tooltipAnnotation","gutter","$gutterLayer","tooltip","hideTooltip","moveTooltip","getRegion","selectTo","srcElement","$tooltipFollowsMouse","showTooltip","annotation","$annotations","getLength","screenRow","pixelToScreenCoordinates","$pos","documentToScreenRow","$gutter","MouseEvent","$inSelection","propagationStopped","selectionRange","DragdropHandler","blankImage","src","dragSelectionMarker","timerId","dragCursor","dragOperation","isInternal","autoScrollStartTime","cursorMovedTime","cursorPointOnCaretMoved","mouseTarget","counter","onDragInterval","prevCursor","vMovement","hMovement","moveCursorToPosition","autoScroll","lineHeight","layerConfig","editorRect","offsets","nearestXOffset","nearestYOffset","scrollCursor","vScroll","hScroll","addDragMarker","toOrientedRange","addMarker","getSelectionStyle","clearSelection","$cursorLayer","setBlinking","clearInterval","setInterval","onMouseMove","clearDragMarker","removeMarker","fromOrientedRange","$resetCursorStyle","onDragStart","cancelDrag","draggable","self","dataTransfer","effectAllowed","getReadOnly","scrollTop","setDragImage","clearData","getTextRange","onDragEnd","dropEffect","setCursorStyle","onDragEnter","canAccept","getDropEffect","onDragOver","onMouseMoveTimer","onDragLeave","onDrop","moveText","dropData","insert","types","some","copyAllowed","copyModifierState","dragWait","getDragDelay","startDrag","dragWaitEnd","dragReadyEnd","cursorStyle","onMouseDrag","state","dragDrop","$dragEnabled","eventTarget","unselectable","addTouchListeners","touchStartT","lastT","longTouchTimer","animationTimer","pressed","contextMenu","mode","animationSteps","clickCount","vX","vY","createContextMenu","handleClick","action","getAttribute","updateMenu","selected","hasUndo","getUndoManager","replaceChild","class","readText","then","writeText","ontouchstart","ontouchend","onclick","showContextMenu","pagePos","textToScreenCoordinates","leftOffset","pageX","scrollLeft","pageY","hideContextMenu","handleLongTap","selectWord","touches","h","w","touchObj","switchToSelectionMode","setRange","cursorPos","getPixelPosition","anchorPos","offsetTop","offsetLeft","weightedDistance","diff1","diff2","animate","oldScrollTop","getScrollTop","get","url","xhr","XMLHttpRequest","open","onreadystatechange","readyState","responseText","send","loadScript","path","s","onload","_","isAbort","qualifyURL","EventEmitter","_dispatchEvent","eventName","_eventRegistry","_defaultHandlers","listeners","defaultHandler","once","newCallback","Promise","resolve","handlers","_disabled_","old","disabled","removeDefaultHandler","pop","capturing","removeAllListeners","optionsProvider","setOptions","optList","setOption","getOptions","optionNames","$options","hidden","getOption","opt","warn","forwardTo","handlesSet","set","message","reportError","msg","Error","AppConfig","$defaultOptions","defineOptions","initialValue","resetOptions","setDefaultValue","opts","setDefaultValues","optionHash","net","workerPath","modePath","themePath","basePath","suffix","$moduleUrls","loadWorkerFromBlob","sharedPopups","hasOwnProperty","all","$modes","moduleUrl","component","parts","sep","base","re","RegExp","setModuleUrl","subst","$loading","loadModule","onLoad","moduleType","afterLoad","_reportErrorIfPathIsNotConfigured","reportErrorIfPathIsNotConfigured","init","scriptOptions","scriptUrl","currentScript","_currentScript","scripts","script","attributes","j","attr","m","m1","toUpperCase","version","DefaultGutterHandler","config","MouseHandler","focusEditor","getMouseEventTarget","onMouseEvent","scrollBarV","scrollBarH","Boolean","gutterEl","$dragDelay","character","mousemove","$scrollSpeed","mouseMoveHandler","which","releaseMouse","$mouseMoved","onCaptureEnd","onOperationEnd","onCaptureInterval","$onCaptureMouseMove","endOperation","startOperation","cancelContextMenu","scrollSpeed","dragDelay","dragEnabled","focusTimeout","tooltipFollowsMouse","FoldHandler","fold","getFoldAt","removeFold","expandFold","getUseWrapMode","foldWidgets","onFoldWidgetClick","getParentFoldRangeData","firstRange","addFold","keyUtil","KeyBinding","$editor","$data","$handlers","kb","removeKeyboardHandler","$defaultHandler","addKeyboardHandler","setKeyboardHandler","handleKeyboard","attach","detach","getKeyboardHandler","getStatusText","$callKeyboardHandlers","toExecute","success","args","passEvent","dir","hiLevel","lastArabic","hasUBAT_B","hasUBAT_S","impTab_LTR","impTab_RTL","UnicodeTBL00","UnicodeTBL20","_invertLevel","lev","levels","_array","lo","hi","tmp","len","_getCharClass","chars","ix","wType","nType","cType","c","rtlCandidate","_getCharacterType","uc","charCodeAt","L","R","EN","ON_R","AN","R_H","B","RLE","DOT","doBidiReorder","textCharTypes","isRtl","logicalFromVisual","bidiLevels","_computeLevels","charTypes","impTab","prevState","newClass","newLevel","newState","condPos","hasBidiCharacters","getVisualFromLogicalIdx","logIdx","rowMap","bidiUtil","bidiRE","BidiHandler","bidiMap","currentRow","charWidths","EOL","showInvisibles","isRtlDir","$isRtl","wrapIndent","EOF","contentWidth","fontMetrics","rtlLineOffset","wrapOffset","isMoveLeftOperation","seenBidi","getValue","isBidiRow","docRow","splitIndex","updateRowLine","updateBidiMap","onChange","delta","lines","getDocumentRow","rowCache","$screenRowCache","$getRowCacheIndex","$docRowCache","getSplitIndex","currentIndex","prevIndex","endOfLine","$useWrapMode","splits","$wrapData","indent","substring","size","isFullWidth","getScreenTabSize","$main","substr","markAsDirty","updateCharacterWidths","$characterSize","bidiCharWidth","$measureCharWidth","setShowInvisibles","setEolChar","eolChar","setContentWidth","isRtlLine","setRtlDirection","getCursorPosition","getSelectionAnchor","$bidiHandler","removeInLine","getPosLeft","col","leftBoundary","logicalIdx","getOverwrite","visualIdx","getSelections","startCol","endCol","level","selections","selColMin","selColMax","isSelected","isSelectedPrev","visIdx","offsetToCol","posX","charWidth","Selection","getDocument","lead","createAnchor","$silent","$cursorChanged","$isEmpty","$keepDesiredColumnOnChange","$desiredColumn","$anchorChanged","getCursor","getPosition","getAnchor","getSelectionLead","isBackwards","$setSelection","Number","MAX_VALUE","anchorRow","anchorColumn","cursorRow","cursorColumn","wasEmpty","wasMultiselect","$moveSelection","mover","moveCursorTo","moveTo","selectUp","moveCursorUp","selectDown","moveCursorDown","selectRight","moveCursorRight","selectLeft","moveCursorLeft","selectLineStart","moveCursorLineStart","selectLineEnd","moveCursorLineEnd","selectFileEnd","moveCursorFileEnd","selectFileStart","moveCursorFileStart","selectWordRight","moveCursorWordRight","selectWordLeft","moveCursorWordLeft","selectAWord","getAWordRange","excludeLastChar","rowEnd","rowStart","foldLine","getFoldLine","selectLine","moveCursorBy","wouldMoveIntoSoftTab","tabSize","isTabStop","getTabSize","getNavigateWithinSoftTabs","firstColumnPosition","screenToDocumentPosition","leadingSpace","getDisplayLine","$useEmacsStyleLineStart","lineEnd","getDocumentLastRowColumnPosition","textEnd","search","moveCursorLongWordRight","rightOfCursor","nonTokenRe","lastIndex","tokenRe","moveCursorLongWordLeft","getFoldStringAt","leftOfCursor","$shortWordEndIndex","whitespaceRe","moveCursorShortWordRight","moveCursorShortWordLeft","$selectLongWords","rows","offsetX","screenPos","lineWidgets","widget","rowsAbove","rowCount","docPos","keepDesiredColumn","moveCursorToScreen","desiredColumn","r","getRangeOfMovements","func","toJSON","rangeCount","ranges","r1","fromJSON","rangeList","toSingleRange","addRange","MAX_TOKEN_COUNT","Tokenizer","rules","states","regExps","matchMappings","ruleRegExps","matchTotal","mapping","defaultToken","flag","splitterRurles","rule","caseInsensitive","regex","adjustedregex","matchcount","token","groupCount","tokenArray","onMatch","$arrayTokens","$applyToken","digit","removeCapturingGroups","splitRegex","createSplitterRegexp","$setMaxTokenCount","values","tokens","stack","inChClass","lastCapture","parenOpen","parenClose","square","getLineTokens","startState","currentState","matchAttempts","skipped","next","consumeLineEnd","merge","unshift","TextHighlightRules","$rules","addRules","prefix","nextState","getRules","embedRules","HighlightRules","escapeRules","append","$embeds","getEmbeds","pushState","popState","normalizeRules","processState","processed","toInsert","stateName","includeName","concat","noEscape","keywordMap","createKeywordMapper","ignoreCase","splitChar","keywords","$keywordList","list","word","getKeywords","$keywords","Behaviour","$behaviours","addBehaviours","behaviours","inherit","getBehaviours","TokenIterator","initialRow","initialColumn","$session","$row","$rowTokens","getTokens","getTokenAt","$tokenIndex","stepBackward","stepForward","getCurrentToken","getCurrentTokenRow","getCurrentTokenColumn","rowTokens","tokenIndex","getCurrentTokenPosition","getCurrentTokenRange","SAFE_INSERT_IN_TOKENS","SAFE_INSERT_BEFORE_TOKENS","contextCache","defaultQuotes","initContext","multiSelect","autoInsertedBrackets","autoInsertedRow","autoInsertedLineEnd","maybeInsertedBrackets","maybeInsertedRow","maybeInsertedLineStart","maybeInsertedLineEnd","getWrapped","opening","closing","rowDiff","CstyleBehaviour","getWrapBehavioursEnabled","isSaneInsertion","braces","recordAutoInsert","recordMaybeInsert","$findOpeningBracket","isAutoInsertedClosing","popAutoInsertedClosing","isMaybeInsertedClosing","clearMaybeInsertedClosing","openBracePos","findMatchingBracket","next_indent","$getIndent","getTabString","quotes","$mode","$quotes","lineCommentStart","quote","leftChar","rightChar","rightToken","pair","stringBefore","stringAfter","wordRe","isWordBefore","isWordAfter","charBefore","iterator","$matchTokenType","iterator2","bracket","wordChars","code","unicode","Mode","$defaultBehaviour","getTokenizer","$tokenizer","$highlightRules","$highlightRuleConfig","blockComment","toggleCommentLines","ignoreBlankLines","shouldRemove","minIndent","Infinity","insertAtTabStop","regexpStart","getUseSoftTabs","uncomment","shouldInsertSpace","commentWithSpace","comment","insertInLine","testRemove","before","after","spaces","lineCommentEnd","regexpEnd","iter","fun","minEmptyLength","floor","toggleBlockComment","colDiff","initialRange","startRange","endRange","getNextLineIndent","tab","checkOutdent","input","autoOutdent","createWorker","createModeDelegates","$id","delegations","scope","functionName","$delegator","method","language","transformAction","param","$behaviour","completionKeywords","ruleItr","aLength","$createKeywordList","getCompletions","score","meta","applyDelta","docLines","doNotValidate","Anchor","$onChange","$pointsInOrder","point1","point2","equalPointsInOrder","bColIsAfter","$clipPositionToDocument","$insertRight","point","$getTransformedPoint","moveIfEqual","deltaIsInsert","deltaRowShift","deltaColShift","deltaStart","deltaEnd","noClip","Document","textOrLines","$lines","insertMergedLines","setValue","getAllLines","getNewLineCharacter","$split","$detectNewLine","$autoNewLine","$newLineMode","setNewLineMode","newLineMode","getNewLineMode","isNewLine","getLines","getLinesForRange","insertLines","insertFullLines","removeLines","removeFullLines","insertNewLine","clippedPos","clonePos","$clipPosition","deleteFirstNewLine","deleteLastNewLine","deletedLines","removeNewLine","applyDeltas","deltas","revertDeltas","revertDelta","isInsert","$splitAndapplyLargeDelta","$safeApplyDelta","docLength","MAX","from","to","chunk","indexToPosition","newlineLength","positionToIndex","BackgroundTokenizer","tokenizer","running","currentLine","$worker","workerStart","endLine","startLine","processedLines","$tokenizeRow","fireUpdateEvent","setTokenizer","setDocument","first","scheduleStart","$updateOnChange","getState","SearchHighlight","clazz","setRegexp","MAX_RANGES","cache","update","markerLayer","drawSingleLineMarker","FoldLine","foldData","folds","setFoldLine","shiftRow","sameRow","sort","b","containsRow","walk","lastEnd","isNewRow","placeholder","getNextFoldTo","kind","addRemoveChars","log","foldBefore","newFoldLine","foldLineNext","idxToPosition","idx","lastFoldEndColumn","RangeList","$bias","pointIndex","excludeEdges","startIndex","addList","removed","substractPoint","containsPoint","rangeAtPoint","clipped","removeAll","lineDif","Fold","subFolds","consumePoint","restorePoint","subFold","collapseChildren","addSubFold","consumeRange","afterStart","firstConsumed","consumedFolds","k","restoreRange","Folding","side","getFoldsInRange","foldLines","$foldData","foundFolds","getFoldsInRangeList","getAllFolds","trim","lastFold","startFoldLine","getNextFoldLine","getFoldedRowCount","$addFoldLine","added","$clipRangeToDocument","startFold","endFold","removeFolds","$updateWrapData","$updateRowLengthCache","$modified","addFolds","$updating","cloneFolds","foldAll","expandFolds","unfold","expandInner","isRowFolded","startFoldRow","getRowFoldEnd","getRowFoldStart","getFoldDisplayLine","textLine","lastColumn","$cloneFoldData","fd","toggleFold","tryToUnfold","bracketPos","getCommentFoldRange","depth","getFoldWidget","getFoldWidgetRange","foldToLevel","foldAllComments","$foldStyles","$foldStyle","setFoldStyle","$foldMode","$setFolding","foldMode","$updateFoldWidgets","$tokenizerUpdateFoldWidgets","updateFoldWidgets","tokenizerUpdateFoldWidgets","ignoreCurrent","fw","children","siblings","$toggleFoldWidget","toggleFoldWidget","toggleParent","BracketMatch","chr","charBeforeCursor","$findClosingBracket","getMatchingBracketRanges","$brackets","typeRe","openBracket","valueIndex","closingBracket","valueLength","TextMode","EditSession","$breakpoints","$decorations","$frontMarkers","$backMarkers","$markerId","$undoSelect","$uid","onChangeFold","setMode","bgTokenizer","resetCaches","$resetRowCache","cacheArray","low","mid","$rowLengthCache","removedFolds","$updateInternalDataOnChange","$fromUndo","$undoManager","mergeUndoDeltas","$informUndoManager","setUndoManager","reset","getSelection","undoManager","addSession","$syncInformUndoManager","markUndoGroup","$defaultUndoManager","undo","redo","hasRedo","addSelection","startNewGroup","setUseSoftTabs","$useSoftTabs","$indentWithTabs","setTabSize","$tabSize","setNavigateWithinSoftTabs","navigateWithinSoftTabs","$navigateWithinSoftTabs","$overwrite","setOverwrite","overwrite","toggleOverwrite","addGutterDecoration","removeGutterDecoration","getBreakpoints","setBreakpoints","clearBreakpoints","setBreakpoint","clearBreakpoint","inFront","marker","addDynamicMarker","markerId","getMarkers","highlight","$searchHighlight","highlightLines","setAnnotations","annotations","getAnnotations","clearAnnotations","inToken","wordRange","setUseWorker","useWorker","getUseWorker","$useWorker","onReloadTokenizer","$modeId","$onChangeMode","$isPlaceholder","oldMode","$stopWorker","$startWorker","attachToSession","wrapMethod","$wrapMethod","foldingRules","terminate","getMode","$scrollTop","setScrollTop","isNaN","$scrollLeft","setScrollLeft","getScrollLeft","getScreenWidth","$computeWidth","getLineWidgetMaxWidth","screenWidth","lineWidgetsWidth","lineWidgetWidth","force","$wrapLimit","longestScreenLine","foldIndex","foldStart","$getStringScreenWidth","undoChanges","dontSelect","selectionBefore","$getUndoSelection","redoChanges","selectionAfter","setUndoSelect","enable","isUndo","fromRange","toPosition","toRange","collDiff","oldStart","newStart","indentRows","indentString","outdentRows","rowRange","deleteRange","$moveLines","diff","$clipRowToDocument","moveLinesUp","moveLinesDown","duplicateLines","$clipColumnToRow","$wrapLimitRange","setUseWrapMode","useWrapMode","setWrapLimitRange","adjustWrapLimit","desiredLimit","$printMargin","limits","wrapLimit","$constrainWrapLimit","getWrapLimit","setWrapLimit","limit","getWrapLimitRange","foldLineBefore","wrapData","walkTokens","$getDisplayTokens","PLACEHOLDER_START","PLACEHOLDER_BODY","$computeWrapSplits","displayLength","lastSplit","lastDocSplit","isCode","$wrapAsCode","indentedSoftWrap","$indentedSoftWrap","maxIndent","addSplit","getWrapIndent","indentation","minSplit","maxScreenColumn","screenColumn","getRowLength","getRowLineCount","getRowWrapIndent","getScreenLastRowColumn","documentToScreenColumn","getDocumentLastRowColumn","docColumn","getRowSplitData","screenToDocumentRow","screenToDocumentColumn","rowLength","doCache","maxRow","foldStartRow","wrapRow","screenRowOffset","getScreenLength","screenRows","$getWidgetScreenLength","$setFontMetrics","fm","$enableVarChar","getCharacterWidth","wrap","$wrap","firstLineNumber","useSoftTabs","foldStyle","Search","find","$matchIterator","sr","sc","er","ec","skipCurrent","findAll","needle","$assembleRegExp","$isMultiLine","prevRange","replacement","preserveCase","$disableFakeMultiline","wholeWord","addWordBoundary","wordBoundary","caseSensitive","$assembleMultilineRegExp","backwards","forEachInLine","HashHandler","commandKeyBinding","addCommands","$singleCommand","MultiHashHandler","bindKey","isDefault","addCommand","removeCommand","_buildKeyHash","keepCommand","ckb","keyId","cmdGroup","keyPart","chain","binding","parseKeys","_addCommandToBinding","removeCommands","bindKeys","keyList","$keyChain","CommandManager","byName","$checkCommandState","isAvailable","returnValue","toggleRecording","$inReplay","recording","macro","$addCommandToMacro","oldMacro","replay","trimMacro","mac","showSettingsMenu","showErrorMarker","scrollIntoView","description","centerSelection","gotoLine","prompt","$type","multiSelectAction","getAllRanges","findNext","findPrevious","aceCommandGroup","navigateFileStart","navigateUp","times","navigateFileEnd","navigateDown","navigateWordLeft","navigateLineStart","navigateLeft","navigateWordRight","navigateLineEnd","navigateRight","selectPageDown","scrollPageDown","gotoPageDown","selectPageUp","scrollPageUp","gotoPageUp","jumpToMatching","$copyWithEmptySelection","$handlePaste","duplicateSelection","sortLines","modifyNumber","copyLinesUp","copyLinesDown","removeToLineStart","removeToLineEnd","removeWordLeft","removeWordRight","blockOutdent","blockIndent","splitLine","transposeLetters","transposeSelections","autoIndent","firstLineEndCol","selectedCount","insertLine","curLine","newRanges","exitMultiSelectMode","defaultCommands","Editor","getContainerElement","getTextAreaContainer","textarea","keyBinding","$search","$historyTracker","$initOperationListeners","_$emitInputEvent","setSession","$opResetTimer","$lastSel","prevOp","commandEvent","previousCommand","scrollSelectionIntoView","animateScrolling","sel","$mergeableCommands","$mergeUndoDeltas","prev","mergeableCommands","shouldMerge","mergeNextCommand","sequenceStartTime","keyboardHandler","$keybindingId","oldSession","$onDocumentChange","$onTokenizerUpdate","$onChangeTabSize","$onChangeWrapLimit","$onChangeWrapMode","$onChangeFold","$onChangeFrontMarker","$onChangeBackMarker","$onChangeBreakpoint","$onChangeAnnotation","$onCursorChange","$onScrollTopChange","$onScrollLeftChange","$onSelectionChange","onDocumentChange","onChangeMode","onTokenizerUpdate","onChangeTabSize","onChangeWrapLimit","onChangeWrapMode","onChangeFrontMarker","onChangeBackMarker","onChangeBreakpoint","onChangeAnnotation","onCursorChange","onScrollTopChange","onScrollLeftChange","onSelectionChange","updateFull","oldEditor","getSession","resize","onResize","setTheme","theme","getTheme","getFontSize","setFontSize","$highlightBrackets","$highlightPending","$bracketHighlight","markerIds","getMatching","markerType","$highlightTags","$highlightTagPending","$tagHighlight","currentTag","prevToken","stepCount","tmpToken","sbm","$isFocused","showCursor","visualizeFocus","hideCursor","visualizeBlur","$cursorChange","updateCursor","$updateHighlightActiveLine","updateLines","scrollToY","scrollToX","$highlightActiveLine","$selectionStyle","$selectionColorConflict","$maxLines","$minLines","$highlightLineMarker","$selectionMarker","$highlightSelectedWord","$getSelectionHighLightRegexp","wordWithBoundary","updateFrontMarkers","updateBackMarkers","updateBreakpoints","updateText","getSelectedText","nl","copyLine","inVirtualSelectionMode","isFullLine","getBehavioursEnabled","d","lineState","shouldOutdent","$enableAutoIndent","lineIndent","selectedRange","currIndent","prevLineState","composition","applyComposition","forEachSelection","setScrollSpeed","getScrollSpeed","setDragDelay","setSelectionStyle","setHighlightActiveLine","shouldHighlight","getHighlightActiveLine","setHighlightGutterLine","getHighlightGutterLine","setHighlightSelectedWord","getHighlightSelectedWord","setAnimatedScroll","shouldAnimate","getAnimatedScroll","getShowInvisibles","setDisplayIndentGuides","getDisplayIndentGuides","setShowPrintMargin","showPrintMargin","getShowPrintMargin","setPrintMarginColumn","getPrintMarginColumn","setBehavioursEnabled","enabled","setWrapBehavioursEnabled","setShowFoldWidgets","getShowFoldWidgets","setFadeFoldWidgets","fade","getFadeFoldWidgets","new_range","swap","originalRange","$getSelectedRows","getNumberAt","_numberRx","amount","charRange","isFinite","nr","fp","decimals","nnr","toFixed","replaceRange","toggleWord","$toggleWordPairs","currWordStart","wordParts","curLength","itLength","that","item","reg","wordPairs","negate","firstCondition","res","endPoint","moved","totalDiff","rangeIndex","subRows","compositionState","showComposition","setCompositionText","hideComposition","getFirstVisibleRow","getLastVisibleRow","isRowVisible","isRowFullyVisible","getFirstFullyVisibleRow","getLastFullyVisibleRow","$getVisibleRowCount","getScrollBottomRow","getScrollTopRow","$moveByPage","scrollToRow","scrollToLine","center","alignCursor","getCursorPositionScreen","expand","matchType","bracketType","found","brackets","lineNumber","navigateTo","replaced","$tryReplace","replaceAll","getLastSearchOptions","newRange","revealRange","setAutoScrollEditorIntoView","shouldScroll","$scrollAnchor","scrollAnchor","onChangeSelection","onBeforeRender","onAfterRender","searchBox","$pixelPos","$cursorStyle","cursorLayer","setSmoothBlinking","isBlinking","selectionStyle","highlightActiveLine","highlightSelectedWord","copyWithEmptySelection","behavioursEnabled","wrapBehavioursEnabled","enableAutoIndent","autoScrollEditorIntoView","showLineNumbers","setShowLineNumbers","$loop","CHANGE_GUTTER","$relativeLineNumbers","relativeNumberRenderer","relativeLineNumbers","$showLineNumbers","$updatePlaceholder","$composition","placeholderNode","$placeholder","content","hScrollBarAlwaysVisible","vScrollBarAlwaysVisible","highlightGutterLine","animatedScroll","printMarginColumn","printMargin","fadeFoldWidgets","showFoldWidgets","displayIndentGuides","showGutter","fontFamily","maxLines","minLines","scrollPastEnd","fixedWidthGutter","hasCssTransforms","maxPixelHeight","getText","lastLineNumber","$renderer","UndoManager","$maxRev","allowMerge","$lastDelta","$keepRedoStack","$redoStack","lastDeltas","$undoStack","$rev","rev","markIgnored","ignore","getRevision","getDeltas","getChangedRanges","getChangedLines","rearrangeUndoStack","deltaSet","swapped","swapGroups","$redoStackBaseRev","undoSelectionRange","$syncRev","rebaseRedoStack","redoStack","deltaSets","moveDeltasByOne","redoSelectionRange","nextDelta","mark","canUndo","canRedo","bookmark","isAtBookmark","isClean","markClean","$prettyPrint","stringifyDelta","stringifyRange","d1","d2","i1","i2","ds1","ds2","xform","c1","splitDelta","shiftPos","rowsBefore","otherLines","cloneDelta","xformed","Lines","canvasHeight","cells","cellCache","$offsetCoefficient","moveContainer","firstRowScreen","pageChanged","oldConfig","newConfig","computeLineTop","screenTop","screenPage","computeLineHeight","$cacheCell","cell","fragment","insertAdjacentElement","createCell","initElement","Gutter","parentEl","$showFoldWidgets","gutterWidth","$updateAnnotations","onCreateCell","textNode","foldWidget","rowInfo","annoText","gutterOffset","oldLastRow","$updateCursorRow","$renderCell","$updateGutterWidth","gutterRenderer","$firstLineNumber","lastLineText","$fixedWidth","padding","$padding","$computePadding","ceil","$highlightGutterLine","$cursorRow","updateLineHighlight","$cursorCell","scrollLines","$renderLines","childNodes","breakpoints","decorations","foldHeight","getShowLineNumbers","paddingLeft","borderRightWidth","paddingRight","Marker","setPadding","setMarkers","markers","elt","css","$getTop","drawFullLineMarker","drawScreenLineMarker","drawTextMarker","drawMultiLineMarker","childElementCount","lastChild","stringBuilder","extraStyle","curr","lineRange","range1","drawBidiSingleLineMarker","radiusClass","extraLength","Text","$updateEolChar","EOF_CHAR","EOL_CHAR_LF","EOL_CHAR_CRLF","EOL_CHAR","TAB_CHAR","SPACE_CHAR","margin","getLineHeight","$fontMetrics","measure","$pollSizeChanges","checkForSizeChanges","$pollSizeChangesTimer","$computeTabString","showSpaces","showTabs","showEOL","$tabStrings","tabStr","span","$indentGuideRe","spaceClass","spaceContent","tabClass","tabContent","lineElements","lineElementsIdx","heightChanged","lineElement","$renderLine","$renderLinesFragment","lineEl","$useLineGroups","$textToken","$renderToken","valueFragment","simpleSpace","controlCharacter","cjkSpace","cjk","cloneNode","com","renderIndentGuide","cols","$createLineElement","$renderWrappedLine","splitChars","$renderOverflowMessage","$renderSimpleLine","overflowEl","$getFoldLineTokens","lastLineEl","invisibleEl","renderTokens","addTokens","Cursor","isVisible","blinkInterval","smoothBlinking","cursors","addCursor","$updateCursors","$updateOpacity","$startCssAnimation","animationDuration","$stopCssAnimation","blinking","restartTimer","setBlinkInterval","removeCursor","intervalId","timeoutId","blink","onScreen","isCursorInView","pixelPos","maxHeight","$selectionMarkers","cursorIndex","drawCursor","$setOverwrite","ScrollBar","classSuffix","setVisible","skipEvent","onScroll","coeff","VScrollBar","scrollHeight","$scrollbarWidth","$minWidth","setHeight","setInnerHeight","setScrollHeight","HScrollBar","setWidth","setInnerWidth","setScrollWidth","ScrollBarV","ScrollBarH","RenderLoop","onRender","pending","changes","$recursionLimit","_flush","change","clear","USE_OBSERVER","ResizeObserver","FontMetrics","$setMeasureNodeStyles","$measureNode","$addObserver","isRoot","visibility","whiteSpace","font","$measureSizes","fontWeight","boldSize","charSizes","allowBoldFonts","$observer","observe","setPolling","disconnect","$getZoom","getZoom","zoom","$initTransformMeasureNodes","_t","transformCoordinates","clientPos","elPos","mul","solve","l1","l2","det","sub","m2","ut","u","f","GutterLayer","MarkerLayer","TextLayer","CursorLayer","editorCss","HIDE_TEXTAREA","VirtualRenderer","onGutterResize","$markerBack","textLayer","$textLayer","canvas","$markerFront","$horizScroll","$vScroll","scrollBar","$scrollAnimation","scrollMargin","updateCharacterSize","$size","scrollerHeight","scrollerWidth","$dirty","minHeight","v","$renderChanges","defaultView","CHANGE_FULL","CHANGE_CURSOR","CHANGE_MARKER","CHANGE_SCROLL","CHANGE_LINES","CHANGE_TEXT","CHANGE_SIZE","CHANGE_MARKER_BACK","CHANGE_MARKER_FRONT","CHANGE_H_SCROLL","$allowBoldFonts","$updatePrintMargin","onChangeNewLineMode","$changedLines","updateFontSize","$changes","$updateSizeAsync","resizing","scrollWidth","$updateCachedSize","$extraHeight","oldSize","$showGutter","$computeLayerConfig","availableWidth","$showPrintMargin","$printMarginColumn","$animatedScroll","getShowGutter","setShowGutter","$printMarginEl","containerEl","posTop","posLeft","setScrollMargin","sm","setMargin","getHScrollBarAlwaysVisible","$hScrollBarAlwaysVisible","setHScrollBarAlwaysVisible","alwaysVisible","getVScrollBarAlwaysVisible","$vScrollBarAlwaysVisible","setVScrollBarAlwaysVisible","$updateScrollBarV","$scrollPastEnd","$updateScrollBarH","$frozen","freeze","unfreeze","st","$updateLines","$autosize","desiredHeight","$maxPixelHeight","$gutterWidth","hideScrollbars","longestLine","$getLongestLine","horizScroll","hScrollChanged","vScrollBefore","vScrollChanged","firstRowHeight","lineCount","charCount","$viewMargin","topMargin","bottomMargin","alignment","STEPS","$calcSteps","fromValue","toValue","steps","x_min","dx","initialScroll","oldSteps","$timer","scrollTo","canvasPos","$hasCssTransforms","$blockCursor","$useTextareaForIME","addToken","removeExtraToken","newToken","$themeId","cssClass","$theme","isDark","setMouseCursor","attachToShadowRoot","workerUrl","Worker","blob","$workerBlob","Blob","blobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","getBlob","blobURL","URL","webkitURL","createObjectURL","WorkerClient","worker","$createWorkerFromOldConfig","$sendDeltaQueue","changeListener","onMessage","callbackId","callbacks","onmessage","topLevelNamespaces","classname","importScripts","nameToUrl","toUrl","normalizePath","$normalizePath","tlns","err","deltaQueue","$doc","cmd","emit","ex","attachToDocument","q","UIWorkerClient","main","emitSync","sender","messageBuffer","workerClient","processNext","setEmitSync","Main","PlaceHolder","others","mainClass","othersClass","$onUpdate","onUpdate","$others","undoStack","$undostack","$undoStackDepth","setup","other","showOtherMarkers","othersActive","hideOtherMarkers","updateAnchors","lengthDiff","inMainRange","distanceFromStart","newPos","otherPos","updateMarkers","updateMarker","undosRequired","isSamePoint","alt","ctrl","accel","selectionMode","isMultiSelect","mouseX","mouseY","screenAnchor","screenCursor","$enableJumpToDef","$blockSelectEnabled","addSelectionMarker","oldRange","removeSelectionMarker","tmpSel","rectSel","blockSelect","newCursor","removeSelectionMarkers","rectangularRangeBlock","updateSelectionMarkers","onSelectionInterval","onMouseSelection","onMouseSelectionEnd","selectMoreLines","selectMore","joinSelections","splitIntoLines","alignCursors","multiSelectCommands","getSelectionMarkers","$blockChangeEvents","$onAddRange","$onRemoveRange","mergeOverlappingRanges","lastRange","$initRangeList","toggleBlockSelection","includeEmptyLines","xBackwards","startOffsetX","endOffsetX","docEnd","yBackwards","MultiSelect","$multiselectOnSessionChange","$onMultiSelect","$onSingleSelect","onSessionChange","$checkMultiselectChange","addAltCursorListeners","altCursor","altDown","selectionMarkerCount","markerList","$onMultiSelectExec","inVirtualMode","keepOrder","$byLines","cmdResult","anim","buf","additive","skip","screenLead","toRemove","words","stopAtFirst","sameRowRanges","maxCol","minSpace","spaceOffsets","spaceOffset","fr","lr","guessRange","$reAlignText","forceLeft","startW","textW","endW","isLeftAligned","isRightAligned","alignLeft","alignRight","unAlign","enableMultiselect","enableBlockSelect","FoldMode","foldingStartMarker","foldingStopMarker","indentationBlock","startLevel","openingBracketBlock","closingBracketBlock","LineWidgets","widgetManager","updateOnChange","renderWidgets","measureWidgets","_changedWidgets","$onChangeEditor","updateOnFold","_inDocument","removeLineWidget","$updateRows","noWidgets","$oldWidget","$registerLineWidget","addLineWidget","zIndex","coverGutter","pixelHeight","$fold","onWidgetChanged","w1","getWidgetsAtRow","changedWidgets","fixedWidth","coverLine","fullWidth","oldWidget","gutterAnno","findAnnotations","binarySearch","comparator","matched","arrow","onmousedown","Renderer","edit","_id","getElementById","env","tagName","oldNode","createEditSession"],"mappings":"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AG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,IAAK,GAAI,IAAK,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,KAAM,GAAI,EAAG,GAAI,EAAG,IAAK,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,KAAM,GAAI,MAAO,GAAI,KAAM,GAAI,GAAI,EAAG,IAAK,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,MAAO,GAAI,GAAI,EAAG,GAAI,KAAM,IAAK,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,IAAK,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EA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ClBA,EAAOgnE,gBAAgB,GAAG,IAE5Bt1B,QAAS,CACPviD,IAAK,sBACLskD,IAAK,uBAEPG,eAAgB,SAChBp2C,UAAU,GACT,CACD1f,KAAM,mBACN+1D,YAAa,qBACb95D,KAAM,SAASA,KAAKimB,GAClBA,EAAOinE,YAAY,IAErBv1B,QAAS,CACPviD,IAAK,gBACLskD,IAAK,iBAEPG,eAAgB,SAChBp2C,UAAU,GACT,CACD1f,KAAM,kBACN+1D,YAAa,oBACb95D,KAAM,SAASA,KAAKimB,GAClBA,EAAOinE,WAAW,IAEpBv1B,QAAS,CACPviD,IAAK,iBACLskD,IAAK,kBAEPG,eAAgB,SAChBp2C,UAAU,GACT,CACD1f,KAAM,mBACN+1D,YAAa,qBACb95D,KAAM,SAASA,KAAKimB,GAClBA,EAAOinE,YAAY,GAAG,IAExBv1B,QAAS,CACPviD,IAAK,sBACLskD,IAAK,uBAEPG,eAAgB,SAChBp2C,UAAU,GACT,CACD1f,KAAM,kBACN+1D,YAAa,oBACb95D,KAAM,SAASA,KAAKimB,GAClBA,EAAOinE,WAAW,GAAG,IAEvBv1B,QAAS,CACPviD,IAAK,uBACLskD,IAAK,wBAEPG,eAAgB,SAChBp2C,UAAU,GACT,CACD1f,KAAM,gCACN+1D,YAAa,mBACb95D,KAAM,SAASA,KAAKimB,GACdA,EAAOwvB,YAAYjH,WAAa,EAAGvoB,EAAOwvB,YAAY03C,iBAAsBlnE,EAAOwvB,YAAY23C,kBAErGz1B,QAAS,CACPviD,IAAK,aACLskD,IAAK,cAEPj2C,UAAU,GACT,CACD1f,KAAM,0BACN+1D,YAAa,mBACb95D,KAAM,SAASA,KAAKimB,GAClBA,EAAOwvB,YAAY23C,kBAErB3pE,UAAU,GACT,CACD1f,KAAM,eACN+1D,YAAa,gBACb95D,KAAM,SAASA,KAAKimB,GAClBA,EAAOonE,gBAET11B,QAAS,CACPviD,IAAK,aACLskD,IAAK,cAEPG,eAAgB,UACf,CACD91D,KAAM,UACN+1D,YAAa,WACb95D,KAAM,SAASA,KAAKimB,GAClBA,EAAOswC,WAEToB,QAAS,CACPviD,IAAK,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","file":"8a28b14e-30974330242fae3ab766.js","sourcesContent":["/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n/**\n * Define a module along with a payload\n * @param module a name for the payload\n * @param payload a function to call with (require, exports, module) params\n */\n(function () {\n  var ACE_NAMESPACE = \"ace\";\n\n  var global = function () {\n    return this;\n  }();\n\n  if (!global && typeof window != \"undefined\") global = window; // strict mode\n\n  if (!ACE_NAMESPACE && typeof requirejs !== \"undefined\") return;\n\n  var define = function define(module, deps, payload) {\n    if (typeof module !== \"string\") {\n      if (define.original) define.original.apply(this, arguments);else {\n        console.error(\"dropping module because define wasn\\'t a string.\");\n        console.trace();\n      }\n      return;\n    }\n\n    if (arguments.length == 2) payload = deps;\n\n    if (!define.modules[module]) {\n      define.payloads[module] = payload;\n      define.modules[module] = null;\n    }\n  };\n\n  define.modules = {};\n  define.payloads = {};\n  /**\n   * Get at functionality define()ed using the function above\n   */\n\n  var _require = function _require(parentId, module, callback) {\n    if (typeof module === \"string\") {\n      var payload = lookup(parentId, module);\n\n      if (payload != undefined) {\n        callback && callback();\n        return payload;\n      }\n    } else if (Object.prototype.toString.call(module) === \"[object Array]\") {\n      var params = [];\n\n      for (var i = 0, l = module.length; i < l; ++i) {\n        var dep = lookup(parentId, module[i]);\n        if (dep == undefined && require.original) return;\n        params.push(dep);\n      }\n\n      return callback && callback.apply(null, params) || true;\n    }\n  };\n\n  var require = function require(module, callback) {\n    var packagedModule = _require(\"\", module, callback);\n\n    if (packagedModule == undefined && require.original) return require.original.apply(this, arguments);\n    return packagedModule;\n  };\n\n  var normalizeModule = function normalizeModule(parentId, moduleName) {\n    // normalize plugin requires\n    if (moduleName.indexOf(\"!\") !== -1) {\n      var chunks = moduleName.split(\"!\");\n      return normalizeModule(parentId, chunks[0]) + \"!\" + normalizeModule(parentId, chunks[1]);\n    } // normalize relative requires\n\n\n    if (moduleName.charAt(0) == \".\") {\n      var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n      moduleName = base + \"/\" + moduleName;\n\n      while (moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n        var previous = moduleName;\n        moduleName = moduleName.replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n      }\n    }\n\n    return moduleName;\n  };\n  /**\n   * Internal function to lookup moduleNames and resolve them by calling the\n   * definition function if needed.\n   */\n\n\n  var lookup = function lookup(parentId, moduleName) {\n    moduleName = normalizeModule(parentId, moduleName);\n    var module = define.modules[moduleName];\n\n    if (!module) {\n      module = define.payloads[moduleName];\n\n      if (typeof module === 'function') {\n        var exports = {};\n        var mod = {\n          id: moduleName,\n          uri: '',\n          exports: exports,\n          packaged: true\n        };\n\n        var req = function req(module, callback) {\n          return _require(moduleName, module, callback);\n        };\n\n        var returnValue = module(req, exports, mod);\n        exports = returnValue || mod.exports;\n        define.modules[moduleName] = exports;\n        delete define.payloads[moduleName];\n      }\n\n      module = define.modules[moduleName] = exports || module;\n    }\n\n    return module;\n  };\n\n  function exportAce(ns) {\n    var root = global;\n\n    if (ns) {\n      if (!global[ns]) global[ns] = {};\n      root = global[ns];\n    }\n\n    if (!root.define || !root.define.packaged) {\n      define.original = root.define;\n      root.define = define;\n      root.define.packaged = true;\n    }\n\n    if (!root.require || !root.require.packaged) {\n      require.original = root.require;\n      root.require = require;\n      root.require.packaged = true;\n    }\n  }\n\n  exportAce(ACE_NAMESPACE);\n})();\n\nace.define(\"ace/lib/fixoldbrowsers\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  if (typeof Element != \"undefined\" && !Element.prototype.remove) {\n    Object.defineProperty(Element.prototype, \"remove\", {\n      enumerable: false,\n      writable: true,\n      configurable: true,\n      value: function value() {\n        this.parentNode && this.parentNode.removeChild(this);\n      }\n    });\n  }\n});\nace.define(\"ace/lib/useragent\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  exports.OS = {\n    LINUX: \"LINUX\",\n    MAC: \"MAC\",\n    WINDOWS: \"WINDOWS\"\n  };\n\n  exports.getOS = function () {\n    if (exports.isMac) {\n      return exports.OS.MAC;\n    } else if (exports.isLinux) {\n      return exports.OS.LINUX;\n    } else {\n      return exports.OS.WINDOWS;\n    }\n  };\n\n  var _navigator = typeof navigator == \"object\" ? navigator : {};\n\n  var os = (/mac|win|linux/i.exec(_navigator.platform) || [\"other\"])[0].toLowerCase();\n  var ua = _navigator.userAgent || \"\";\n  var appName = _navigator.appName || \"\";\n  exports.isWin = os == \"win\";\n  exports.isMac = os == \"mac\";\n  exports.isLinux = os == \"linux\";\n  exports.isIE = appName == \"Microsoft Internet Explorer\" || appName.indexOf(\"MSAppHost\") >= 0 ? parseFloat((ua.match(/(?:MSIE |Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/) || [])[1]) : parseFloat((ua.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/) || [])[1]); // for ie\n\n  exports.isOldIE = exports.isIE && exports.isIE < 9;\n  exports.isGecko = exports.isMozilla = ua.match(/ Gecko\\/\\d+/);\n  exports.isOpera = typeof opera == \"object\" && Object.prototype.toString.call(window.opera) == \"[object Opera]\";\n  exports.isWebKit = parseFloat(ua.split(\"WebKit/\")[1]) || undefined;\n  exports.isChrome = parseFloat(ua.split(\" Chrome/\")[1]) || undefined;\n  exports.isEdge = parseFloat(ua.split(\" Edge/\")[1]) || undefined;\n  exports.isAIR = ua.indexOf(\"AdobeAIR\") >= 0;\n  exports.isAndroid = ua.indexOf(\"Android\") >= 0;\n  exports.isChromeOS = ua.indexOf(\" CrOS \") >= 0;\n  exports.isIOS = /iPad|iPhone|iPod/.test(ua) && !window.MSStream;\n  if (exports.isIOS) exports.isMac = true;\n  exports.isMobile = exports.isIOS || exports.isAndroid;\n});\nace.define(\"ace/lib/dom\", [\"require\", \"exports\", \"module\", \"ace/lib/useragent\"], function (require, exports, module) {\n  \"use strict\";\n\n  var useragent = require(\"./useragent\");\n\n  var XHTML_NS = \"http://www.w3.org/1999/xhtml\";\n\n  exports.buildDom = function buildDom(arr, parent, refs) {\n    if (typeof arr == \"string\" && arr) {\n      var txt = document.createTextNode(arr);\n      if (parent) parent.appendChild(txt);\n      return txt;\n    }\n\n    if (!Array.isArray(arr)) {\n      if (arr && arr.appendChild && parent) parent.appendChild(arr);\n      return arr;\n    }\n\n    if (typeof arr[0] != \"string\" || !arr[0]) {\n      var els = [];\n\n      for (var i = 0; i < arr.length; i++) {\n        var ch = buildDom(arr[i], parent, refs);\n        ch && els.push(ch);\n      }\n\n      return els;\n    }\n\n    var el = document.createElement(arr[0]);\n    var options = arr[1];\n    var childIndex = 1;\n    if (options && typeof options == \"object\" && !Array.isArray(options)) childIndex = 2;\n\n    for (var i = childIndex; i < arr.length; i++) {\n      buildDom(arr[i], el, refs);\n    }\n\n    if (childIndex == 2) {\n      Object.keys(options).forEach(function (n) {\n        var val = options[n];\n\n        if (n === \"class\") {\n          el.className = Array.isArray(val) ? val.join(\" \") : val;\n        } else if (typeof val == \"function\" || n == \"value\" || n[0] == \"$\") {\n          el[n] = val;\n        } else if (n === \"ref\") {\n          if (refs) refs[val] = el;\n        } else if (val != null) {\n          el.setAttribute(n, val);\n        }\n      });\n    }\n\n    if (parent) parent.appendChild(el);\n    return el;\n  };\n\n  exports.getDocumentHead = function (doc) {\n    if (!doc) doc = document;\n    return doc.head || doc.getElementsByTagName(\"head\")[0] || doc.documentElement;\n  };\n\n  exports.createElement = function (tag, ns) {\n    return document.createElementNS ? document.createElementNS(ns || XHTML_NS, tag) : document.createElement(tag);\n  };\n\n  exports.removeChildren = function (element) {\n    element.innerHTML = \"\";\n  };\n\n  exports.createTextNode = function (textContent, element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createTextNode(textContent);\n  };\n\n  exports.createFragment = function (element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createDocumentFragment();\n  };\n\n  exports.hasCssClass = function (el, name) {\n    var classes = (el.className + \"\").split(/\\s+/g);\n    return classes.indexOf(name) !== -1;\n  };\n\n  exports.addCssClass = function (el, name) {\n    if (!exports.hasCssClass(el, name)) {\n      el.className += \" \" + name;\n    }\n  };\n\n  exports.removeCssClass = function (el, name) {\n    var classes = el.className.split(/\\s+/g);\n\n    while (true) {\n      var index = classes.indexOf(name);\n\n      if (index == -1) {\n        break;\n      }\n\n      classes.splice(index, 1);\n    }\n\n    el.className = classes.join(\" \");\n  };\n\n  exports.toggleCssClass = function (el, name) {\n    var classes = el.className.split(/\\s+/g),\n        add = true;\n\n    while (true) {\n      var index = classes.indexOf(name);\n\n      if (index == -1) {\n        break;\n      }\n\n      add = false;\n      classes.splice(index, 1);\n    }\n\n    if (add) classes.push(name);\n    el.className = classes.join(\" \");\n    return add;\n  };\n\n  exports.setCssClass = function (node, className, include) {\n    if (include) {\n      exports.addCssClass(node, className);\n    } else {\n      exports.removeCssClass(node, className);\n    }\n  };\n\n  exports.hasCssString = function (id, doc) {\n    var index = 0,\n        sheets;\n    doc = doc || document;\n\n    if (sheets = doc.querySelectorAll(\"style\")) {\n      while (index < sheets.length) {\n        if (sheets[index++].id === id) return true;\n      }\n    }\n  };\n\n  exports.importCssString = function importCssString(cssText, id, target) {\n    var container = target;\n\n    if (!target || !target.getRootNode) {\n      container = document;\n    } else {\n      container = target.getRootNode();\n      if (!container || container == target) container = document;\n    }\n\n    var doc = container.ownerDocument || container;\n    if (id && exports.hasCssString(id, container)) return null;\n    if (id) cssText += \"\\n/*# sourceURL=ace/css/\" + id + \" */\";\n    var style = exports.createElement(\"style\");\n    style.appendChild(doc.createTextNode(cssText));\n    if (id) style.id = id;\n    if (container == doc) container = exports.getDocumentHead(doc);\n    container.insertBefore(style, container.firstChild);\n  };\n\n  exports.importCssStylsheet = function (uri, doc) {\n    exports.buildDom([\"link\", {\n      rel: \"stylesheet\",\n      href: uri\n    }], exports.getDocumentHead(doc));\n  };\n\n  exports.scrollbarWidth = function (document) {\n    var inner = exports.createElement(\"ace_inner\");\n    inner.style.width = \"100%\";\n    inner.style.minWidth = \"0px\";\n    inner.style.height = \"200px\";\n    inner.style.display = \"block\";\n    var outer = exports.createElement(\"ace_outer\");\n    var style = outer.style;\n    style.position = \"absolute\";\n    style.left = \"-10000px\";\n    style.overflow = \"hidden\";\n    style.width = \"200px\";\n    style.minWidth = \"0px\";\n    style.height = \"150px\";\n    style.display = \"block\";\n    outer.appendChild(inner);\n    var body = document.documentElement;\n    body.appendChild(outer);\n    var noScrollbar = inner.offsetWidth;\n    style.overflow = \"scroll\";\n    var withScrollbar = inner.offsetWidth;\n\n    if (noScrollbar == withScrollbar) {\n      withScrollbar = outer.clientWidth;\n    }\n\n    body.removeChild(outer);\n    return noScrollbar - withScrollbar;\n  };\n\n  if (typeof document == \"undefined\") {\n    exports.importCssString = function () {};\n  }\n\n  exports.computedStyle = function (element, style) {\n    return window.getComputedStyle(element, \"\") || {};\n  };\n\n  exports.setStyle = function (styles, property, value) {\n    if (styles[property] !== value) {\n      styles[property] = value;\n    }\n  };\n\n  exports.HAS_CSS_ANIMATION = false;\n  exports.HAS_CSS_TRANSFORMS = false;\n  exports.HI_DPI = useragent.isWin ? typeof window !== \"undefined\" && window.devicePixelRatio >= 1.5 : true;\n\n  if (typeof document !== \"undefined\") {\n    var div = document.createElement(\"div\");\n    if (exports.HI_DPI && div.style.transform !== undefined) exports.HAS_CSS_TRANSFORMS = true;\n    if (!useragent.isEdge && typeof div.style.animationName !== \"undefined\") exports.HAS_CSS_ANIMATION = true;\n    div = null;\n  }\n\n  if (exports.HAS_CSS_TRANSFORMS) {\n    exports.translate = function (element, tx, ty) {\n      element.style.transform = \"translate(\" + Math.round(tx) + \"px, \" + Math.round(ty) + \"px)\";\n    };\n  } else {\n    exports.translate = function (element, tx, ty) {\n      element.style.top = Math.round(ty) + \"px\";\n      element.style.left = Math.round(tx) + \"px\";\n    };\n  }\n});\nace.define(\"ace/lib/oop\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  exports.inherits = function (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n\n  exports.mixin = function (obj, mixin) {\n    for (var key in mixin) {\n      obj[key] = mixin[key];\n    }\n\n    return obj;\n  };\n\n  exports.implement = function (proto, mixin) {\n    exports.mixin(proto, mixin);\n  };\n});\nace.define(\"ace/lib/keys\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\"], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"./oop\");\n\n  var Keys = function () {\n    var ret = {\n      MODIFIER_KEYS: {\n        16: 'Shift',\n        17: 'Ctrl',\n        18: 'Alt',\n        224: 'Meta',\n        91: 'MetaLeft',\n        92: 'MetaRight',\n        93: 'ContextMenu'\n      },\n      KEY_MODS: {\n        \"ctrl\": 1,\n        \"alt\": 2,\n        \"option\": 2,\n        \"shift\": 4,\n        \"super\": 8,\n        \"meta\": 8,\n        \"command\": 8,\n        \"cmd\": 8,\n        \"control\": 1\n      },\n      FUNCTION_KEYS: {\n        8: \"Backspace\",\n        9: \"Tab\",\n        13: \"Return\",\n        19: \"Pause\",\n        27: \"Esc\",\n        32: \"Space\",\n        33: \"PageUp\",\n        34: \"PageDown\",\n        35: \"End\",\n        36: \"Home\",\n        37: \"Left\",\n        38: \"Up\",\n        39: \"Right\",\n        40: \"Down\",\n        44: \"Print\",\n        45: \"Insert\",\n        46: \"Delete\",\n        96: \"Numpad0\",\n        97: \"Numpad1\",\n        98: \"Numpad2\",\n        99: \"Numpad3\",\n        100: \"Numpad4\",\n        101: \"Numpad5\",\n        102: \"Numpad6\",\n        103: \"Numpad7\",\n        104: \"Numpad8\",\n        105: \"Numpad9\",\n        '-13': \"NumpadEnter\",\n        112: \"F1\",\n        113: \"F2\",\n        114: \"F3\",\n        115: \"F4\",\n        116: \"F5\",\n        117: \"F6\",\n        118: \"F7\",\n        119: \"F8\",\n        120: \"F9\",\n        121: \"F10\",\n        122: \"F11\",\n        123: \"F12\",\n        144: \"Numlock\",\n        145: \"Scrolllock\"\n      },\n      PRINTABLE_KEYS: {\n        32: ' ',\n        48: '0',\n        49: '1',\n        50: '2',\n        51: '3',\n        52: '4',\n        53: '5',\n        54: '6',\n        55: '7',\n        56: '8',\n        57: '9',\n        59: ';',\n        61: '=',\n        65: 'a',\n        66: 'b',\n        67: 'c',\n        68: 'd',\n        69: 'e',\n        70: 'f',\n        71: 'g',\n        72: 'h',\n        73: 'i',\n        74: 'j',\n        75: 'k',\n        76: 'l',\n        77: 'm',\n        78: 'n',\n        79: 'o',\n        80: 'p',\n        81: 'q',\n        82: 'r',\n        83: 's',\n        84: 't',\n        85: 'u',\n        86: 'v',\n        87: 'w',\n        88: 'x',\n        89: 'y',\n        90: 'z',\n        107: '+',\n        109: '-',\n        110: '.',\n        186: ';',\n        187: '=',\n        188: ',',\n        189: '-',\n        190: '.',\n        191: '/',\n        192: '`',\n        219: '[',\n        220: '\\\\',\n        221: ']',\n        222: \"'\",\n        111: '/',\n        106: '*'\n      }\n    };\n    var name, i;\n\n    for (i in ret.FUNCTION_KEYS) {\n      name = ret.FUNCTION_KEYS[i].toLowerCase();\n      ret[name] = parseInt(i, 10);\n    }\n\n    for (i in ret.PRINTABLE_KEYS) {\n      name = ret.PRINTABLE_KEYS[i].toLowerCase();\n      ret[name] = parseInt(i, 10);\n    }\n\n    oop.mixin(ret, ret.MODIFIER_KEYS);\n    oop.mixin(ret, ret.PRINTABLE_KEYS);\n    oop.mixin(ret, ret.FUNCTION_KEYS);\n    ret.enter = ret[\"return\"];\n    ret.escape = ret.esc;\n    ret.del = ret[\"delete\"];\n    ret[173] = '-';\n\n    (function () {\n      var mods = [\"cmd\", \"ctrl\", \"alt\", \"shift\"];\n\n      for (var i = Math.pow(2, mods.length); i--;) {\n        ret.KEY_MODS[i] = mods.filter(function (x) {\n          return i & ret.KEY_MODS[x];\n        }).join(\"-\") + \"-\";\n      }\n    })();\n\n    ret.KEY_MODS[0] = \"\";\n    ret.KEY_MODS[-1] = \"input-\";\n    return ret;\n  }();\n\n  oop.mixin(exports, Keys);\n\n  exports.keyCodeToString = function (keyCode) {\n    var keyString = Keys[keyCode];\n    if (typeof keyString != \"string\") keyString = String.fromCharCode(keyCode);\n    return keyString.toLowerCase();\n  };\n});\nace.define(\"ace/lib/event\", [\"require\", \"exports\", \"module\", \"ace/lib/keys\", \"ace/lib/useragent\"], function (require, exports, module) {\n  \"use strict\";\n\n  var keys = require(\"./keys\");\n\n  var useragent = require(\"./useragent\");\n\n  var pressedKeys = null;\n  var ts = 0;\n  var activeListenerOptions;\n\n  function detectListenerOptionsSupport() {\n    activeListenerOptions = false;\n\n    try {\n      document.createComment(\"\").addEventListener(\"test\", function () {}, {\n        get passive() {\n          activeListenerOptions = {\n            passive: false\n          };\n        }\n\n      });\n    } catch (e) {}\n  }\n\n  function getListenerOptions() {\n    if (activeListenerOptions == undefined) detectListenerOptionsSupport();\n    return activeListenerOptions;\n  }\n\n  function EventListener(elem, type, callback) {\n    this.elem = elem;\n    this.type = type;\n    this.callback = callback;\n  }\n\n  EventListener.prototype.destroy = function () {\n    removeListener(this.elem, this.type, this.callback);\n    this.elem = this.type = this.callback = undefined;\n  };\n\n  var addListener = exports.addListener = function (elem, type, callback, destroyer) {\n    elem.addEventListener(type, callback, getListenerOptions());\n    if (destroyer) destroyer.$toDestroy.push(new EventListener(elem, type, callback));\n  };\n\n  var removeListener = exports.removeListener = function (elem, type, callback) {\n    elem.removeEventListener(type, callback, getListenerOptions());\n  };\n\n  exports.stopEvent = function (e) {\n    exports.stopPropagation(e);\n    exports.preventDefault(e);\n    return false;\n  };\n\n  exports.stopPropagation = function (e) {\n    if (e.stopPropagation) e.stopPropagation();\n  };\n\n  exports.preventDefault = function (e) {\n    if (e.preventDefault) e.preventDefault();\n  };\n\n  exports.getButton = function (e) {\n    if (e.type == \"dblclick\") return 0;\n    if (e.type == \"contextmenu\" || useragent.isMac && e.ctrlKey && !e.altKey && !e.shiftKey) return 2;\n    return e.button;\n  };\n\n  exports.capture = function (el, eventHandler, releaseCaptureHandler) {\n    var ownerDocument = el && el.ownerDocument || document;\n\n    function onMouseUp(e) {\n      eventHandler && eventHandler(e);\n      releaseCaptureHandler && releaseCaptureHandler(e);\n      removeListener(ownerDocument, \"mousemove\", eventHandler);\n      removeListener(ownerDocument, \"mouseup\", onMouseUp);\n      removeListener(ownerDocument, \"dragstart\", onMouseUp);\n    }\n\n    addListener(ownerDocument, \"mousemove\", eventHandler);\n    addListener(ownerDocument, \"mouseup\", onMouseUp);\n    addListener(ownerDocument, \"dragstart\", onMouseUp);\n    return onMouseUp;\n  };\n\n  exports.addMouseWheelListener = function (el, callback, destroyer) {\n    if (\"onmousewheel\" in el) {\n      addListener(el, \"mousewheel\", function (e) {\n        var factor = 8;\n\n        if (e.wheelDeltaX !== undefined) {\n          e.wheelX = -e.wheelDeltaX / factor;\n          e.wheelY = -e.wheelDeltaY / factor;\n        } else {\n          e.wheelX = 0;\n          e.wheelY = -e.wheelDelta / factor;\n        }\n\n        callback(e);\n      }, destroyer);\n    } else if (\"onwheel\" in el) {\n      addListener(el, \"wheel\", function (e) {\n        var factor = 0.35;\n\n        switch (e.deltaMode) {\n          case e.DOM_DELTA_PIXEL:\n            e.wheelX = e.deltaX * factor || 0;\n            e.wheelY = e.deltaY * factor || 0;\n            break;\n\n          case e.DOM_DELTA_LINE:\n          case e.DOM_DELTA_PAGE:\n            e.wheelX = (e.deltaX || 0) * 5;\n            e.wheelY = (e.deltaY || 0) * 5;\n            break;\n        }\n\n        callback(e);\n      }, destroyer);\n    } else {\n      addListener(el, \"DOMMouseScroll\", function (e) {\n        if (e.axis && e.axis == e.HORIZONTAL_AXIS) {\n          e.wheelX = (e.detail || 0) * 5;\n          e.wheelY = 0;\n        } else {\n          e.wheelX = 0;\n          e.wheelY = (e.detail || 0) * 5;\n        }\n\n        callback(e);\n      }, destroyer);\n    }\n  };\n\n  exports.addMultiMouseDownListener = function (elements, timeouts, eventHandler, callbackName, destroyer) {\n    var clicks = 0;\n    var startX, startY, timer;\n    var eventNames = {\n      2: \"dblclick\",\n      3: \"tripleclick\",\n      4: \"quadclick\"\n    };\n\n    function onMousedown(e) {\n      if (exports.getButton(e) !== 0) {\n        clicks = 0;\n      } else if (e.detail > 1) {\n        clicks++;\n        if (clicks > 4) clicks = 1;\n      } else {\n        clicks = 1;\n      }\n\n      if (useragent.isIE) {\n        var isNewClick = Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5;\n        if (!timer || isNewClick) clicks = 1;\n        if (timer) clearTimeout(timer);\n        timer = setTimeout(function () {\n          timer = null;\n        }, timeouts[clicks - 1] || 600);\n\n        if (clicks == 1) {\n          startX = e.clientX;\n          startY = e.clientY;\n        }\n      }\n\n      e._clicks = clicks;\n      eventHandler[callbackName](\"mousedown\", e);\n      if (clicks > 4) clicks = 0;else if (clicks > 1) return eventHandler[callbackName](eventNames[clicks], e);\n    }\n\n    if (!Array.isArray(elements)) elements = [elements];\n    elements.forEach(function (el) {\n      addListener(el, \"mousedown\", onMousedown, destroyer);\n    });\n  };\n\n  var getModifierHash = function getModifierHash(e) {\n    return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n  };\n\n  exports.getModifierString = function (e) {\n    return keys.KEY_MODS[getModifierHash(e)];\n  };\n\n  function normalizeCommandKeys(callback, e, keyCode) {\n    var hashId = getModifierHash(e);\n\n    if (!useragent.isMac && pressedKeys) {\n      if (e.getModifierState && (e.getModifierState(\"OS\") || e.getModifierState(\"Win\"))) hashId |= 8;\n\n      if (pressedKeys.altGr) {\n        if ((3 & hashId) != 3) pressedKeys.altGr = 0;else return;\n      }\n\n      if (keyCode === 18 || keyCode === 17) {\n        var location = \"location\" in e ? e.location : e.keyLocation;\n\n        if (keyCode === 17 && location === 1) {\n          if (pressedKeys[keyCode] == 1) ts = e.timeStamp;\n        } else if (keyCode === 18 && hashId === 3 && location === 2) {\n          var dt = e.timeStamp - ts;\n          if (dt < 50) pressedKeys.altGr = true;\n        }\n      }\n    }\n\n    if (keyCode in keys.MODIFIER_KEYS) {\n      keyCode = -1;\n    }\n\n    if (!hashId && keyCode === 13) {\n      var location = \"location\" in e ? e.location : e.keyLocation;\n\n      if (location === 3) {\n        callback(e, hashId, -keyCode);\n        if (e.defaultPrevented) return;\n      }\n    }\n\n    if (useragent.isChromeOS && hashId & 8) {\n      callback(e, hashId, keyCode);\n      if (e.defaultPrevented) return;else hashId &= ~8;\n    }\n\n    if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {\n      return false;\n    }\n\n    return callback(e, hashId, keyCode);\n  }\n\n  exports.addCommandKeyListener = function (el, callback, destroyer) {\n    if (useragent.isOldGecko || useragent.isOpera && !(\"KeyboardEvent\" in window)) {\n      var lastKeyDownKeyCode = null;\n      addListener(el, \"keydown\", function (e) {\n        lastKeyDownKeyCode = e.keyCode;\n      }, destroyer);\n      addListener(el, \"keypress\", function (e) {\n        return normalizeCommandKeys(callback, e, lastKeyDownKeyCode);\n      }, destroyer);\n    } else {\n      var lastDefaultPrevented = null;\n      addListener(el, \"keydown\", function (e) {\n        pressedKeys[e.keyCode] = (pressedKeys[e.keyCode] || 0) + 1;\n        var result = normalizeCommandKeys(callback, e, e.keyCode);\n        lastDefaultPrevented = e.defaultPrevented;\n        return result;\n      }, destroyer);\n      addListener(el, \"keypress\", function (e) {\n        if (lastDefaultPrevented && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)) {\n          exports.stopEvent(e);\n          lastDefaultPrevented = null;\n        }\n      }, destroyer);\n      addListener(el, \"keyup\", function (e) {\n        pressedKeys[e.keyCode] = null;\n      }, destroyer);\n\n      if (!pressedKeys) {\n        resetPressedKeys();\n        addListener(window, \"focus\", resetPressedKeys);\n      }\n    }\n  };\n\n  function resetPressedKeys() {\n    pressedKeys = Object.create(null);\n  }\n\n  if (typeof window == \"object\" && window.postMessage && !useragent.isOldIE) {\n    var postMessageId = 1;\n\n    exports.nextTick = function (callback, win) {\n      win = win || window;\n      var messageName = \"zero-timeout-message-\" + postMessageId++;\n\n      var listener = function listener(e) {\n        if (e.data == messageName) {\n          exports.stopPropagation(e);\n          removeListener(win, \"message\", listener);\n          callback();\n        }\n      };\n\n      addListener(win, \"message\", listener);\n      win.postMessage(messageName, \"*\");\n    };\n  }\n\n  exports.$idleBlocked = false;\n\n  exports.onIdle = function (cb, timeout) {\n    return setTimeout(function handler() {\n      if (!exports.$idleBlocked) {\n        cb();\n      } else {\n        setTimeout(handler, 100);\n      }\n    }, timeout);\n  };\n\n  exports.$idleBlockId = null;\n\n  exports.blockIdle = function (delay) {\n    if (exports.$idleBlockId) clearTimeout(exports.$idleBlockId);\n    exports.$idleBlocked = true;\n    exports.$idleBlockId = setTimeout(function () {\n      exports.$idleBlocked = false;\n    }, delay || 100);\n  };\n\n  exports.nextFrame = typeof window == \"object\" && (window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame);\n  if (exports.nextFrame) exports.nextFrame = exports.nextFrame.bind(window);else exports.nextFrame = function (callback) {\n    setTimeout(callback, 17);\n  };\n});\nace.define(\"ace/range\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  var comparePoints = function comparePoints(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n  };\n\n  var Range = function Range(startRow, startColumn, endRow, endColumn) {\n    this.start = {\n      row: startRow,\n      column: startColumn\n    };\n    this.end = {\n      row: endRow,\n      column: endColumn\n    };\n  };\n\n  (function () {\n    this.isEqual = function (range) {\n      return this.start.row === range.start.row && this.end.row === range.end.row && this.start.column === range.start.column && this.end.column === range.end.column;\n    };\n\n    this.toString = function () {\n      return \"Range: [\" + this.start.row + \"/\" + this.start.column + \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\";\n    };\n\n    this.contains = function (row, column) {\n      return this.compare(row, column) == 0;\n    };\n\n    this.compareRange = function (range) {\n      var cmp,\n          end = range.end,\n          start = range.start;\n      cmp = this.compare(end.row, end.column);\n\n      if (cmp == 1) {\n        cmp = this.compare(start.row, start.column);\n\n        if (cmp == 1) {\n          return 2;\n        } else if (cmp == 0) {\n          return 1;\n        } else {\n          return 0;\n        }\n      } else if (cmp == -1) {\n        return -2;\n      } else {\n        cmp = this.compare(start.row, start.column);\n\n        if (cmp == -1) {\n          return -1;\n        } else if (cmp == 1) {\n          return 42;\n        } else {\n          return 0;\n        }\n      }\n    };\n\n    this.comparePoint = function (p) {\n      return this.compare(p.row, p.column);\n    };\n\n    this.containsRange = function (range) {\n      return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n\n    this.intersects = function (range) {\n      var cmp = this.compareRange(range);\n      return cmp == -1 || cmp == 0 || cmp == 1;\n    };\n\n    this.isEnd = function (row, column) {\n      return this.end.row == row && this.end.column == column;\n    };\n\n    this.isStart = function (row, column) {\n      return this.start.row == row && this.start.column == column;\n    };\n\n    this.setStart = function (row, column) {\n      if (typeof row == \"object\") {\n        this.start.column = row.column;\n        this.start.row = row.row;\n      } else {\n        this.start.row = row;\n        this.start.column = column;\n      }\n    };\n\n    this.setEnd = function (row, column) {\n      if (typeof row == \"object\") {\n        this.end.column = row.column;\n        this.end.row = row.row;\n      } else {\n        this.end.row = row;\n        this.end.column = column;\n      }\n    };\n\n    this.inside = function (row, column) {\n      if (this.compare(row, column) == 0) {\n        if (this.isEnd(row, column) || this.isStart(row, column)) {\n          return false;\n        } else {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    this.insideStart = function (row, column) {\n      if (this.compare(row, column) == 0) {\n        if (this.isEnd(row, column)) {\n          return false;\n        } else {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    this.insideEnd = function (row, column) {\n      if (this.compare(row, column) == 0) {\n        if (this.isStart(row, column)) {\n          return false;\n        } else {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    this.compare = function (row, column) {\n      if (!this.isMultiLine()) {\n        if (row === this.start.row) {\n          return column < this.start.column ? -1 : column > this.end.column ? 1 : 0;\n        }\n      }\n\n      if (row < this.start.row) return -1;\n      if (row > this.end.row) return 1;\n      if (this.start.row === row) return column >= this.start.column ? 0 : -1;\n      if (this.end.row === row) return column <= this.end.column ? 0 : 1;\n      return 0;\n    };\n\n    this.compareStart = function (row, column) {\n      if (this.start.row == row && this.start.column == column) {\n        return -1;\n      } else {\n        return this.compare(row, column);\n      }\n    };\n\n    this.compareEnd = function (row, column) {\n      if (this.end.row == row && this.end.column == column) {\n        return 1;\n      } else {\n        return this.compare(row, column);\n      }\n    };\n\n    this.compareInside = function (row, column) {\n      if (this.end.row == row && this.end.column == column) {\n        return 1;\n      } else if (this.start.row == row && this.start.column == column) {\n        return -1;\n      } else {\n        return this.compare(row, column);\n      }\n    };\n\n    this.clipRows = function (firstRow, lastRow) {\n      if (this.end.row > lastRow) var end = {\n        row: lastRow + 1,\n        column: 0\n      };else if (this.end.row < firstRow) var end = {\n        row: firstRow,\n        column: 0\n      };\n      if (this.start.row > lastRow) var start = {\n        row: lastRow + 1,\n        column: 0\n      };else if (this.start.row < firstRow) var start = {\n        row: firstRow,\n        column: 0\n      };\n      return Range.fromPoints(start || this.start, end || this.end);\n    };\n\n    this.extend = function (row, column) {\n      var cmp = this.compare(row, column);\n      if (cmp == 0) return this;else if (cmp == -1) var start = {\n        row: row,\n        column: column\n      };else var end = {\n        row: row,\n        column: column\n      };\n      return Range.fromPoints(start || this.start, end || this.end);\n    };\n\n    this.isEmpty = function () {\n      return this.start.row === this.end.row && this.start.column === this.end.column;\n    };\n\n    this.isMultiLine = function () {\n      return this.start.row !== this.end.row;\n    };\n\n    this.clone = function () {\n      return Range.fromPoints(this.start, this.end);\n    };\n\n    this.collapseRows = function () {\n      if (this.end.column == 0) return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0);else return new Range(this.start.row, 0, this.end.row, 0);\n    };\n\n    this.toScreenRange = function (session) {\n      var screenPosStart = session.documentToScreenPosition(this.start);\n      var screenPosEnd = session.documentToScreenPosition(this.end);\n      return new Range(screenPosStart.row, screenPosStart.column, screenPosEnd.row, screenPosEnd.column);\n    };\n\n    this.moveBy = function (row, column) {\n      this.start.row += row;\n      this.start.column += column;\n      this.end.row += row;\n      this.end.column += column;\n    };\n  }).call(Range.prototype);\n\n  Range.fromPoints = function (start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n  };\n\n  Range.comparePoints = comparePoints;\n\n  Range.comparePoints = function (p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n  };\n\n  exports.Range = Range;\n});\nace.define(\"ace/lib/lang\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  exports.last = function (a) {\n    return a[a.length - 1];\n  };\n\n  exports.stringReverse = function (string) {\n    return string.split(\"\").reverse().join(\"\");\n  };\n\n  exports.stringRepeat = function (string, count) {\n    var result = '';\n\n    while (count > 0) {\n      if (count & 1) result += string;\n      if (count >>= 1) string += string;\n    }\n\n    return result;\n  };\n\n  var trimBeginRegexp = /^\\s\\s*/;\n  var trimEndRegexp = /\\s\\s*$/;\n\n  exports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n  };\n\n  exports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n  };\n\n  exports.copyObject = function (obj) {\n    var copy = {};\n\n    for (var key in obj) {\n      copy[key] = obj[key];\n    }\n\n    return copy;\n  };\n\n  exports.copyArray = function (array) {\n    var copy = [];\n\n    for (var i = 0, l = array.length; i < l; i++) {\n      if (array[i] && typeof array[i] == \"object\") copy[i] = this.copyObject(array[i]);else copy[i] = array[i];\n    }\n\n    return copy;\n  };\n\n  exports.deepCopy = function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj) return obj;\n    var copy;\n\n    if (Array.isArray(obj)) {\n      copy = [];\n\n      for (var key = 0; key < obj.length; key++) {\n        copy[key] = deepCopy(obj[key]);\n      }\n\n      return copy;\n    }\n\n    if (Object.prototype.toString.call(obj) !== \"[object Object]\") return obj;\n    copy = {};\n\n    for (var key in obj) {\n      copy[key] = deepCopy(obj[key]);\n    }\n\n    return copy;\n  };\n\n  exports.arrayToMap = function (arr) {\n    var map = {};\n\n    for (var i = 0; i < arr.length; i++) {\n      map[arr[i]] = 1;\n    }\n\n    return map;\n  };\n\n  exports.createMap = function (props) {\n    var map = Object.create(null);\n\n    for (var i in props) {\n      map[i] = props[i];\n    }\n\n    return map;\n  };\n\n  exports.arrayRemove = function (array, value) {\n    for (var i = 0; i <= array.length; i++) {\n      if (value === array[i]) {\n        array.splice(i, 1);\n      }\n    }\n  };\n\n  exports.escapeRegExp = function (str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n  };\n\n  exports.escapeHTML = function (str) {\n    return (\"\" + str).replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n  };\n\n  exports.getMatchOffsets = function (string, regExp) {\n    var matches = [];\n    string.replace(regExp, function (str) {\n      matches.push({\n        offset: arguments[arguments.length - 2],\n        length: str.length\n      });\n    });\n    return matches;\n  };\n\n  exports.deferredCall = function (fcn) {\n    var timer = null;\n\n    var callback = function callback() {\n      timer = null;\n      fcn();\n    };\n\n    var deferred = function deferred(timeout) {\n      deferred.cancel();\n      timer = setTimeout(callback, timeout || 0);\n      return deferred;\n    };\n\n    deferred.schedule = deferred;\n\n    deferred.call = function () {\n      this.cancel();\n      fcn();\n      return deferred;\n    };\n\n    deferred.cancel = function () {\n      clearTimeout(timer);\n      timer = null;\n      return deferred;\n    };\n\n    deferred.isPending = function () {\n      return timer;\n    };\n\n    return deferred;\n  };\n\n  exports.delayedCall = function (fcn, defaultTimeout) {\n    var timer = null;\n\n    var callback = function callback() {\n      timer = null;\n      fcn();\n    };\n\n    var _self = function _self(timeout) {\n      if (timer == null) timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n\n    _self.delay = function (timeout) {\n      timer && clearTimeout(timer);\n      timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n\n    _self.schedule = _self;\n\n    _self.call = function () {\n      this.cancel();\n      fcn();\n    };\n\n    _self.cancel = function () {\n      timer && clearTimeout(timer);\n      timer = null;\n    };\n\n    _self.isPending = function () {\n      return timer;\n    };\n\n    return _self;\n  };\n});\nace.define(\"ace/clipboard\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  var $cancelT;\n  module.exports = {\n    lineMode: false,\n    pasteCancelled: function pasteCancelled() {\n      if ($cancelT && $cancelT > Date.now() - 50) return true;\n      return $cancelT = false;\n    },\n    cancel: function cancel() {\n      $cancelT = Date.now();\n    }\n  };\n});\nace.define(\"ace/keyboard/textinput\", [\"require\", \"exports\", \"module\", \"ace/lib/event\", \"ace/lib/useragent\", \"ace/lib/dom\", \"ace/lib/lang\", \"ace/clipboard\", \"ace/lib/keys\"], function (require, exports, module) {\n  \"use strict\";\n\n  var event = require(\"../lib/event\");\n\n  var useragent = require(\"../lib/useragent\");\n\n  var dom = require(\"../lib/dom\");\n\n  var lang = require(\"../lib/lang\");\n\n  var clipboard = require(\"../clipboard\");\n\n  var BROKEN_SETDATA = useragent.isChrome < 18;\n  var USE_IE_MIME_TYPE = useragent.isIE;\n  var HAS_FOCUS_ARGS = useragent.isChrome > 63;\n  var MAX_LINE_LENGTH = 400;\n\n  var KEYS = require(\"../lib/keys\");\n\n  var MODS = KEYS.KEY_MODS;\n  var isIOS = useragent.isIOS;\n  var valueResetRegex = isIOS ? /\\s/ : /\\n/;\n  var isMobile = useragent.isMobile;\n\n  var TextInput = function TextInput(parentNode, host) {\n    var text = dom.createElement(\"textarea\");\n    text.className = \"ace_text-input\";\n    text.setAttribute(\"wrap\", \"off\");\n    text.setAttribute(\"autocorrect\", \"off\");\n    text.setAttribute(\"autocapitalize\", \"off\");\n    text.setAttribute(\"spellcheck\", false);\n    text.style.opacity = \"0\";\n    parentNode.insertBefore(text, parentNode.firstChild);\n    var copied = false;\n    var pasted = false;\n    var inComposition = false;\n    var sendingText = false;\n    var tempStyle = '';\n    if (!isMobile) text.style.fontSize = \"1px\";\n    var commandMode = false;\n    var ignoreFocusEvents = false;\n    var lastValue = \"\";\n    var lastSelectionStart = 0;\n    var lastSelectionEnd = 0;\n    var lastRestoreEnd = 0;\n\n    try {\n      var isFocused = document.activeElement === text;\n    } catch (e) {}\n\n    event.addListener(text, \"blur\", function (e) {\n      if (ignoreFocusEvents) return;\n      host.onBlur(e);\n      isFocused = false;\n    }, host);\n    event.addListener(text, \"focus\", function (e) {\n      if (ignoreFocusEvents) return;\n      isFocused = true;\n\n      if (useragent.isEdge) {\n        try {\n          if (!document.hasFocus()) return;\n        } catch (e) {}\n      }\n\n      host.onFocus(e);\n      if (useragent.isEdge) setTimeout(resetSelection);else resetSelection();\n    }, host);\n    this.$focusScroll = false;\n\n    this.focus = function () {\n      if (tempStyle || HAS_FOCUS_ARGS || this.$focusScroll == \"browser\") return text.focus({\n        preventScroll: true\n      });\n      var top = text.style.top;\n      text.style.position = \"fixed\";\n      text.style.top = \"0px\";\n\n      try {\n        var isTransformed = text.getBoundingClientRect().top != 0;\n      } catch (e) {\n        return;\n      }\n\n      var ancestors = [];\n\n      if (isTransformed) {\n        var t = text.parentElement;\n\n        while (t && t.nodeType == 1) {\n          ancestors.push(t);\n          t.setAttribute(\"ace_nocontext\", true);\n          if (!t.parentElement && t.getRootNode) t = t.getRootNode().host;else t = t.parentElement;\n        }\n      }\n\n      text.focus({\n        preventScroll: true\n      });\n\n      if (isTransformed) {\n        ancestors.forEach(function (p) {\n          p.removeAttribute(\"ace_nocontext\");\n        });\n      }\n\n      setTimeout(function () {\n        text.style.position = \"\";\n        if (text.style.top == \"0px\") text.style.top = top;\n      }, 0);\n    };\n\n    this.blur = function () {\n      text.blur();\n    };\n\n    this.isFocused = function () {\n      return isFocused;\n    };\n\n    host.on(\"beforeEndOperation\", function () {\n      var curOp = host.curOp;\n      var commandName = curOp && curOp.command && curOp.command.name;\n      if (commandName == \"insertstring\") return;\n      var isUserAction = commandName && (curOp.docChanged || curOp.selectionChanged);\n\n      if (inComposition && isUserAction) {\n        lastValue = text.value = \"\";\n        onCompositionEnd();\n      }\n\n      resetSelection();\n    });\n    var resetSelection = isIOS ? function (value) {\n      if (!isFocused || copied && !value || sendingText) return;\n      if (!value) value = \"\";\n      var newValue = \"\\n ab\" + value + \"cde fg\\n\";\n      if (newValue != text.value) text.value = lastValue = newValue;\n      var selectionStart = 4;\n      var selectionEnd = 4 + (value.length || (host.selection.isEmpty() ? 0 : 1));\n\n      if (lastSelectionStart != selectionStart || lastSelectionEnd != selectionEnd) {\n        text.setSelectionRange(selectionStart, selectionEnd);\n      }\n\n      lastSelectionStart = selectionStart;\n      lastSelectionEnd = selectionEnd;\n    } : function () {\n      if (inComposition || sendingText) return;\n      if (!isFocused && !afterContextMenu) return;\n      inComposition = true;\n      var selectionStart = 0;\n      var selectionEnd = 0;\n      var line = \"\";\n\n      if (host.session) {\n        var selection = host.selection;\n        var range = selection.getRange();\n        var row = selection.cursor.row;\n        selectionStart = range.start.column;\n        selectionEnd = range.end.column;\n        line = host.session.getLine(row);\n\n        if (range.start.row != row) {\n          var prevLine = host.session.getLine(row - 1);\n          selectionStart = range.start.row < row - 1 ? 0 : selectionStart;\n          selectionEnd += prevLine.length + 1;\n          line = prevLine + \"\\n\" + line;\n        } else if (range.end.row != row) {\n          var nextLine = host.session.getLine(row + 1);\n          selectionEnd = range.end.row > row + 1 ? nextLine.length : selectionEnd;\n          selectionEnd += line.length + 1;\n          line = line + \"\\n\" + nextLine;\n        } else if (isMobile && row > 0) {\n          line = \"\\n\" + line;\n          selectionEnd += 1;\n          selectionStart += 1;\n        }\n\n        if (line.length > MAX_LINE_LENGTH) {\n          if (selectionStart < MAX_LINE_LENGTH && selectionEnd < MAX_LINE_LENGTH) {\n            line = line.slice(0, MAX_LINE_LENGTH);\n          } else {\n            line = \"\\n\";\n\n            if (selectionStart == selectionEnd) {\n              selectionStart = selectionEnd = 0;\n            } else {\n              selectionStart = 0;\n              selectionEnd = 1;\n            }\n          }\n        }\n      }\n\n      var newValue = line + \"\\n\\n\";\n\n      if (newValue != lastValue) {\n        text.value = lastValue = newValue;\n        lastSelectionStart = lastSelectionEnd = newValue.length;\n      }\n\n      if (afterContextMenu) {\n        lastSelectionStart = text.selectionStart;\n        lastSelectionEnd = text.selectionEnd;\n      }\n\n      if (lastSelectionEnd != selectionEnd || lastSelectionStart != selectionStart || text.selectionEnd != lastSelectionEnd // on ie edge selectionEnd changes silently after the initialization\n      ) {\n          try {\n            text.setSelectionRange(selectionStart, selectionEnd);\n            lastSelectionStart = selectionStart;\n            lastSelectionEnd = selectionEnd;\n          } catch (e) {}\n        }\n\n      inComposition = false;\n    };\n    this.resetSelection = resetSelection;\n    if (isFocused) host.onFocus();\n\n    var isAllSelected = function isAllSelected(text) {\n      return text.selectionStart === 0 && text.selectionEnd >= lastValue.length && text.value === lastValue && lastValue && text.selectionEnd !== lastSelectionEnd;\n    };\n\n    var onSelect = function onSelect(e) {\n      if (inComposition) return;\n\n      if (copied) {\n        copied = false;\n      } else if (isAllSelected(text)) {\n        host.selectAll();\n        resetSelection();\n      } else if (isMobile && text.selectionStart != lastSelectionStart) {\n        resetSelection();\n      }\n    };\n\n    var inputHandler = null;\n\n    this.setInputHandler = function (cb) {\n      inputHandler = cb;\n    };\n\n    this.getInputHandler = function () {\n      return inputHandler;\n    };\n\n    var afterContextMenu = false;\n\n    var sendText = function sendText(value, fromInput) {\n      if (afterContextMenu) afterContextMenu = false;\n\n      if (pasted) {\n        resetSelection();\n        if (value) host.onPaste(value);\n        pasted = false;\n        return \"\";\n      } else {\n        var selectionStart = text.selectionStart;\n        var selectionEnd = text.selectionEnd;\n        var extendLeft = lastSelectionStart;\n        var extendRight = lastValue.length - lastSelectionEnd;\n        var inserted = value;\n        var restoreStart = value.length - selectionStart;\n        var restoreEnd = value.length - selectionEnd;\n        var i = 0;\n\n        while (extendLeft > 0 && lastValue[i] == value[i]) {\n          i++;\n          extendLeft--;\n        }\n\n        inserted = inserted.slice(i);\n        i = 1;\n\n        while (extendRight > 0 && lastValue.length - i > lastSelectionStart - 1 && lastValue[lastValue.length - i] == value[value.length - i]) {\n          i++;\n          extendRight--;\n        }\n\n        restoreStart -= i - 1;\n        restoreEnd -= i - 1;\n        var endIndex = inserted.length - i + 1;\n\n        if (endIndex < 0) {\n          extendLeft = -endIndex;\n          endIndex = 0;\n        }\n\n        inserted = inserted.slice(0, endIndex);\n        if (!fromInput && !inserted && !restoreStart && !extendLeft && !extendRight && !restoreEnd) return \"\";\n        sendingText = true;\n        var shouldReset = false;\n\n        if (useragent.isAndroid && inserted == \". \") {\n          inserted = \"  \";\n          shouldReset = true;\n        }\n\n        if (inserted && !extendLeft && !extendRight && !restoreStart && !restoreEnd || commandMode) {\n          host.onTextInput(inserted);\n        } else {\n          host.onTextInput(inserted, {\n            extendLeft: extendLeft,\n            extendRight: extendRight,\n            restoreStart: restoreStart,\n            restoreEnd: restoreEnd\n          });\n        }\n\n        sendingText = false;\n        lastValue = value;\n        lastSelectionStart = selectionStart;\n        lastSelectionEnd = selectionEnd;\n        lastRestoreEnd = restoreEnd;\n        return shouldReset ? \"\\n\" : inserted;\n      }\n    };\n\n    var onInput = function onInput(e) {\n      if (inComposition) return onCompositionUpdate();\n\n      if (e && e.inputType) {\n        if (e.inputType == \"historyUndo\") return host.execCommand(\"undo\");\n        if (e.inputType == \"historyRedo\") return host.execCommand(\"redo\");\n      }\n\n      var data = text.value;\n      var inserted = sendText(data, true);\n\n      if (data.length > MAX_LINE_LENGTH + 100 || valueResetRegex.test(inserted) || isMobile && lastSelectionStart < 1 && lastSelectionStart == lastSelectionEnd) {\n        resetSelection();\n      }\n    };\n\n    var handleClipboardData = function handleClipboardData(e, data, forceIEMime) {\n      var clipboardData = e.clipboardData || window.clipboardData;\n      if (!clipboardData || BROKEN_SETDATA) return;\n      var mime = USE_IE_MIME_TYPE || forceIEMime ? \"Text\" : \"text/plain\";\n\n      try {\n        if (data) {\n          return clipboardData.setData(mime, data) !== false;\n        } else {\n          return clipboardData.getData(mime);\n        }\n      } catch (e) {\n        if (!forceIEMime) return handleClipboardData(e, data, true);\n      }\n    };\n\n    var doCopy = function doCopy(e, isCut) {\n      var data = host.getCopyText();\n      if (!data) return event.preventDefault(e);\n\n      if (handleClipboardData(e, data)) {\n        if (isIOS) {\n          resetSelection(data);\n          copied = data;\n          setTimeout(function () {\n            copied = false;\n          }, 10);\n        }\n\n        isCut ? host.onCut() : host.onCopy();\n        event.preventDefault(e);\n      } else {\n        copied = true;\n        text.value = data;\n        text.select();\n        setTimeout(function () {\n          copied = false;\n          resetSelection();\n          isCut ? host.onCut() : host.onCopy();\n        });\n      }\n    };\n\n    var onCut = function onCut(e) {\n      doCopy(e, true);\n    };\n\n    var onCopy = function onCopy(e) {\n      doCopy(e, false);\n    };\n\n    var onPaste = function onPaste(e) {\n      var data = handleClipboardData(e);\n      if (clipboard.pasteCancelled()) return;\n\n      if (typeof data == \"string\") {\n        if (data) host.onPaste(data, e);\n        if (useragent.isIE) setTimeout(resetSelection);\n        event.preventDefault(e);\n      } else {\n        text.value = \"\";\n        pasted = true;\n      }\n    };\n\n    event.addCommandKeyListener(text, host.onCommandKey.bind(host), host);\n    event.addListener(text, \"select\", onSelect, host);\n    event.addListener(text, \"input\", onInput, host);\n    event.addListener(text, \"cut\", onCut, host);\n    event.addListener(text, \"copy\", onCopy, host);\n    event.addListener(text, \"paste\", onPaste, host);\n\n    if (!('oncut' in text) || !('oncopy' in text) || !('onpaste' in text)) {\n      event.addListener(parentNode, \"keydown\", function (e) {\n        if (useragent.isMac && !e.metaKey || !e.ctrlKey) return;\n\n        switch (e.keyCode) {\n          case 67:\n            onCopy(e);\n            break;\n\n          case 86:\n            onPaste(e);\n            break;\n\n          case 88:\n            onCut(e);\n            break;\n        }\n      }, host);\n    }\n\n    var onCompositionStart = function onCompositionStart(e) {\n      if (inComposition || !host.onCompositionStart || host.$readOnly) return;\n      inComposition = {};\n      if (commandMode) return;\n      if (e.data) inComposition.useTextareaForIME = false;\n      setTimeout(onCompositionUpdate, 0);\n\n      host._signal(\"compositionStart\");\n\n      host.on(\"mousedown\", cancelComposition);\n      var range = host.getSelectionRange();\n      range.end.row = range.start.row;\n      range.end.column = range.start.column;\n      inComposition.markerRange = range;\n      inComposition.selectionStart = lastSelectionStart;\n      host.onCompositionStart(inComposition);\n\n      if (inComposition.useTextareaForIME) {\n        lastValue = text.value = \"\";\n        lastSelectionStart = 0;\n        lastSelectionEnd = 0;\n      } else {\n        if (text.msGetInputContext) inComposition.context = text.msGetInputContext();\n        if (text.getInputContext) inComposition.context = text.getInputContext();\n      }\n    };\n\n    var onCompositionUpdate = function onCompositionUpdate() {\n      if (!inComposition || !host.onCompositionUpdate || host.$readOnly) return;\n      if (commandMode) return cancelComposition();\n\n      if (inComposition.useTextareaForIME) {\n        host.onCompositionUpdate(text.value);\n      } else {\n        var data = text.value;\n        sendText(data);\n\n        if (inComposition.markerRange) {\n          if (inComposition.context) {\n            inComposition.markerRange.start.column = inComposition.selectionStart = inComposition.context.compositionStartOffset;\n          }\n\n          inComposition.markerRange.end.column = inComposition.markerRange.start.column + lastSelectionEnd - inComposition.selectionStart + lastRestoreEnd;\n        }\n      }\n    };\n\n    var onCompositionEnd = function onCompositionEnd(e) {\n      if (!host.onCompositionEnd || host.$readOnly) return;\n      inComposition = false;\n      host.onCompositionEnd();\n      host.off(\"mousedown\", cancelComposition);\n      if (e) onInput();\n    };\n\n    function cancelComposition() {\n      ignoreFocusEvents = true;\n      text.blur();\n      text.focus();\n      ignoreFocusEvents = false;\n    }\n\n    var syncComposition = lang.delayedCall(onCompositionUpdate, 50).schedule.bind(null, null);\n\n    function onKeyup(e) {\n      if (e.keyCode == 27 && text.value.length < text.selectionStart) {\n        if (!inComposition) lastValue = text.value;\n        lastSelectionStart = lastSelectionEnd = -1;\n        resetSelection();\n      }\n\n      syncComposition();\n    }\n\n    event.addListener(text, \"compositionstart\", onCompositionStart, host);\n    event.addListener(text, \"compositionupdate\", onCompositionUpdate, host);\n    event.addListener(text, \"keyup\", onKeyup, host);\n    event.addListener(text, \"keydown\", syncComposition, host);\n    event.addListener(text, \"compositionend\", onCompositionEnd, host);\n\n    this.getElement = function () {\n      return text;\n    };\n\n    this.setCommandMode = function (value) {\n      commandMode = value;\n      text.readOnly = false;\n    };\n\n    this.setReadOnly = function (readOnly) {\n      if (!commandMode) text.readOnly = readOnly;\n    };\n\n    this.setCopyWithEmptySelection = function (value) {};\n\n    this.onContextMenu = function (e) {\n      afterContextMenu = true;\n      resetSelection();\n\n      host._emit(\"nativecontextmenu\", {\n        target: host,\n        domEvent: e\n      });\n\n      this.moveToMouse(e, true);\n    };\n\n    this.moveToMouse = function (e, bringToFront) {\n      if (!tempStyle) tempStyle = text.style.cssText;\n      text.style.cssText = (bringToFront ? \"z-index:100000;\" : \"\") + (useragent.isIE ? \"opacity:0.1;\" : \"\") + \"text-indent: -\" + (lastSelectionStart + lastSelectionEnd) * host.renderer.characterWidth * 0.5 + \"px;\";\n      var rect = host.container.getBoundingClientRect();\n      var style = dom.computedStyle(host.container);\n      var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n      var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n      var maxTop = rect.bottom - top - text.clientHeight - 2;\n\n      var move = function move(e) {\n        dom.translate(text, e.clientX - left - 2, Math.min(e.clientY - top - 2, maxTop));\n      };\n\n      move(e);\n      if (e.type != \"mousedown\") return;\n      host.renderer.$isMousePressed = true;\n      clearTimeout(closeTimeout);\n      if (useragent.isWin) event.capture(host.container, move, onContextMenuClose);\n    };\n\n    this.onContextMenuClose = onContextMenuClose;\n    var closeTimeout;\n\n    function onContextMenuClose() {\n      clearTimeout(closeTimeout);\n      closeTimeout = setTimeout(function () {\n        if (tempStyle) {\n          text.style.cssText = tempStyle;\n          tempStyle = '';\n        }\n\n        host.renderer.$isMousePressed = false;\n        if (host.renderer.$keepTextAreaAtCursor) host.renderer.$moveTextAreaToCursor();\n      }, 0);\n    }\n\n    var onContextMenu = function onContextMenu(e) {\n      host.textInput.onContextMenu(e);\n      onContextMenuClose();\n    };\n\n    event.addListener(text, \"mouseup\", onContextMenu, host);\n    event.addListener(text, \"mousedown\", function (e) {\n      e.preventDefault();\n      onContextMenuClose();\n    }, host);\n    event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu, host);\n    event.addListener(text, \"contextmenu\", onContextMenu, host);\n    if (isIOS) addIosSelectionHandler(parentNode, host, text);\n\n    function addIosSelectionHandler(parentNode, host, text) {\n      var typingResetTimeout = null;\n      var typing = false;\n      text.addEventListener(\"keydown\", function (e) {\n        if (typingResetTimeout) clearTimeout(typingResetTimeout);\n        typing = true;\n      }, true);\n      text.addEventListener(\"keyup\", function (e) {\n        typingResetTimeout = setTimeout(function () {\n          typing = false;\n        }, 100);\n      }, true);\n\n      var detectArrowKeys = function detectArrowKeys(e) {\n        if (document.activeElement !== text) return;\n        if (typing || inComposition || host.$mouseHandler.isMousePressed) return;\n\n        if (copied) {\n          return;\n        }\n\n        var selectionStart = text.selectionStart;\n        var selectionEnd = text.selectionEnd;\n        var key = null;\n        var modifier = 0;\n\n        if (selectionStart == 0) {\n          key = KEYS.up;\n        } else if (selectionStart == 1) {\n          key = KEYS.home;\n        } else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd] == \"\\n\") {\n          key = KEYS.end;\n        } else if (selectionStart < lastSelectionStart && lastValue[selectionStart - 1] == \" \") {\n          key = KEYS.left;\n          modifier = MODS.option;\n        } else if (selectionStart < lastSelectionStart || selectionStart == lastSelectionStart && lastSelectionEnd != lastSelectionStart && selectionStart == selectionEnd) {\n          key = KEYS.left;\n        } else if (selectionEnd > lastSelectionEnd && lastValue.slice(0, selectionEnd).split(\"\\n\").length > 2) {\n          key = KEYS.down;\n        } else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd - 1] == \" \") {\n          key = KEYS.right;\n          modifier = MODS.option;\n        } else if (selectionEnd > lastSelectionEnd || selectionEnd == lastSelectionEnd && lastSelectionEnd != lastSelectionStart && selectionStart == selectionEnd) {\n          key = KEYS.right;\n        }\n\n        if (selectionStart !== selectionEnd) modifier |= MODS.shift;\n\n        if (key) {\n          var result = host.onCommandKey({}, modifier, key);\n\n          if (!result && host.commands) {\n            key = KEYS.keyCodeToString(key);\n            var command = host.commands.findKeyCommand(modifier, key);\n            if (command) host.execCommand(command);\n          }\n\n          lastSelectionStart = selectionStart;\n          lastSelectionEnd = selectionEnd;\n          resetSelection(\"\");\n        }\n      };\n\n      document.addEventListener(\"selectionchange\", detectArrowKeys);\n      host.on(\"destroy\", function () {\n        document.removeEventListener(\"selectionchange\", detectArrowKeys);\n      });\n    }\n  };\n\n  exports.TextInput = TextInput;\n\n  exports.$setUserAgentForTests = function (_isMobile, _isIOS) {\n    isMobile = _isMobile;\n    isIOS = _isIOS;\n  };\n});\nace.define(\"ace/mouse/default_handlers\", [\"require\", \"exports\", \"module\", \"ace/lib/useragent\"], function (require, exports, module) {\n  \"use strict\";\n\n  var useragent = require(\"../lib/useragent\");\n\n  var DRAG_OFFSET = 0; // pixels\n\n  var SCROLL_COOLDOWN_T = 550; // milliseconds\n\n  function DefaultHandlers(mouseHandler) {\n    mouseHandler.$clickSelection = null;\n    var editor = mouseHandler.editor;\n    editor.setDefaultHandler(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    editor.setDefaultHandler(\"dblclick\", this.onDoubleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"tripleclick\", this.onTripleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"quadclick\", this.onQuadClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"mousewheel\", this.onMouseWheel.bind(mouseHandler));\n    var exports = [\"select\", \"startSelect\", \"selectEnd\", \"selectAllEnd\", \"selectByWordsEnd\", \"selectByLinesEnd\", \"dragWait\", \"dragWaitEnd\", \"focusWait\"];\n    exports.forEach(function (x) {\n      mouseHandler[x] = this[x];\n    }, this);\n    mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, \"getLineRange\");\n    mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, \"getWordRange\");\n  }\n\n  (function () {\n    this.onMouseDown = function (ev) {\n      var inSelection = ev.inSelection();\n      var pos = ev.getDocumentPosition();\n      this.mousedownEvent = ev;\n      var editor = this.editor;\n      var button = ev.getButton();\n\n      if (button !== 0) {\n        var selectionRange = editor.getSelectionRange();\n        var selectionEmpty = selectionRange.isEmpty();\n        if (selectionEmpty || button == 1) editor.selection.moveToPosition(pos);\n\n        if (button == 2) {\n          editor.textInput.onContextMenu(ev.domEvent);\n          if (!useragent.isMozilla) ev.preventDefault();\n        }\n\n        return;\n      }\n\n      this.mousedownEvent.time = Date.now();\n\n      if (inSelection && !editor.isFocused()) {\n        editor.focus();\n\n        if (this.$focusTimeout && !this.$clickSelection && !editor.inMultiSelectMode) {\n          this.setState(\"focusWait\");\n          this.captureMouse(ev);\n          return;\n        }\n      }\n\n      this.captureMouse(ev);\n      this.startSelect(pos, ev.domEvent._clicks > 1);\n      return ev.preventDefault();\n    };\n\n    this.startSelect = function (pos, waitForClickSelection) {\n      pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);\n      var editor = this.editor;\n      if (!this.mousedownEvent) return;\n      if (this.mousedownEvent.getShiftKey()) editor.selection.selectToPosition(pos);else if (!waitForClickSelection) editor.selection.moveToPosition(pos);\n      if (!waitForClickSelection) this.select();\n\n      if (editor.renderer.scroller.setCapture) {\n        editor.renderer.scroller.setCapture();\n      }\n\n      editor.setStyle(\"ace_selecting\");\n      this.setState(\"select\");\n    };\n\n    this.select = function () {\n      var anchor,\n          editor = this.editor;\n      var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n\n      if (this.$clickSelection) {\n        var cmp = this.$clickSelection.comparePoint(cursor);\n\n        if (cmp == -1) {\n          anchor = this.$clickSelection.end;\n        } else if (cmp == 1) {\n          anchor = this.$clickSelection.start;\n        } else {\n          var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n          cursor = orientedRange.cursor;\n          anchor = orientedRange.anchor;\n        }\n\n        editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n      }\n\n      editor.selection.selectToPosition(cursor);\n      editor.renderer.scrollCursorIntoView();\n    };\n\n    this.extendSelectionBy = function (unitName) {\n      var anchor,\n          editor = this.editor;\n      var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n      var range = editor.selection[unitName](cursor.row, cursor.column);\n\n      if (this.$clickSelection) {\n        var cmpStart = this.$clickSelection.comparePoint(range.start);\n        var cmpEnd = this.$clickSelection.comparePoint(range.end);\n\n        if (cmpStart == -1 && cmpEnd <= 0) {\n          anchor = this.$clickSelection.end;\n          if (range.end.row != cursor.row || range.end.column != cursor.column) cursor = range.start;\n        } else if (cmpEnd == 1 && cmpStart >= 0) {\n          anchor = this.$clickSelection.start;\n          if (range.start.row != cursor.row || range.start.column != cursor.column) cursor = range.end;\n        } else if (cmpStart == -1 && cmpEnd == 1) {\n          cursor = range.end;\n          anchor = range.start;\n        } else {\n          var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n          cursor = orientedRange.cursor;\n          anchor = orientedRange.anchor;\n        }\n\n        editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n      }\n\n      editor.selection.selectToPosition(cursor);\n      editor.renderer.scrollCursorIntoView();\n    };\n\n    this.selectEnd = this.selectAllEnd = this.selectByWordsEnd = this.selectByLinesEnd = function () {\n      this.$clickSelection = null;\n      this.editor.unsetStyle(\"ace_selecting\");\n\n      if (this.editor.renderer.scroller.releaseCapture) {\n        this.editor.renderer.scroller.releaseCapture();\n      }\n    };\n\n    this.focusWait = function () {\n      var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n      var time = Date.now();\n      if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimeout) this.startSelect(this.mousedownEvent.getDocumentPosition());\n    };\n\n    this.onDoubleClick = function (ev) {\n      var pos = ev.getDocumentPosition();\n      var editor = this.editor;\n      var session = editor.session;\n      var range = session.getBracketRange(pos);\n\n      if (range) {\n        if (range.isEmpty()) {\n          range.start.column--;\n          range.end.column++;\n        }\n\n        this.setState(\"select\");\n      } else {\n        range = editor.selection.getWordRange(pos.row, pos.column);\n        this.setState(\"selectByWords\");\n      }\n\n      this.$clickSelection = range;\n      this.select();\n    };\n\n    this.onTripleClick = function (ev) {\n      var pos = ev.getDocumentPosition();\n      var editor = this.editor;\n      this.setState(\"selectByLines\");\n      var range = editor.getSelectionRange();\n\n      if (range.isMultiLine() && range.contains(pos.row, pos.column)) {\n        this.$clickSelection = editor.selection.getLineRange(range.start.row);\n        this.$clickSelection.end = editor.selection.getLineRange(range.end.row).end;\n      } else {\n        this.$clickSelection = editor.selection.getLineRange(pos.row);\n      }\n\n      this.select();\n    };\n\n    this.onQuadClick = function (ev) {\n      var editor = this.editor;\n      editor.selectAll();\n      this.$clickSelection = editor.getSelectionRange();\n      this.setState(\"selectAll\");\n    };\n\n    this.onMouseWheel = function (ev) {\n      if (ev.getAccelKey()) return;\n\n      if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {\n        ev.wheelX = ev.wheelY;\n        ev.wheelY = 0;\n      }\n\n      var editor = this.editor;\n      if (!this.$lastScroll) this.$lastScroll = {\n        t: 0,\n        vx: 0,\n        vy: 0,\n        allowed: 0\n      };\n      var prevScroll = this.$lastScroll;\n      var t = ev.domEvent.timeStamp;\n      var dt = t - prevScroll.t;\n      var vx = dt ? ev.wheelX / dt : prevScroll.vx;\n      var vy = dt ? ev.wheelY / dt : prevScroll.vy;\n\n      if (dt < SCROLL_COOLDOWN_T) {\n        vx = (vx + prevScroll.vx) / 2;\n        vy = (vy + prevScroll.vy) / 2;\n      }\n\n      var direction = Math.abs(vx / vy);\n      var canScroll = false;\n      if (direction >= 1 && editor.renderer.isScrollableBy(ev.wheelX * ev.speed, 0)) canScroll = true;\n      if (direction <= 1 && editor.renderer.isScrollableBy(0, ev.wheelY * ev.speed)) canScroll = true;\n\n      if (canScroll) {\n        prevScroll.allowed = t;\n      } else if (t - prevScroll.allowed < SCROLL_COOLDOWN_T) {\n        var isSlower = Math.abs(vx) <= 1.5 * Math.abs(prevScroll.vx) && Math.abs(vy) <= 1.5 * Math.abs(prevScroll.vy);\n\n        if (isSlower) {\n          canScroll = true;\n          prevScroll.allowed = t;\n        } else {\n          prevScroll.allowed = 0;\n        }\n      }\n\n      prevScroll.t = t;\n      prevScroll.vx = vx;\n      prevScroll.vy = vy;\n\n      if (canScroll) {\n        editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n        return ev.stop();\n      }\n    };\n  }).call(DefaultHandlers.prototype);\n  exports.DefaultHandlers = DefaultHandlers;\n\n  function calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n  }\n\n  function calcRangeOrientation(range, cursor) {\n    if (range.start.row == range.end.row) var cmp = 2 * cursor.column - range.start.column - range.end.column;else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column) var cmp = cursor.column - 4;else var cmp = 2 * cursor.row - range.start.row - range.end.row;\n    if (cmp < 0) return {\n      cursor: range.start,\n      anchor: range.end\n    };else return {\n      cursor: range.end,\n      anchor: range.start\n    };\n  }\n});\nace.define(\"ace/tooltip\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\"], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"./lib/oop\");\n\n  var dom = require(\"./lib/dom\");\n\n  function Tooltip(parentNode) {\n    this.isOpen = false;\n    this.$element = null;\n    this.$parentNode = parentNode;\n  }\n\n  (function () {\n    this.$init = function () {\n      this.$element = dom.createElement(\"div\");\n      this.$element.className = \"ace_tooltip\";\n      this.$element.style.display = \"none\";\n      this.$parentNode.appendChild(this.$element);\n      return this.$element;\n    };\n\n    this.getElement = function () {\n      return this.$element || this.$init();\n    };\n\n    this.setText = function (text) {\n      this.getElement().textContent = text;\n    };\n\n    this.setHtml = function (html) {\n      this.getElement().innerHTML = html;\n    };\n\n    this.setPosition = function (x, y) {\n      this.getElement().style.left = x + \"px\";\n      this.getElement().style.top = y + \"px\";\n    };\n\n    this.setClassName = function (className) {\n      dom.addCssClass(this.getElement(), className);\n    };\n\n    this.show = function (text, x, y) {\n      if (text != null) this.setText(text);\n      if (x != null && y != null) this.setPosition(x, y);\n\n      if (!this.isOpen) {\n        this.getElement().style.display = \"block\";\n        this.isOpen = true;\n      }\n    };\n\n    this.hide = function () {\n      if (this.isOpen) {\n        this.getElement().style.display = \"none\";\n        this.isOpen = false;\n      }\n    };\n\n    this.getHeight = function () {\n      return this.getElement().offsetHeight;\n    };\n\n    this.getWidth = function () {\n      return this.getElement().offsetWidth;\n    };\n\n    this.destroy = function () {\n      this.isOpen = false;\n\n      if (this.$element && this.$element.parentNode) {\n        this.$element.parentNode.removeChild(this.$element);\n      }\n    };\n  }).call(Tooltip.prototype);\n  exports.Tooltip = Tooltip;\n});\nace.define(\"ace/mouse/default_gutter_handler\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/lib/oop\", \"ace/lib/event\", \"ace/tooltip\"], function (require, exports, module) {\n  \"use strict\";\n\n  var dom = require(\"../lib/dom\");\n\n  var oop = require(\"../lib/oop\");\n\n  var event = require(\"../lib/event\");\n\n  var Tooltip = require(\"../tooltip\").Tooltip;\n\n  function GutterHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var gutter = editor.renderer.$gutterLayer;\n    var tooltip = new GutterTooltip(editor.container);\n    mouseHandler.editor.setDefaultHandler(\"guttermousedown\", function (e) {\n      if (!editor.isFocused() || e.getButton() != 0) return;\n      var gutterRegion = gutter.getRegion(e);\n      if (gutterRegion == \"foldWidgets\") return;\n      var row = e.getDocumentPosition().row;\n      var selection = editor.session.selection;\n      if (e.getShiftKey()) selection.selectTo(row, 0);else {\n        if (e.domEvent.detail == 2) {\n          editor.selectAll();\n          return e.preventDefault();\n        }\n\n        mouseHandler.$clickSelection = editor.selection.getLineRange(row);\n      }\n      mouseHandler.setState(\"selectByLines\");\n      mouseHandler.captureMouse(e);\n      return e.preventDefault();\n    });\n    var tooltipTimeout, mouseEvent, tooltipAnnotation;\n\n    function showTooltip() {\n      var row = mouseEvent.getDocumentPosition().row;\n      var annotation = gutter.$annotations[row];\n      if (!annotation) return hideTooltip();\n      var maxRow = editor.session.getLength();\n\n      if (row == maxRow) {\n        var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;\n        var pos = mouseEvent.$pos;\n        if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column)) return hideTooltip();\n      }\n\n      if (tooltipAnnotation == annotation) return;\n      tooltipAnnotation = annotation.text.join(\"<br/>\");\n      tooltip.setHtml(tooltipAnnotation);\n      tooltip.show();\n\n      editor._signal(\"showGutterTooltip\", tooltip);\n\n      editor.on(\"mousewheel\", hideTooltip);\n\n      if (mouseHandler.$tooltipFollowsMouse) {\n        moveTooltip(mouseEvent);\n      } else {\n        var gutterElement = mouseEvent.domEvent.target;\n        var rect = gutterElement.getBoundingClientRect();\n        var style = tooltip.getElement().style;\n        style.left = rect.right + \"px\";\n        style.top = rect.bottom + \"px\";\n      }\n    }\n\n    function hideTooltip() {\n      if (tooltipTimeout) tooltipTimeout = clearTimeout(tooltipTimeout);\n\n      if (tooltipAnnotation) {\n        tooltip.hide();\n        tooltipAnnotation = null;\n\n        editor._signal(\"hideGutterTooltip\", tooltip);\n\n        editor.off(\"mousewheel\", hideTooltip);\n      }\n    }\n\n    function moveTooltip(e) {\n      tooltip.setPosition(e.x, e.y);\n    }\n\n    mouseHandler.editor.setDefaultHandler(\"guttermousemove\", function (e) {\n      var target = e.domEvent.target || e.domEvent.srcElement;\n      if (dom.hasCssClass(target, \"ace_fold-widget\")) return hideTooltip();\n      if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse) moveTooltip(e);\n      mouseEvent = e;\n      if (tooltipTimeout) return;\n      tooltipTimeout = setTimeout(function () {\n        tooltipTimeout = null;\n        if (mouseEvent && !mouseHandler.isMousePressed) showTooltip();else hideTooltip();\n      }, 50);\n    });\n    event.addListener(editor.renderer.$gutter, \"mouseout\", function (e) {\n      mouseEvent = null;\n      if (!tooltipAnnotation || tooltipTimeout) return;\n      tooltipTimeout = setTimeout(function () {\n        tooltipTimeout = null;\n        hideTooltip();\n      }, 50);\n    }, editor);\n    editor.on(\"changeSession\", hideTooltip);\n  }\n\n  function GutterTooltip(parentNode) {\n    Tooltip.call(this, parentNode);\n  }\n\n  oop.inherits(GutterTooltip, Tooltip);\n  (function () {\n    this.setPosition = function (x, y) {\n      var windowWidth = window.innerWidth || document.documentElement.clientWidth;\n      var windowHeight = window.innerHeight || document.documentElement.clientHeight;\n      var width = this.getWidth();\n      var height = this.getHeight();\n      x += 15;\n      y += 15;\n\n      if (x + width > windowWidth) {\n        x -= x + width - windowWidth;\n      }\n\n      if (y + height > windowHeight) {\n        y -= 20 + height;\n      }\n\n      Tooltip.prototype.setPosition.call(this, x, y);\n    };\n  }).call(GutterTooltip.prototype);\n  exports.GutterHandler = GutterHandler;\n});\nace.define(\"ace/mouse/mouse_event\", [\"require\", \"exports\", \"module\", \"ace/lib/event\", \"ace/lib/useragent\"], function (require, exports, module) {\n  \"use strict\";\n\n  var event = require(\"../lib/event\");\n\n  var useragent = require(\"../lib/useragent\");\n\n  var MouseEvent = exports.MouseEvent = function (domEvent, editor) {\n    this.domEvent = domEvent;\n    this.editor = editor;\n    this.x = this.clientX = domEvent.clientX;\n    this.y = this.clientY = domEvent.clientY;\n    this.$pos = null;\n    this.$inSelection = null;\n    this.propagationStopped = false;\n    this.defaultPrevented = false;\n  };\n\n  (function () {\n    this.stopPropagation = function () {\n      event.stopPropagation(this.domEvent);\n      this.propagationStopped = true;\n    };\n\n    this.preventDefault = function () {\n      event.preventDefault(this.domEvent);\n      this.defaultPrevented = true;\n    };\n\n    this.stop = function () {\n      this.stopPropagation();\n      this.preventDefault();\n    };\n\n    this.getDocumentPosition = function () {\n      if (this.$pos) return this.$pos;\n      this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);\n      return this.$pos;\n    };\n\n    this.inSelection = function () {\n      if (this.$inSelection !== null) return this.$inSelection;\n      var editor = this.editor;\n      var selectionRange = editor.getSelectionRange();\n      if (selectionRange.isEmpty()) this.$inSelection = false;else {\n        var pos = this.getDocumentPosition();\n        this.$inSelection = selectionRange.contains(pos.row, pos.column);\n      }\n      return this.$inSelection;\n    };\n\n    this.getButton = function () {\n      return event.getButton(this.domEvent);\n    };\n\n    this.getShiftKey = function () {\n      return this.domEvent.shiftKey;\n    };\n\n    this.getAccelKey = useragent.isMac ? function () {\n      return this.domEvent.metaKey;\n    } : function () {\n      return this.domEvent.ctrlKey;\n    };\n  }).call(MouseEvent.prototype);\n});\nace.define(\"ace/mouse/dragdrop_handler\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/lib/event\", \"ace/lib/useragent\"], function (require, exports, module) {\n  \"use strict\";\n\n  var dom = require(\"../lib/dom\");\n\n  var event = require(\"../lib/event\");\n\n  var useragent = require(\"../lib/useragent\");\n\n  var AUTOSCROLL_DELAY = 200;\n  var SCROLL_CURSOR_DELAY = 200;\n  var SCROLL_CURSOR_HYSTERESIS = 5;\n\n  function DragdropHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var blankImage = dom.createElement(\"img\");\n    blankImage.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n    if (useragent.isOpera) blankImage.style.cssText = \"width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;\";\n    var exports = [\"dragWait\", \"dragWaitEnd\", \"startDrag\", \"dragReadyEnd\", \"onMouseDrag\"];\n    exports.forEach(function (x) {\n      mouseHandler[x] = this[x];\n    }, this);\n    editor.on(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    var mouseTarget = editor.container;\n    var dragSelectionMarker, x, y;\n    var timerId, range;\n    var dragCursor,\n        counter = 0;\n    var dragOperation;\n    var isInternal;\n    var autoScrollStartTime;\n    var cursorMovedTime;\n    var cursorPointOnCaretMoved;\n\n    this.onDragStart = function (e) {\n      if (this.cancelDrag || !mouseTarget.draggable) {\n        var self = this;\n        setTimeout(function () {\n          self.startSelect();\n          self.captureMouse(e);\n        }, 0);\n        return e.preventDefault();\n      }\n\n      range = editor.getSelectionRange();\n      var dataTransfer = e.dataTransfer;\n      dataTransfer.effectAllowed = editor.getReadOnly() ? \"copy\" : \"copyMove\";\n\n      if (useragent.isOpera) {\n        editor.container.appendChild(blankImage);\n        blankImage.scrollTop = 0;\n      }\n\n      dataTransfer.setDragImage && dataTransfer.setDragImage(blankImage, 0, 0);\n\n      if (useragent.isOpera) {\n        editor.container.removeChild(blankImage);\n      }\n\n      dataTransfer.clearData();\n      dataTransfer.setData(\"Text\", editor.session.getTextRange());\n      isInternal = true;\n      this.setState(\"drag\");\n    };\n\n    this.onDragEnd = function (e) {\n      mouseTarget.draggable = false;\n      isInternal = false;\n      this.setState(null);\n\n      if (!editor.getReadOnly()) {\n        var dropEffect = e.dataTransfer.dropEffect;\n        if (!dragOperation && dropEffect == \"move\") editor.session.remove(editor.getSelectionRange());\n        editor.$resetCursorStyle();\n      }\n\n      this.editor.unsetStyle(\"ace_dragging\");\n      this.editor.renderer.setCursorStyle(\"\");\n    };\n\n    this.onDragEnter = function (e) {\n      if (editor.getReadOnly() || !canAccept(e.dataTransfer)) return;\n      x = e.clientX;\n      y = e.clientY;\n      if (!dragSelectionMarker) addDragMarker();\n      counter++;\n      e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n      return event.preventDefault(e);\n    };\n\n    this.onDragOver = function (e) {\n      if (editor.getReadOnly() || !canAccept(e.dataTransfer)) return;\n      x = e.clientX;\n      y = e.clientY;\n\n      if (!dragSelectionMarker) {\n        addDragMarker();\n        counter++;\n      }\n\n      if (onMouseMoveTimer !== null) onMouseMoveTimer = null;\n      e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n      return event.preventDefault(e);\n    };\n\n    this.onDragLeave = function (e) {\n      counter--;\n\n      if (counter <= 0 && dragSelectionMarker) {\n        clearDragMarker();\n        dragOperation = null;\n        return event.preventDefault(e);\n      }\n    };\n\n    this.onDrop = function (e) {\n      if (!dragCursor) return;\n      var dataTransfer = e.dataTransfer;\n\n      if (isInternal) {\n        switch (dragOperation) {\n          case \"move\":\n            if (range.contains(dragCursor.row, dragCursor.column)) {\n              range = {\n                start: dragCursor,\n                end: dragCursor\n              };\n            } else {\n              range = editor.moveText(range, dragCursor);\n            }\n\n            break;\n\n          case \"copy\":\n            range = editor.moveText(range, dragCursor, true);\n            break;\n        }\n      } else {\n        var dropData = dataTransfer.getData('Text');\n        range = {\n          start: dragCursor,\n          end: editor.session.insert(dragCursor, dropData)\n        };\n        editor.focus();\n        dragOperation = null;\n      }\n\n      clearDragMarker();\n      return event.preventDefault(e);\n    };\n\n    event.addListener(mouseTarget, \"dragstart\", this.onDragStart.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragend\", this.onDragEnd.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragenter\", this.onDragEnter.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragover\", this.onDragOver.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragleave\", this.onDragLeave.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"drop\", this.onDrop.bind(mouseHandler), editor);\n\n    function scrollCursorIntoView(cursor, prevCursor) {\n      var now = Date.now();\n      var vMovement = !prevCursor || cursor.row != prevCursor.row;\n      var hMovement = !prevCursor || cursor.column != prevCursor.column;\n\n      if (!cursorMovedTime || vMovement || hMovement) {\n        editor.moveCursorToPosition(cursor);\n        cursorMovedTime = now;\n        cursorPointOnCaretMoved = {\n          x: x,\n          y: y\n        };\n      } else {\n        var distance = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x, y);\n\n        if (distance > SCROLL_CURSOR_HYSTERESIS) {\n          cursorMovedTime = null;\n        } else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {\n          editor.renderer.scrollCursorIntoView();\n          cursorMovedTime = null;\n        }\n      }\n    }\n\n    function autoScroll(cursor, prevCursor) {\n      var now = Date.now();\n      var lineHeight = editor.renderer.layerConfig.lineHeight;\n      var characterWidth = editor.renderer.layerConfig.characterWidth;\n      var editorRect = editor.renderer.scroller.getBoundingClientRect();\n      var offsets = {\n        x: {\n          left: x - editorRect.left,\n          right: editorRect.right - x\n        },\n        y: {\n          top: y - editorRect.top,\n          bottom: editorRect.bottom - y\n        }\n      };\n      var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);\n      var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);\n      var scrollCursor = {\n        row: cursor.row,\n        column: cursor.column\n      };\n\n      if (nearestXOffset / characterWidth <= 2) {\n        scrollCursor.column += offsets.x.left < offsets.x.right ? -3 : +2;\n      }\n\n      if (nearestYOffset / lineHeight <= 1) {\n        scrollCursor.row += offsets.y.top < offsets.y.bottom ? -1 : +1;\n      }\n\n      var vScroll = cursor.row != scrollCursor.row;\n      var hScroll = cursor.column != scrollCursor.column;\n      var vMovement = !prevCursor || cursor.row != prevCursor.row;\n\n      if (vScroll || hScroll && !vMovement) {\n        if (!autoScrollStartTime) autoScrollStartTime = now;else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY) editor.renderer.scrollCursorIntoView(scrollCursor);\n      } else {\n        autoScrollStartTime = null;\n      }\n    }\n\n    function onDragInterval() {\n      var prevCursor = dragCursor;\n      dragCursor = editor.renderer.screenToTextCoordinates(x, y);\n      scrollCursorIntoView(dragCursor, prevCursor);\n      autoScroll(dragCursor, prevCursor);\n    }\n\n    function addDragMarker() {\n      range = editor.selection.toOrientedRange();\n      dragSelectionMarker = editor.session.addMarker(range, \"ace_selection\", editor.getSelectionStyle());\n      editor.clearSelection();\n      if (editor.isFocused()) editor.renderer.$cursorLayer.setBlinking(false);\n      clearInterval(timerId);\n      onDragInterval();\n      timerId = setInterval(onDragInterval, 20);\n      counter = 0;\n      event.addListener(document, \"mousemove\", onMouseMove);\n    }\n\n    function clearDragMarker() {\n      clearInterval(timerId);\n      editor.session.removeMarker(dragSelectionMarker);\n      dragSelectionMarker = null;\n      editor.selection.fromOrientedRange(range);\n      if (editor.isFocused() && !isInternal) editor.$resetCursorStyle();\n      range = null;\n      dragCursor = null;\n      counter = 0;\n      autoScrollStartTime = null;\n      cursorMovedTime = null;\n      event.removeListener(document, \"mousemove\", onMouseMove);\n    }\n\n    var onMouseMoveTimer = null;\n\n    function onMouseMove() {\n      if (onMouseMoveTimer == null) {\n        onMouseMoveTimer = setTimeout(function () {\n          if (onMouseMoveTimer != null && dragSelectionMarker) clearDragMarker();\n        }, 20);\n      }\n    }\n\n    function canAccept(dataTransfer) {\n      var types = dataTransfer.types;\n      return !types || Array.prototype.some.call(types, function (type) {\n        return type == 'text/plain' || type == 'Text';\n      });\n    }\n\n    function getDropEffect(e) {\n      var copyAllowed = ['copy', 'copymove', 'all', 'uninitialized'];\n      var moveAllowed = ['move', 'copymove', 'linkmove', 'all', 'uninitialized'];\n      var copyModifierState = useragent.isMac ? e.altKey : e.ctrlKey;\n      var effectAllowed = \"uninitialized\";\n\n      try {\n        effectAllowed = e.dataTransfer.effectAllowed.toLowerCase();\n      } catch (e) {}\n\n      var dropEffect = \"none\";\n      if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0) dropEffect = \"copy\";else if (moveAllowed.indexOf(effectAllowed) >= 0) dropEffect = \"move\";else if (copyAllowed.indexOf(effectAllowed) >= 0) dropEffect = \"copy\";\n      return dropEffect;\n    }\n  }\n\n  (function () {\n    this.dragWait = function () {\n      var interval = Date.now() - this.mousedownEvent.time;\n      if (interval > this.editor.getDragDelay()) this.startDrag();\n    };\n\n    this.dragWaitEnd = function () {\n      var target = this.editor.container;\n      target.draggable = false;\n      this.startSelect(this.mousedownEvent.getDocumentPosition());\n      this.selectEnd();\n    };\n\n    this.dragReadyEnd = function (e) {\n      this.editor.$resetCursorStyle();\n      this.editor.unsetStyle(\"ace_dragging\");\n      this.editor.renderer.setCursorStyle(\"\");\n      this.dragWaitEnd();\n    };\n\n    this.startDrag = function () {\n      this.cancelDrag = false;\n      var editor = this.editor;\n      var target = editor.container;\n      target.draggable = true;\n      editor.renderer.$cursorLayer.setBlinking(false);\n      editor.setStyle(\"ace_dragging\");\n      var cursorStyle = useragent.isWin ? \"default\" : \"move\";\n      editor.renderer.setCursorStyle(cursorStyle);\n      this.setState(\"dragReady\");\n    };\n\n    this.onMouseDrag = function (e) {\n      var target = this.editor.container;\n\n      if (useragent.isIE && this.state == \"dragReady\") {\n        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n        if (distance > 3) target.dragDrop();\n      }\n\n      if (this.state === \"dragWait\") {\n        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n\n        if (distance > 0) {\n          target.draggable = false;\n          this.startSelect(this.mousedownEvent.getDocumentPosition());\n        }\n      }\n    };\n\n    this.onMouseDown = function (e) {\n      if (!this.$dragEnabled) return;\n      this.mousedownEvent = e;\n      var editor = this.editor;\n      var inSelection = e.inSelection();\n      var button = e.getButton();\n      var clickCount = e.domEvent.detail || 1;\n\n      if (clickCount === 1 && button === 0 && inSelection) {\n        if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey())) return;\n        this.mousedownEvent.time = Date.now();\n        var eventTarget = e.domEvent.target || e.domEvent.srcElement;\n        if (\"unselectable\" in eventTarget) eventTarget.unselectable = \"on\";\n\n        if (editor.getDragDelay()) {\n          if (useragent.isWebKit) {\n            this.cancelDrag = true;\n            var mouseTarget = editor.container;\n            mouseTarget.draggable = true;\n          }\n\n          this.setState(\"dragWait\");\n        } else {\n          this.startDrag();\n        }\n\n        this.captureMouse(e, this.onMouseDrag.bind(this));\n        e.defaultPrevented = true;\n      }\n    };\n  }).call(DragdropHandler.prototype);\n\n  function calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n  }\n\n  exports.DragdropHandler = DragdropHandler;\n});\nace.define(\"ace/mouse/touch_handler\", [\"require\", \"exports\", \"module\", \"ace/mouse/mouse_event\", \"ace/lib/event\", \"ace/lib/dom\"], function (require, exports, module) {\n  \"use strict\";\n\n  var MouseEvent = require(\"./mouse_event\").MouseEvent;\n\n  var event = require(\"../lib/event\");\n\n  var dom = require(\"../lib/dom\");\n\n  exports.addTouchListeners = function (el, editor) {\n    var mode = \"scroll\";\n    var startX;\n    var startY;\n    var touchStartT;\n    var lastT;\n    var longTouchTimer;\n    var animationTimer;\n    var animationSteps = 0;\n    var pos;\n    var clickCount = 0;\n    var vX = 0;\n    var vY = 0;\n    var pressed;\n    var contextMenu;\n\n    function createContextMenu() {\n      var clipboard = window.navigator && window.navigator.clipboard;\n      var isOpen = false;\n\n      var updateMenu = function updateMenu() {\n        var selected = editor.getCopyText();\n        var hasUndo = editor.session.getUndoManager().hasUndo();\n        contextMenu.replaceChild(dom.buildDom(isOpen ? [\"span\", !selected && [\"span\", {\n          class: \"ace_mobile-button\",\n          action: \"selectall\"\n        }, \"Select All\"], selected && [\"span\", {\n          class: \"ace_mobile-button\",\n          action: \"copy\"\n        }, \"Copy\"], selected && [\"span\", {\n          class: \"ace_mobile-button\",\n          action: \"cut\"\n        }, \"Cut\"], clipboard && [\"span\", {\n          class: \"ace_mobile-button\",\n          action: \"paste\"\n        }, \"Paste\"], hasUndo && [\"span\", {\n          class: \"ace_mobile-button\",\n          action: \"undo\"\n        }, \"Undo\"], [\"span\", {\n          class: \"ace_mobile-button\",\n          action: \"find\"\n        }, \"Find\"], [\"span\", {\n          class: \"ace_mobile-button\",\n          action: \"openCommandPallete\"\n        }, \"Pallete\"]] : [\"span\"]), contextMenu.firstChild);\n      };\n\n      var handleClick = function handleClick(e) {\n        var action = e.target.getAttribute(\"action\");\n\n        if (action == \"more\" || !isOpen) {\n          isOpen = !isOpen;\n          return updateMenu();\n        }\n\n        if (action == \"paste\") {\n          clipboard.readText().then(function (text) {\n            editor.execCommand(action, text);\n          });\n        } else if (action) {\n          if (action == \"cut\" || action == \"copy\") {\n            if (clipboard) clipboard.writeText(editor.getCopyText());else document.execCommand(\"copy\");\n          }\n\n          editor.execCommand(action);\n        }\n\n        contextMenu.firstChild.style.display = \"none\";\n        isOpen = false;\n        if (action != \"openCommandPallete\") editor.focus();\n      };\n\n      contextMenu = dom.buildDom([\"div\", {\n        class: \"ace_mobile-menu\",\n        ontouchstart: function ontouchstart(e) {\n          mode = \"menu\";\n          e.stopPropagation();\n          e.preventDefault();\n          editor.textInput.focus();\n        },\n        ontouchend: function ontouchend(e) {\n          e.stopPropagation();\n          e.preventDefault();\n          handleClick(e);\n        },\n        onclick: handleClick\n      }, [\"span\"], [\"span\", {\n        class: \"ace_mobile-button\",\n        action: \"more\"\n      }, \"...\"]], editor.container);\n    }\n\n    function showContextMenu() {\n      if (!contextMenu) createContextMenu();\n      var cursor = editor.selection.cursor;\n      var pagePos = editor.renderer.textToScreenCoordinates(cursor.row, cursor.column);\n      var leftOffset = editor.renderer.textToScreenCoordinates(0, 0).pageX;\n      var scrollLeft = editor.renderer.scrollLeft;\n      var rect = editor.container.getBoundingClientRect();\n      contextMenu.style.top = pagePos.pageY - rect.top - 3 + \"px\";\n\n      if (pagePos.pageX - rect.left < rect.width - 70) {\n        contextMenu.style.left = \"\";\n        contextMenu.style.right = \"10px\";\n      } else {\n        contextMenu.style.right = \"\";\n        contextMenu.style.left = leftOffset + scrollLeft - rect.left + \"px\";\n      }\n\n      contextMenu.style.display = \"\";\n      contextMenu.firstChild.style.display = \"none\";\n      editor.on(\"input\", hideContextMenu);\n    }\n\n    function hideContextMenu(e) {\n      if (contextMenu) contextMenu.style.display = \"none\";\n      editor.off(\"input\", hideContextMenu);\n    }\n\n    function handleLongTap() {\n      longTouchTimer = null;\n      clearTimeout(longTouchTimer);\n      var range = editor.selection.getRange();\n      var inSelection = range.contains(pos.row, pos.column);\n\n      if (range.isEmpty() || !inSelection) {\n        editor.selection.moveToPosition(pos);\n        editor.selection.selectWord();\n      }\n\n      mode = \"wait\";\n      showContextMenu();\n    }\n\n    function switchToSelectionMode() {\n      longTouchTimer = null;\n      clearTimeout(longTouchTimer);\n      editor.selection.moveToPosition(pos);\n      var range = clickCount >= 2 ? editor.selection.getLineRange(pos.row) : editor.session.getBracketRange(pos);\n\n      if (range && !range.isEmpty()) {\n        editor.selection.setRange(range);\n      } else {\n        editor.selection.selectWord();\n      }\n\n      mode = \"wait\";\n    }\n\n    event.addListener(el, \"contextmenu\", function (e) {\n      if (!pressed) return;\n      var textarea = editor.textInput.getElement();\n      textarea.focus();\n    }, editor);\n    event.addListener(el, \"touchstart\", function (e) {\n      var touches = e.touches;\n\n      if (longTouchTimer || touches.length > 1) {\n        clearTimeout(longTouchTimer);\n        longTouchTimer = null;\n        touchStartT = -1;\n        mode = \"zoom\";\n        return;\n      }\n\n      pressed = editor.$mouseHandler.isMousePressed = true;\n      var h = editor.renderer.layerConfig.lineHeight;\n      var w = editor.renderer.layerConfig.lineHeight;\n      var t = e.timeStamp;\n      lastT = t;\n      var touchObj = touches[0];\n      var x = touchObj.clientX;\n      var y = touchObj.clientY;\n      if (Math.abs(startX - x) + Math.abs(startY - y) > h) touchStartT = -1;\n      startX = e.clientX = x;\n      startY = e.clientY = y;\n      vX = vY = 0;\n      var ev = new MouseEvent(e, editor);\n      pos = ev.getDocumentPosition();\n\n      if (t - touchStartT < 500 && touches.length == 1 && !animationSteps) {\n        clickCount++;\n        e.preventDefault();\n        e.button = 0;\n        switchToSelectionMode();\n      } else {\n        clickCount = 0;\n        var cursor = editor.selection.cursor;\n        var anchor = editor.selection.isEmpty() ? cursor : editor.selection.anchor;\n        var cursorPos = editor.renderer.$cursorLayer.getPixelPosition(cursor, true);\n        var anchorPos = editor.renderer.$cursorLayer.getPixelPosition(anchor, true);\n        var rect = editor.renderer.scroller.getBoundingClientRect();\n        var offsetTop = editor.renderer.layerConfig.offset;\n        var offsetLeft = editor.renderer.scrollLeft;\n\n        var weightedDistance = function weightedDistance(x, y) {\n          x = x / w;\n          y = y / h - 0.75;\n          return x * x + y * y;\n        };\n\n        if (e.clientX < rect.left) {\n          mode = \"zoom\";\n          return;\n        }\n\n        var diff1 = weightedDistance(e.clientX - rect.left - cursorPos.left + offsetLeft, e.clientY - rect.top - cursorPos.top + offsetTop);\n        var diff2 = weightedDistance(e.clientX - rect.left - anchorPos.left + offsetLeft, e.clientY - rect.top - anchorPos.top + offsetTop);\n        if (diff1 < 3.5 && diff2 < 3.5) mode = diff1 > diff2 ? \"cursor\" : \"anchor\";\n        if (diff2 < 3.5) mode = \"anchor\";else if (diff1 < 3.5) mode = \"cursor\";else mode = \"scroll\";\n        longTouchTimer = setTimeout(handleLongTap, 450);\n      }\n\n      touchStartT = t;\n    }, editor);\n    event.addListener(el, \"touchend\", function (e) {\n      pressed = editor.$mouseHandler.isMousePressed = false;\n      if (animationTimer) clearInterval(animationTimer);\n\n      if (mode == \"zoom\") {\n        mode = \"\";\n        animationSteps = 0;\n      } else if (longTouchTimer) {\n        editor.selection.moveToPosition(pos);\n        animationSteps = 0;\n        showContextMenu();\n      } else if (mode == \"scroll\") {\n        animate();\n        hideContextMenu();\n      } else {\n        showContextMenu();\n      }\n\n      clearTimeout(longTouchTimer);\n      longTouchTimer = null;\n    }, editor);\n    event.addListener(el, \"touchmove\", function (e) {\n      if (longTouchTimer) {\n        clearTimeout(longTouchTimer);\n        longTouchTimer = null;\n      }\n\n      var touches = e.touches;\n      if (touches.length > 1 || mode == \"zoom\") return;\n      var touchObj = touches[0];\n      var wheelX = startX - touchObj.clientX;\n      var wheelY = startY - touchObj.clientY;\n\n      if (mode == \"wait\") {\n        if (wheelX * wheelX + wheelY * wheelY > 4) mode = \"cursor\";else return e.preventDefault();\n      }\n\n      startX = touchObj.clientX;\n      startY = touchObj.clientY;\n      e.clientX = touchObj.clientX;\n      e.clientY = touchObj.clientY;\n      var t = e.timeStamp;\n      var dt = t - lastT;\n      lastT = t;\n\n      if (mode == \"scroll\") {\n        var mouseEvent = new MouseEvent(e, editor);\n        mouseEvent.speed = 1;\n        mouseEvent.wheelX = wheelX;\n        mouseEvent.wheelY = wheelY;\n        if (10 * Math.abs(wheelX) < Math.abs(wheelY)) wheelX = 0;\n        if (10 * Math.abs(wheelY) < Math.abs(wheelX)) wheelY = 0;\n\n        if (dt != 0) {\n          vX = wheelX / dt;\n          vY = wheelY / dt;\n        }\n\n        editor._emit(\"mousewheel\", mouseEvent);\n\n        if (!mouseEvent.propagationStopped) {\n          vX = vY = 0;\n        }\n      } else {\n        var ev = new MouseEvent(e, editor);\n        var pos = ev.getDocumentPosition();\n        if (mode == \"cursor\") editor.selection.moveCursorToPosition(pos);else if (mode == \"anchor\") editor.selection.setSelectionAnchor(pos.row, pos.column);\n        editor.renderer.scrollCursorIntoView(pos);\n        e.preventDefault();\n      }\n    }, editor);\n\n    function animate() {\n      animationSteps += 60;\n      animationTimer = setInterval(function () {\n        if (animationSteps-- <= 0) {\n          clearInterval(animationTimer);\n          animationTimer = null;\n        }\n\n        if (Math.abs(vX) < 0.01) vX = 0;\n        if (Math.abs(vY) < 0.01) vY = 0;\n        if (animationSteps < 20) vX = 0.9 * vX;\n        if (animationSteps < 20) vY = 0.9 * vY;\n        var oldScrollTop = editor.session.getScrollTop();\n        editor.renderer.scrollBy(10 * vX, 10 * vY);\n        if (oldScrollTop == editor.session.getScrollTop()) animationSteps = 0;\n      }, 10);\n    }\n  };\n});\nace.define(\"ace/lib/net\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\"], function (require, exports, module) {\n  \"use strict\";\n\n  var dom = require(\"./dom\");\n\n  exports.get = function (url, callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState === 4) {\n        callback(xhr.responseText);\n      }\n    };\n\n    xhr.send(null);\n  };\n\n  exports.loadScript = function (path, callback) {\n    var head = dom.getDocumentHead();\n    var s = document.createElement('script');\n    s.src = path;\n    head.appendChild(s);\n\n    s.onload = s.onreadystatechange = function (_, isAbort) {\n      if (isAbort || !s.readyState || s.readyState == \"loaded\" || s.readyState == \"complete\") {\n        s = s.onload = s.onreadystatechange = null;\n        if (!isAbort) callback();\n      }\n    };\n  };\n\n  exports.qualifyURL = function (url) {\n    var a = document.createElement('a');\n    a.href = url;\n    return a.href;\n  };\n});\nace.define(\"ace/lib/event_emitter\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  var EventEmitter = {};\n\n  var stopPropagation = function stopPropagation() {\n    this.propagationStopped = true;\n  };\n\n  var preventDefault = function preventDefault() {\n    this.defaultPrevented = true;\n  };\n\n  EventEmitter._emit = EventEmitter._dispatchEvent = function (eventName, e) {\n    this._eventRegistry || (this._eventRegistry = {});\n    this._defaultHandlers || (this._defaultHandlers = {});\n    var listeners = this._eventRegistry[eventName] || [];\n    var defaultHandler = this._defaultHandlers[eventName];\n    if (!listeners.length && !defaultHandler) return;\n    if (typeof e != \"object\" || !e) e = {};\n    if (!e.type) e.type = eventName;\n    if (!e.stopPropagation) e.stopPropagation = stopPropagation;\n    if (!e.preventDefault) e.preventDefault = preventDefault;\n    listeners = listeners.slice();\n\n    for (var i = 0; i < listeners.length; i++) {\n      listeners[i](e, this);\n      if (e.propagationStopped) break;\n    }\n\n    if (defaultHandler && !e.defaultPrevented) return defaultHandler(e, this);\n  };\n\n  EventEmitter._signal = function (eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners) return;\n    listeners = listeners.slice();\n\n    for (var i = 0; i < listeners.length; i++) {\n      listeners[i](e, this);\n    }\n  };\n\n  EventEmitter.once = function (eventName, callback) {\n    var _self = this;\n\n    this.on(eventName, function newCallback() {\n      _self.off(eventName, newCallback);\n\n      callback.apply(null, arguments);\n    });\n\n    if (!callback) {\n      return new Promise(function (resolve) {\n        callback = resolve;\n      });\n    }\n  };\n\n  EventEmitter.setDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers) handlers = this._defaultHandlers = {\n      _disabled_: {}\n    };\n\n    if (handlers[eventName]) {\n      var old = handlers[eventName];\n      var disabled = handlers._disabled_[eventName];\n      if (!disabled) handlers._disabled_[eventName] = disabled = [];\n      disabled.push(old);\n      var i = disabled.indexOf(callback);\n      if (i != -1) disabled.splice(i, 1);\n    }\n\n    handlers[eventName] = callback;\n  };\n\n  EventEmitter.removeDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers) return;\n    var disabled = handlers._disabled_[eventName];\n\n    if (handlers[eventName] == callback) {\n      if (disabled) this.setDefaultHandler(eventName, disabled.pop());\n    } else if (disabled) {\n      var i = disabled.indexOf(callback);\n      if (i != -1) disabled.splice(i, 1);\n    }\n  };\n\n  EventEmitter.on = EventEmitter.addEventListener = function (eventName, callback, capturing) {\n    this._eventRegistry = this._eventRegistry || {};\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners) listeners = this._eventRegistry[eventName] = [];\n    if (listeners.indexOf(callback) == -1) listeners[capturing ? \"unshift\" : \"push\"](callback);\n    return callback;\n  };\n\n  EventEmitter.off = EventEmitter.removeListener = EventEmitter.removeEventListener = function (eventName, callback) {\n    this._eventRegistry = this._eventRegistry || {};\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners) return;\n    var index = listeners.indexOf(callback);\n    if (index !== -1) listeners.splice(index, 1);\n  };\n\n  EventEmitter.removeAllListeners = function (eventName) {\n    if (!eventName) this._eventRegistry = this._defaultHandlers = undefined;\n    if (this._eventRegistry) this._eventRegistry[eventName] = undefined;\n    if (this._defaultHandlers) this._defaultHandlers[eventName] = undefined;\n  };\n\n  exports.EventEmitter = EventEmitter;\n});\nace.define(\"ace/lib/app_config\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/event_emitter\"], function (require, exports, module) {\n  \"no use strict\";\n\n  var oop = require(\"./oop\");\n\n  var EventEmitter = require(\"./event_emitter\").EventEmitter;\n\n  var optionsProvider = {\n    setOptions: function setOptions(optList) {\n      Object.keys(optList).forEach(function (key) {\n        this.setOption(key, optList[key]);\n      }, this);\n    },\n    getOptions: function getOptions(optionNames) {\n      var result = {};\n\n      if (!optionNames) {\n        var options = this.$options;\n        optionNames = Object.keys(options).filter(function (key) {\n          return !options[key].hidden;\n        });\n      } else if (!Array.isArray(optionNames)) {\n        result = optionNames;\n        optionNames = Object.keys(result);\n      }\n\n      optionNames.forEach(function (key) {\n        result[key] = this.getOption(key);\n      }, this);\n      return result;\n    },\n    setOption: function setOption(name, value) {\n      if (this[\"$\" + name] === value) return;\n      var opt = this.$options[name];\n\n      if (!opt) {\n        return warn('misspelled option \"' + name + '\"');\n      }\n\n      if (opt.forwardTo) return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);\n      if (!opt.handlesSet) this[\"$\" + name] = value;\n      if (opt && opt.set) opt.set.call(this, value);\n    },\n    getOption: function getOption(name) {\n      var opt = this.$options[name];\n\n      if (!opt) {\n        return warn('misspelled option \"' + name + '\"');\n      }\n\n      if (opt.forwardTo) return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);\n      return opt && opt.get ? opt.get.call(this) : this[\"$\" + name];\n    }\n  };\n\n  function warn(message) {\n    if (typeof console != \"undefined\" && console.warn) console.warn.apply(console, arguments);\n  }\n\n  function reportError(msg, data) {\n    var e = new Error(msg);\n    e.data = data;\n    if (typeof console == \"object\" && console.error) console.error(e);\n    setTimeout(function () {\n      throw e;\n    });\n  }\n\n  var AppConfig = function AppConfig() {\n    this.$defaultOptions = {};\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.defineOptions = function (obj, path, options) {\n      if (!obj.$options) this.$defaultOptions[path] = obj.$options = {};\n      Object.keys(options).forEach(function (key) {\n        var opt = options[key];\n        if (typeof opt == \"string\") opt = {\n          forwardTo: opt\n        };\n        opt.name || (opt.name = key);\n        obj.$options[opt.name] = opt;\n        if (\"initialValue\" in opt) obj[\"$\" + opt.name] = opt.initialValue;\n      });\n      oop.implement(obj, optionsProvider);\n      return this;\n    };\n\n    this.resetOptions = function (obj) {\n      Object.keys(obj.$options).forEach(function (key) {\n        var opt = obj.$options[key];\n        if (\"value\" in opt) obj.setOption(key, opt.value);\n      });\n    };\n\n    this.setDefaultValue = function (path, name, value) {\n      if (!path) {\n        for (path in this.$defaultOptions) {\n          if (this.$defaultOptions[path][name]) break;\n        }\n\n        if (!this.$defaultOptions[path][name]) return false;\n      }\n\n      var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});\n\n      if (opts[name]) {\n        if (opts.forwardTo) this.setDefaultValue(opts.forwardTo, name, value);else opts[name].value = value;\n      }\n    };\n\n    this.setDefaultValues = function (path, optionHash) {\n      Object.keys(optionHash).forEach(function (key) {\n        this.setDefaultValue(path, key, optionHash[key]);\n      }, this);\n    };\n\n    this.warn = warn;\n    this.reportError = reportError;\n  }).call(AppConfig.prototype);\n  exports.AppConfig = AppConfig;\n});\nace.define(\"ace/config\", [\"require\", \"exports\", \"module\", \"ace/lib/lang\", \"ace/lib/oop\", \"ace/lib/net\", \"ace/lib/app_config\"], function (require, exports, module) {\n  \"no use strict\";\n\n  var lang = require(\"./lib/lang\");\n\n  var oop = require(\"./lib/oop\");\n\n  var net = require(\"./lib/net\");\n\n  var AppConfig = require(\"./lib/app_config\").AppConfig;\n\n  module.exports = exports = new AppConfig();\n\n  var global = function () {\n    return this || typeof window != \"undefined\" && window;\n  }();\n\n  var options = {\n    packaged: false,\n    workerPath: null,\n    modePath: null,\n    themePath: null,\n    basePath: \"\",\n    suffix: \".js\",\n    $moduleUrls: {},\n    loadWorkerFromBlob: true,\n    sharedPopups: false\n  };\n\n  exports.get = function (key) {\n    if (!options.hasOwnProperty(key)) throw new Error(\"Unknown config key: \" + key);\n    return options[key];\n  };\n\n  exports.set = function (key, value) {\n    if (options.hasOwnProperty(key)) options[key] = value;else if (this.setDefaultValue(\"\", key, value) == false) throw new Error(\"Unknown config key: \" + key);\n  };\n\n  exports.all = function () {\n    return lang.copyObject(options);\n  };\n\n  exports.$modes = {};\n\n  exports.moduleUrl = function (name, component) {\n    if (options.$moduleUrls[name]) return options.$moduleUrls[name];\n    var parts = name.split(\"/\");\n    component = component || parts[parts.length - 2] || \"\";\n    var sep = component == \"snippets\" ? \"/\" : \"-\";\n    var base = parts[parts.length - 1];\n\n    if (component == \"worker\" && sep == \"-\") {\n      var re = new RegExp(\"^\" + component + \"[\\\\-_]|[\\\\-_]\" + component + \"$\", \"g\");\n      base = base.replace(re, \"\");\n    }\n\n    if ((!base || base == component) && parts.length > 1) base = parts[parts.length - 2];\n    var path = options[component + \"Path\"];\n\n    if (path == null) {\n      path = options.basePath;\n    } else if (sep == \"/\") {\n      component = sep = \"\";\n    }\n\n    if (path && path.slice(-1) != \"/\") path += \"/\";\n    return path + component + sep + base + this.get(\"suffix\");\n  };\n\n  exports.setModuleUrl = function (name, subst) {\n    return options.$moduleUrls[name] = subst;\n  };\n\n  exports.$loading = {};\n\n  exports.loadModule = function (moduleName, onLoad) {\n    var module, moduleType;\n\n    if (Array.isArray(moduleName)) {\n      moduleType = moduleName[0];\n      moduleName = moduleName[1];\n    }\n\n    try {\n      module = require(moduleName);\n    } catch (e) {}\n\n    if (module && !exports.$loading[moduleName]) return onLoad && onLoad(module);\n    if (!exports.$loading[moduleName]) exports.$loading[moduleName] = [];\n    exports.$loading[moduleName].push(onLoad);\n    if (exports.$loading[moduleName].length > 1) return;\n\n    var afterLoad = function afterLoad() {\n      require([moduleName], function (module) {\n        exports._emit(\"load.module\", {\n          name: moduleName,\n          module: module\n        });\n\n        var listeners = exports.$loading[moduleName];\n        exports.$loading[moduleName] = null;\n        listeners.forEach(function (onLoad) {\n          onLoad && onLoad(module);\n        });\n      });\n    };\n\n    if (!exports.get(\"packaged\")) return afterLoad();\n    net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);\n\n    _reportErrorIfPathIsNotConfigured();\n  };\n\n  var _reportErrorIfPathIsNotConfigured = function reportErrorIfPathIsNotConfigured() {\n    if (!options.basePath && !options.workerPath && !options.modePath && !options.themePath && !Object.keys(options.$moduleUrls).length) {\n      console.error(\"Unable to infer path to ace from script src,\", \"use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes\", \"or with webpack use ace/webpack-resolver\");\n\n      _reportErrorIfPathIsNotConfigured = function reportErrorIfPathIsNotConfigured() {};\n    }\n  };\n\n  init(true);\n\n  function init(packaged) {\n    if (!global || !global.document) return;\n    options.packaged = packaged || require.packaged || module.packaged || global.define && define.packaged;\n    var scriptOptions = {};\n    var scriptUrl = \"\";\n    var currentScript = document.currentScript || document._currentScript; // native or polyfill\n\n    var currentDocument = currentScript && currentScript.ownerDocument || document;\n    var scripts = currentDocument.getElementsByTagName(\"script\");\n\n    for (var i = 0; i < scripts.length; i++) {\n      var script = scripts[i];\n      var src = script.src || script.getAttribute(\"src\");\n      if (!src) continue;\n      var attributes = script.attributes;\n\n      for (var j = 0, l = attributes.length; j < l; j++) {\n        var attr = attributes[j];\n\n        if (attr.name.indexOf(\"data-ace-\") === 0) {\n          scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, \"\"))] = attr.value;\n        }\n      }\n\n      var m = src.match(/^(.*)\\/ace(\\-\\w+)?\\.js(\\?|$)/);\n      if (m) scriptUrl = m[1];\n    }\n\n    if (scriptUrl) {\n      scriptOptions.base = scriptOptions.base || scriptUrl;\n      scriptOptions.packaged = true;\n    }\n\n    scriptOptions.basePath = scriptOptions.base;\n    scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;\n    scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;\n    scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;\n    delete scriptOptions.base;\n\n    for (var key in scriptOptions) {\n      if (typeof scriptOptions[key] !== \"undefined\") exports.set(key, scriptOptions[key]);\n    }\n  }\n\n  exports.init = init;\n\n  function deHyphenate(str) {\n    return str.replace(/-(.)/g, function (m, m1) {\n      return m1.toUpperCase();\n    });\n  }\n\n  exports.version = \"1.4.12\";\n});\nace.define(\"ace/mouse/mouse_handler\", [\"require\", \"exports\", \"module\", \"ace/lib/event\", \"ace/lib/useragent\", \"ace/mouse/default_handlers\", \"ace/mouse/default_gutter_handler\", \"ace/mouse/mouse_event\", \"ace/mouse/dragdrop_handler\", \"ace/mouse/touch_handler\", \"ace/config\"], function (require, exports, module) {\n  \"use strict\";\n\n  var event = require(\"../lib/event\");\n\n  var useragent = require(\"../lib/useragent\");\n\n  var DefaultHandlers = require(\"./default_handlers\").DefaultHandlers;\n\n  var DefaultGutterHandler = require(\"./default_gutter_handler\").GutterHandler;\n\n  var MouseEvent = require(\"./mouse_event\").MouseEvent;\n\n  var DragdropHandler = require(\"./dragdrop_handler\").DragdropHandler;\n\n  var addTouchListeners = require(\"./touch_handler\").addTouchListeners;\n\n  var config = require(\"../config\");\n\n  var MouseHandler = function MouseHandler(editor) {\n    var _self = this;\n\n    this.editor = editor;\n    new DefaultHandlers(this);\n    new DefaultGutterHandler(this);\n    new DragdropHandler(this);\n\n    var focusEditor = function focusEditor(e) {\n      var windowBlurred = !document.hasFocus || !document.hasFocus() || !editor.isFocused() && document.activeElement == (editor.textInput && editor.textInput.getElement());\n      if (windowBlurred) window.focus();\n      editor.focus();\n    };\n\n    var mouseTarget = editor.renderer.getMouseEventTarget();\n    event.addListener(mouseTarget, \"click\", this.onMouseEvent.bind(this, \"click\"), editor);\n    event.addListener(mouseTarget, \"mousemove\", this.onMouseMove.bind(this, \"mousemove\"), editor);\n    event.addMultiMouseDownListener([mouseTarget, editor.renderer.scrollBarV && editor.renderer.scrollBarV.inner, editor.renderer.scrollBarH && editor.renderer.scrollBarH.inner, editor.textInput && editor.textInput.getElement()].filter(Boolean), [400, 300, 250], this, \"onMouseEvent\", editor);\n    event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, \"mousewheel\"), editor);\n    addTouchListeners(editor.container, editor);\n    var gutterEl = editor.renderer.$gutter;\n    event.addListener(gutterEl, \"mousedown\", this.onMouseEvent.bind(this, \"guttermousedown\"), editor);\n    event.addListener(gutterEl, \"click\", this.onMouseEvent.bind(this, \"gutterclick\"), editor);\n    event.addListener(gutterEl, \"dblclick\", this.onMouseEvent.bind(this, \"gutterdblclick\"), editor);\n    event.addListener(gutterEl, \"mousemove\", this.onMouseEvent.bind(this, \"guttermousemove\"), editor);\n    event.addListener(mouseTarget, \"mousedown\", focusEditor, editor);\n    event.addListener(gutterEl, \"mousedown\", focusEditor, editor);\n\n    if (useragent.isIE && editor.renderer.scrollBarV) {\n      event.addListener(editor.renderer.scrollBarV.element, \"mousedown\", focusEditor, editor);\n      event.addListener(editor.renderer.scrollBarH.element, \"mousedown\", focusEditor, editor);\n    }\n\n    editor.on(\"mousemove\", function (e) {\n      if (_self.state || _self.$dragDelay || !_self.$dragEnabled) return;\n      var character = editor.renderer.screenToTextCoordinates(e.x, e.y);\n      var range = editor.session.selection.getRange();\n      var renderer = editor.renderer;\n\n      if (!range.isEmpty() && range.insideStart(character.row, character.column)) {\n        renderer.setCursorStyle(\"default\");\n      } else {\n        renderer.setCursorStyle(\"\");\n      }\n    }, editor);\n  };\n\n  (function () {\n    this.onMouseEvent = function (name, e) {\n      this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseMove = function (name, e) {\n      var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;\n      if (!listeners || !listeners.length) return;\n\n      this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseWheel = function (name, e) {\n      var mouseEvent = new MouseEvent(e, this.editor);\n      mouseEvent.speed = this.$scrollSpeed * 2;\n      mouseEvent.wheelX = e.wheelX;\n      mouseEvent.wheelY = e.wheelY;\n\n      this.editor._emit(name, mouseEvent);\n    };\n\n    this.setState = function (state) {\n      this.state = state;\n    };\n\n    this.captureMouse = function (ev, mouseMoveHandler) {\n      this.x = ev.x;\n      this.y = ev.y;\n      this.isMousePressed = true;\n      var editor = this.editor;\n      var renderer = this.editor.renderer;\n      renderer.$isMousePressed = true;\n      var self = this;\n\n      var onMouseMove = function onMouseMove(e) {\n        if (!e) return;\n        if (useragent.isWebKit && !e.which && self.releaseMouse) return self.releaseMouse();\n        self.x = e.clientX;\n        self.y = e.clientY;\n        mouseMoveHandler && mouseMoveHandler(e);\n        self.mouseEvent = new MouseEvent(e, self.editor);\n        self.$mouseMoved = true;\n      };\n\n      var onCaptureEnd = function onCaptureEnd(e) {\n        editor.off(\"beforeEndOperation\", onOperationEnd);\n        clearInterval(timerId);\n        onCaptureInterval();\n        self[self.state + \"End\"] && self[self.state + \"End\"](e);\n        self.state = \"\";\n        self.isMousePressed = renderer.$isMousePressed = false;\n        if (renderer.$keepTextAreaAtCursor) renderer.$moveTextAreaToCursor();\n        self.$onCaptureMouseMove = self.releaseMouse = null;\n        e && self.onMouseEvent(\"mouseup\", e);\n        editor.endOperation();\n      };\n\n      var onCaptureInterval = function onCaptureInterval() {\n        self[self.state] && self[self.state]();\n        self.$mouseMoved = false;\n      };\n\n      if (useragent.isOldIE && ev.domEvent.type == \"dblclick\") {\n        return setTimeout(function () {\n          onCaptureEnd(ev);\n        });\n      }\n\n      var onOperationEnd = function onOperationEnd(e) {\n        if (!self.releaseMouse) return;\n\n        if (editor.curOp.command.name && editor.curOp.selectionChanged) {\n          self[self.state + \"End\"] && self[self.state + \"End\"]();\n          self.state = \"\";\n          self.releaseMouse();\n        }\n      };\n\n      editor.on(\"beforeEndOperation\", onOperationEnd);\n      editor.startOperation({\n        command: {\n          name: \"mouse\"\n        }\n      });\n      self.$onCaptureMouseMove = onMouseMove;\n      self.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);\n      var timerId = setInterval(onCaptureInterval, 20);\n    };\n\n    this.releaseMouse = null;\n\n    this.cancelContextMenu = function () {\n      var stop = function (e) {\n        if (e && e.domEvent && e.domEvent.type != \"contextmenu\") return;\n        this.editor.off(\"nativecontextmenu\", stop);\n        if (e && e.domEvent) event.stopEvent(e.domEvent);\n      }.bind(this);\n\n      setTimeout(stop, 10);\n      this.editor.on(\"nativecontextmenu\", stop);\n    };\n\n    this.destroy = function () {\n      if (this.releaseMouse) this.releaseMouse();\n    };\n  }).call(MouseHandler.prototype);\n  config.defineOptions(MouseHandler.prototype, \"mouseHandler\", {\n    scrollSpeed: {\n      initialValue: 2\n    },\n    dragDelay: {\n      initialValue: useragent.isMac ? 150 : 0\n    },\n    dragEnabled: {\n      initialValue: true\n    },\n    focusTimeout: {\n      initialValue: 0\n    },\n    tooltipFollowsMouse: {\n      initialValue: true\n    }\n  });\n  exports.MouseHandler = MouseHandler;\n});\nace.define(\"ace/mouse/fold_handler\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\"], function (require, exports, module) {\n  \"use strict\";\n\n  var dom = require(\"../lib/dom\");\n\n  function FoldHandler(editor) {\n    editor.on(\"click\", function (e) {\n      var position = e.getDocumentPosition();\n      var session = editor.session;\n      var fold = session.getFoldAt(position.row, position.column, 1);\n\n      if (fold) {\n        if (e.getAccelKey()) session.removeFold(fold);else session.expandFold(fold);\n        e.stop();\n      }\n\n      var target = e.domEvent && e.domEvent.target;\n\n      if (target && dom.hasCssClass(target, \"ace_inline_button\")) {\n        if (dom.hasCssClass(target, \"ace_toggle_wrap\")) {\n          session.setOption(\"wrap\", !session.getUseWrapMode());\n          editor.renderer.scrollCursorIntoView();\n        }\n      }\n    });\n    editor.on(\"gutterclick\", function (e) {\n      var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n      if (gutterRegion == \"foldWidgets\") {\n        var row = e.getDocumentPosition().row;\n        var session = editor.session;\n        if (session.foldWidgets && session.foldWidgets[row]) editor.session.onFoldWidgetClick(row, e);\n        if (!editor.isFocused()) editor.focus();\n        e.stop();\n      }\n    });\n    editor.on(\"gutterdblclick\", function (e) {\n      var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n      if (gutterRegion == \"foldWidgets\") {\n        var row = e.getDocumentPosition().row;\n        var session = editor.session;\n        var data = session.getParentFoldRangeData(row, true);\n        var range = data.range || data.firstRange;\n\n        if (range) {\n          row = range.start.row;\n          var fold = session.getFoldAt(row, session.getLine(row).length, 1);\n\n          if (fold) {\n            session.removeFold(fold);\n          } else {\n            session.addFold(\"...\", range);\n            editor.renderer.scrollCursorIntoView({\n              row: range.start.row,\n              column: 0\n            });\n          }\n        }\n\n        e.stop();\n      }\n    });\n  }\n\n  exports.FoldHandler = FoldHandler;\n});\nace.define(\"ace/keyboard/keybinding\", [\"require\", \"exports\", \"module\", \"ace/lib/keys\", \"ace/lib/event\"], function (require, exports, module) {\n  \"use strict\";\n\n  var keyUtil = require(\"../lib/keys\");\n\n  var event = require(\"../lib/event\");\n\n  var KeyBinding = function KeyBinding(editor) {\n    this.$editor = editor;\n    this.$data = {\n      editor: editor\n    };\n    this.$handlers = [];\n    this.setDefaultHandler(editor.commands);\n  };\n\n  (function () {\n    this.setDefaultHandler = function (kb) {\n      this.removeKeyboardHandler(this.$defaultHandler);\n      this.$defaultHandler = kb;\n      this.addKeyboardHandler(kb, 0);\n    };\n\n    this.setKeyboardHandler = function (kb) {\n      var h = this.$handlers;\n      if (h[h.length - 1] == kb) return;\n\n      while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler) {\n        this.removeKeyboardHandler(h[h.length - 1]);\n      }\n\n      this.addKeyboardHandler(kb, 1);\n    };\n\n    this.addKeyboardHandler = function (kb, pos) {\n      if (!kb) return;\n      if (typeof kb == \"function\" && !kb.handleKeyboard) kb.handleKeyboard = kb;\n      var i = this.$handlers.indexOf(kb);\n      if (i != -1) this.$handlers.splice(i, 1);\n      if (pos == undefined) this.$handlers.push(kb);else this.$handlers.splice(pos, 0, kb);\n      if (i == -1 && kb.attach) kb.attach(this.$editor);\n    };\n\n    this.removeKeyboardHandler = function (kb) {\n      var i = this.$handlers.indexOf(kb);\n      if (i == -1) return false;\n      this.$handlers.splice(i, 1);\n      kb.detach && kb.detach(this.$editor);\n      return true;\n    };\n\n    this.getKeyboardHandler = function () {\n      return this.$handlers[this.$handlers.length - 1];\n    };\n\n    this.getStatusText = function () {\n      var data = this.$data;\n      var editor = data.editor;\n      return this.$handlers.map(function (h) {\n        return h.getStatusText && h.getStatusText(editor, data) || \"\";\n      }).filter(Boolean).join(\" \");\n    };\n\n    this.$callKeyboardHandlers = function (hashId, keyString, keyCode, e) {\n      var toExecute;\n      var success = false;\n      var commands = this.$editor.commands;\n\n      for (var i = this.$handlers.length; i--;) {\n        toExecute = this.$handlers[i].handleKeyboard(this.$data, hashId, keyString, keyCode, e);\n        if (!toExecute || !toExecute.command) continue;\n\n        if (toExecute.command == \"null\") {\n          success = true;\n        } else {\n          success = commands.exec(toExecute.command, this.$editor, toExecute.args, e);\n        }\n\n        if (success && e && hashId != -1 && toExecute.passEvent != true && toExecute.command.passEvent != true) {\n          event.stopEvent(e);\n        }\n\n        if (success) break;\n      }\n\n      if (!success && hashId == -1) {\n        toExecute = {\n          command: \"insertstring\"\n        };\n        success = commands.exec(\"insertstring\", this.$editor, keyString);\n      }\n\n      if (success && this.$editor._signal) this.$editor._signal(\"keyboardActivity\", toExecute);\n      return success;\n    };\n\n    this.onCommandKey = function (e, hashId, keyCode) {\n      var keyString = keyUtil.keyCodeToString(keyCode);\n      return this.$callKeyboardHandlers(hashId, keyString, keyCode, e);\n    };\n\n    this.onTextInput = function (text) {\n      return this.$callKeyboardHandlers(-1, text);\n    };\n  }).call(KeyBinding.prototype);\n  exports.KeyBinding = KeyBinding;\n});\nace.define(\"ace/lib/bidiutil\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  var ArabicAlefBetIntervalsBegine = [\"\\u0621\", \"\\u0641\"];\n  var ArabicAlefBetIntervalsEnd = [\"\\u063A\", \"\\u064A\"];\n  var dir = 0,\n      hiLevel = 0;\n  var lastArabic = false,\n      hasUBAT_AL = false,\n      hasUBAT_B = false,\n      hasUBAT_S = false,\n      hasBlockSep = false,\n      hasSegSep = false;\n  var impTab_LTR = [[0, 3, 0, 1, 0, 0, 0], [0, 3, 0, 1, 2, 2, 0], [0, 3, 0, 0x11, 2, 0, 1], [0, 3, 5, 5, 4, 1, 0], [0, 3, 0x15, 0x15, 4, 0, 1], [0, 3, 5, 5, 4, 2, 0]];\n  var impTab_RTL = [[2, 0, 1, 1, 0, 1, 0], [2, 0, 1, 1, 0, 2, 0], [2, 0, 2, 1, 3, 2, 0], [2, 0, 2, 0x21, 3, 1, 1]];\n  var LTR = 0,\n      RTL = 1;\n  var L = 0;\n  var R = 1;\n  var EN = 2;\n  var AN = 3;\n  var ON = 4;\n  var B = 5;\n  var S = 6;\n  var AL = 7;\n  var WS = 8;\n  var CS = 9;\n  var ES = 10;\n  var ET = 11;\n  var NSM = 12;\n  var LRE = 13;\n  var RLE = 14;\n  var PDF = 15;\n  var LRO = 16;\n  var RLO = 17;\n  var BN = 18;\n  var UnicodeTBL00 = [BN, BN, BN, BN, BN, BN, BN, BN, BN, S, B, S, WS, B, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, B, B, B, S, WS, ON, ON, ET, ET, ET, ON, ON, ON, ON, ON, ES, CS, ES, CS, CS, EN, EN, EN, EN, EN, EN, EN, EN, EN, EN, CS, ON, ON, ON, ON, ON, ON, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, ON, ON, ON, ON, ON, ON, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, ON, ON, ON, ON, BN, BN, BN, BN, BN, BN, B, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, CS, ON, ET, ET, ET, ET, ON, ON, ON, ON, L, ON, ON, BN, ON, ON, ET, ET, EN, EN, ON, L, ON, ON, ON, EN, L, ON, ON, ON, ON, ON];\n  var UnicodeTBL20 = [WS, WS, WS, WS, WS, WS, WS, WS, WS, WS, WS, BN, BN, BN, L, R, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, WS, B, LRE, RLE, PDF, LRO, RLO, CS, ET, ET, ET, ET, ET, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, CS, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, WS];\n\n  function _computeLevels(chars, levels, len, charTypes) {\n    var impTab = dir ? impTab_RTL : impTab_LTR,\n        prevState = null,\n        newClass = null,\n        newLevel = null,\n        newState = 0,\n        action = null,\n        cond = null,\n        condPos = -1,\n        i = null,\n        ix = null,\n        classes = [];\n\n    if (!charTypes) {\n      for (i = 0, charTypes = []; i < len; i++) {\n        charTypes[i] = _getCharacterType(chars[i]);\n      }\n    }\n\n    hiLevel = dir;\n    lastArabic = false;\n    hasUBAT_AL = false;\n    hasUBAT_B = false;\n    hasUBAT_S = false;\n\n    for (ix = 0; ix < len; ix++) {\n      prevState = newState;\n      classes[ix] = newClass = _getCharClass(chars, charTypes, classes, ix);\n      newState = impTab[prevState][newClass];\n      action = newState & 0xF0;\n      newState &= 0x0F;\n      levels[ix] = newLevel = impTab[newState][5];\n\n      if (action > 0) {\n        if (action == 0x10) {\n          for (i = condPos; i < ix; i++) {\n            levels[i] = 1;\n          }\n\n          condPos = -1;\n        } else {\n          condPos = -1;\n        }\n      }\n\n      cond = impTab[newState][6];\n\n      if (cond) {\n        if (condPos == -1) {\n          condPos = ix;\n        }\n      } else {\n        if (condPos > -1) {\n          for (i = condPos; i < ix; i++) {\n            levels[i] = newLevel;\n          }\n\n          condPos = -1;\n        }\n      }\n\n      if (charTypes[ix] == B) {\n        levels[ix] = 0;\n      }\n\n      hiLevel |= newLevel;\n    }\n\n    if (hasUBAT_S) {\n      for (i = 0; i < len; i++) {\n        if (charTypes[i] == S) {\n          levels[i] = dir;\n\n          for (var j = i - 1; j >= 0; j--) {\n            if (charTypes[j] == WS) {\n              levels[j] = dir;\n            } else {\n              break;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  function _invertLevel(lev, levels, _array) {\n    if (hiLevel < lev) {\n      return;\n    }\n\n    if (lev == 1 && dir == RTL && !hasUBAT_B) {\n      _array.reverse();\n\n      return;\n    }\n\n    var len = _array.length,\n        start = 0,\n        end,\n        lo,\n        hi,\n        tmp;\n\n    while (start < len) {\n      if (levels[start] >= lev) {\n        end = start + 1;\n\n        while (end < len && levels[end] >= lev) {\n          end++;\n        }\n\n        for (lo = start, hi = end - 1; lo < hi; lo++, hi--) {\n          tmp = _array[lo];\n          _array[lo] = _array[hi];\n          _array[hi] = tmp;\n        }\n\n        start = end;\n      }\n\n      start++;\n    }\n  }\n\n  function _getCharClass(chars, types, classes, ix) {\n    var cType = types[ix],\n        wType,\n        nType,\n        len,\n        i;\n\n    switch (cType) {\n      case L:\n      case R:\n        lastArabic = false;\n\n      case ON:\n      case AN:\n        return cType;\n\n      case EN:\n        return lastArabic ? AN : EN;\n\n      case AL:\n        lastArabic = true;\n        hasUBAT_AL = true;\n        return R;\n\n      case WS:\n        return ON;\n\n      case CS:\n        if (ix < 1 || ix + 1 >= types.length || (wType = classes[ix - 1]) != EN && wType != AN || (nType = types[ix + 1]) != EN && nType != AN) {\n          return ON;\n        }\n\n        if (lastArabic) {\n          nType = AN;\n        }\n\n        return nType == wType ? nType : ON;\n\n      case ES:\n        wType = ix > 0 ? classes[ix - 1] : B;\n\n        if (wType == EN && ix + 1 < types.length && types[ix + 1] == EN) {\n          return EN;\n        }\n\n        return ON;\n\n      case ET:\n        if (ix > 0 && classes[ix - 1] == EN) {\n          return EN;\n        }\n\n        if (lastArabic) {\n          return ON;\n        }\n\n        i = ix + 1;\n        len = types.length;\n\n        while (i < len && types[i] == ET) {\n          i++;\n        }\n\n        if (i < len && types[i] == EN) {\n          return EN;\n        }\n\n        return ON;\n\n      case NSM:\n        len = types.length;\n        i = ix + 1;\n\n        while (i < len && types[i] == NSM) {\n          i++;\n        }\n\n        if (i < len) {\n          var c = chars[ix],\n              rtlCandidate = c >= 0x0591 && c <= 0x08FF || c == 0xFB1E;\n          wType = types[i];\n\n          if (rtlCandidate && (wType == R || wType == AL)) {\n            return R;\n          }\n        }\n\n        if (ix < 1 || (wType = types[ix - 1]) == B) {\n          return ON;\n        }\n\n        return classes[ix - 1];\n\n      case B:\n        lastArabic = false;\n        hasUBAT_B = true;\n        return dir;\n\n      case S:\n        hasUBAT_S = true;\n        return ON;\n\n      case LRE:\n      case RLE:\n      case LRO:\n      case RLO:\n      case PDF:\n        lastArabic = false;\n\n      case BN:\n        return ON;\n    }\n  }\n\n  function _getCharacterType(ch) {\n    var uc = ch.charCodeAt(0),\n        hi = uc >> 8;\n\n    if (hi == 0) {\n      return uc > 0x00BF ? L : UnicodeTBL00[uc];\n    } else if (hi == 5) {\n      return /[\\u0591-\\u05f4]/.test(ch) ? R : L;\n    } else if (hi == 6) {\n      if (/[\\u0610-\\u061a\\u064b-\\u065f\\u06d6-\\u06e4\\u06e7-\\u06ed]/.test(ch)) return NSM;else if (/[\\u0660-\\u0669\\u066b-\\u066c]/.test(ch)) return AN;else if (uc == 0x066A) return ET;else if (/[\\u06f0-\\u06f9]/.test(ch)) return EN;else return AL;\n    } else if (hi == 0x20 && uc <= 0x205F) {\n      return UnicodeTBL20[uc & 0xFF];\n    } else if (hi == 0xFE) {\n      return uc >= 0xFE70 ? AL : ON;\n    }\n\n    return ON;\n  }\n\n  function _isArabicDiacritics(ch) {\n    return ch >= \"\\u064B\" && ch <= \"\\u0655\";\n  }\n\n  exports.L = L;\n  exports.R = R;\n  exports.EN = EN;\n  exports.ON_R = 3;\n  exports.AN = 4;\n  exports.R_H = 5;\n  exports.B = 6;\n  exports.RLE = 7;\n  exports.DOT = \"\\xB7\";\n\n  exports.doBidiReorder = function (text, textCharTypes, isRtl) {\n    if (text.length < 2) return {};\n    var chars = text.split(\"\"),\n        logicalFromVisual = new Array(chars.length),\n        bidiLevels = new Array(chars.length),\n        levels = [];\n    dir = isRtl ? RTL : LTR;\n\n    _computeLevels(chars, levels, chars.length, textCharTypes);\n\n    for (var i = 0; i < logicalFromVisual.length; logicalFromVisual[i] = i, i++) {\n      ;\n    }\n\n    _invertLevel(2, levels, logicalFromVisual);\n\n    _invertLevel(1, levels, logicalFromVisual);\n\n    for (var i = 0; i < logicalFromVisual.length - 1; i++) {\n      //fix levels to reflect character width\n      if (textCharTypes[i] === AN) {\n        levels[i] = exports.AN;\n      } else if (levels[i] === R && (textCharTypes[i] > AL && textCharTypes[i] < LRE || textCharTypes[i] === ON || textCharTypes[i] === BN)) {\n        levels[i] = exports.ON_R;\n      } else if (i > 0 && chars[i - 1] === \"\\u0644\" && /\\u0622|\\u0623|\\u0625|\\u0627/.test(chars[i])) {\n        levels[i - 1] = levels[i] = exports.R_H;\n        i++;\n      }\n    }\n\n    if (chars[chars.length - 1] === exports.DOT) levels[chars.length - 1] = exports.B;\n    if (chars[0] === \"\\u202B\") levels[0] = exports.RLE;\n\n    for (var i = 0; i < logicalFromVisual.length; i++) {\n      bidiLevels[i] = levels[logicalFromVisual[i]];\n    }\n\n    return {\n      'logicalFromVisual': logicalFromVisual,\n      'bidiLevels': bidiLevels\n    };\n  };\n\n  exports.hasBidiCharacters = function (text, textCharTypes) {\n    var ret = false;\n\n    for (var i = 0; i < text.length; i++) {\n      textCharTypes[i] = _getCharacterType(text.charAt(i));\n      if (!ret && (textCharTypes[i] == R || textCharTypes[i] == AL || textCharTypes[i] == AN)) ret = true;\n    }\n\n    return ret;\n  };\n\n  exports.getVisualFromLogicalIdx = function (logIdx, rowMap) {\n    for (var i = 0; i < rowMap.logicalFromVisual.length; i++) {\n      if (rowMap.logicalFromVisual[i] == logIdx) return i;\n    }\n\n    return 0;\n  };\n});\nace.define(\"ace/bidihandler\", [\"require\", \"exports\", \"module\", \"ace/lib/bidiutil\", \"ace/lib/lang\"], function (require, exports, module) {\n  \"use strict\";\n\n  var bidiUtil = require(\"./lib/bidiutil\");\n\n  var lang = require(\"./lib/lang\");\n\n  var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\u202B]/;\n\n  var BidiHandler = function BidiHandler(session) {\n    this.session = session;\n    this.bidiMap = {};\n    this.currentRow = null;\n    this.bidiUtil = bidiUtil;\n    this.charWidths = [];\n    this.EOL = \"\\xAC\";\n    this.showInvisibles = true;\n    this.isRtlDir = false;\n    this.$isRtl = false;\n    this.line = \"\";\n    this.wrapIndent = 0;\n    this.EOF = \"\\xB6\";\n    this.RLE = \"\\u202B\";\n    this.contentWidth = 0;\n    this.fontMetrics = null;\n    this.rtlLineOffset = 0;\n    this.wrapOffset = 0;\n    this.isMoveLeftOperation = false;\n    this.seenBidi = bidiRE.test(session.getValue());\n  };\n\n  (function () {\n    this.isBidiRow = function (screenRow, docRow, splitIndex) {\n      if (!this.seenBidi) return false;\n\n      if (screenRow !== this.currentRow) {\n        this.currentRow = screenRow;\n        this.updateRowLine(docRow, splitIndex);\n        this.updateBidiMap();\n      }\n\n      return this.bidiMap.bidiLevels;\n    };\n\n    this.onChange = function (delta) {\n      if (!this.seenBidi) {\n        if (delta.action == \"insert\" && bidiRE.test(delta.lines.join(\"\\n\"))) {\n          this.seenBidi = true;\n          this.currentRow = null;\n        }\n      } else {\n        this.currentRow = null;\n      }\n    };\n\n    this.getDocumentRow = function () {\n      var docRow = 0;\n      var rowCache = this.session.$screenRowCache;\n\n      if (rowCache.length) {\n        var index = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n        if (index >= 0) docRow = this.session.$docRowCache[index];\n      }\n\n      return docRow;\n    };\n\n    this.getSplitIndex = function () {\n      var splitIndex = 0;\n      var rowCache = this.session.$screenRowCache;\n\n      if (rowCache.length) {\n        var currentIndex,\n            prevIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n\n        while (this.currentRow - splitIndex > 0) {\n          currentIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow - splitIndex - 1);\n          if (currentIndex !== prevIndex) break;\n          prevIndex = currentIndex;\n          splitIndex++;\n        }\n      } else {\n        splitIndex = this.currentRow;\n      }\n\n      return splitIndex;\n    };\n\n    this.updateRowLine = function (docRow, splitIndex) {\n      if (docRow === undefined) docRow = this.getDocumentRow();\n      var isLastRow = docRow === this.session.getLength() - 1,\n          endOfLine = isLastRow ? this.EOF : this.EOL;\n      this.wrapIndent = 0;\n      this.line = this.session.getLine(docRow);\n      this.isRtlDir = this.$isRtl || this.line.charAt(0) === this.RLE;\n\n      if (this.session.$useWrapMode) {\n        var splits = this.session.$wrapData[docRow];\n\n        if (splits) {\n          if (splitIndex === undefined) splitIndex = this.getSplitIndex();\n\n          if (splitIndex > 0 && splits.length) {\n            this.wrapIndent = splits.indent;\n            this.wrapOffset = this.wrapIndent * this.charWidths[bidiUtil.L];\n            this.line = splitIndex < splits.length ? this.line.substring(splits[splitIndex - 1], splits[splitIndex]) : this.line.substring(splits[splits.length - 1]);\n          } else {\n            this.line = this.line.substring(0, splits[splitIndex]);\n          }\n        }\n\n        if (splitIndex == splits.length) this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;\n      } else {\n        this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;\n      }\n\n      var session = this.session,\n          shift = 0,\n          size;\n      this.line = this.line.replace(/\\t|[\\u1100-\\u2029, \\u202F-\\uFFE6]/g, function (ch, i) {\n        if (ch === '\\t' || session.isFullWidth(ch.charCodeAt(0))) {\n          size = ch === '\\t' ? session.getScreenTabSize(i + shift) : 2;\n          shift += size - 1;\n          return lang.stringRepeat(bidiUtil.DOT, size);\n        }\n\n        return ch;\n      });\n\n      if (this.isRtlDir) {\n        this.fontMetrics.$main.textContent = this.line.charAt(this.line.length - 1) == bidiUtil.DOT ? this.line.substr(0, this.line.length - 1) : this.line;\n        this.rtlLineOffset = this.contentWidth - this.fontMetrics.$main.getBoundingClientRect().width;\n      }\n    };\n\n    this.updateBidiMap = function () {\n      var textCharTypes = [];\n\n      if (bidiUtil.hasBidiCharacters(this.line, textCharTypes) || this.isRtlDir) {\n        this.bidiMap = bidiUtil.doBidiReorder(this.line, textCharTypes, this.isRtlDir);\n      } else {\n        this.bidiMap = {};\n      }\n    };\n\n    this.markAsDirty = function () {\n      this.currentRow = null;\n    };\n\n    this.updateCharacterWidths = function (fontMetrics) {\n      if (this.characterWidth === fontMetrics.$characterSize.width) return;\n      this.fontMetrics = fontMetrics;\n      var characterWidth = this.characterWidth = fontMetrics.$characterSize.width;\n      var bidiCharWidth = fontMetrics.$measureCharWidth(\"\\u05D4\");\n      this.charWidths[bidiUtil.L] = this.charWidths[bidiUtil.EN] = this.charWidths[bidiUtil.ON_R] = characterWidth;\n      this.charWidths[bidiUtil.R] = this.charWidths[bidiUtil.AN] = bidiCharWidth;\n      this.charWidths[bidiUtil.R_H] = bidiCharWidth * 0.45;\n      this.charWidths[bidiUtil.B] = this.charWidths[bidiUtil.RLE] = 0;\n      this.currentRow = null;\n    };\n\n    this.setShowInvisibles = function (showInvisibles) {\n      this.showInvisibles = showInvisibles;\n      this.currentRow = null;\n    };\n\n    this.setEolChar = function (eolChar) {\n      this.EOL = eolChar;\n    };\n\n    this.setContentWidth = function (width) {\n      this.contentWidth = width;\n    };\n\n    this.isRtlLine = function (row) {\n      if (this.$isRtl) return true;\n      if (row != undefined) return this.session.getLine(row).charAt(0) == this.RLE;else return this.isRtlDir;\n    };\n\n    this.setRtlDirection = function (editor, isRtlDir) {\n      var cursor = editor.getCursorPosition();\n\n      for (var row = editor.selection.getSelectionAnchor().row; row <= cursor.row; row++) {\n        if (!isRtlDir && editor.session.getLine(row).charAt(0) === editor.session.$bidiHandler.RLE) editor.session.doc.removeInLine(row, 0, 1);else if (isRtlDir && editor.session.getLine(row).charAt(0) !== editor.session.$bidiHandler.RLE) editor.session.doc.insert({\n          column: 0,\n          row: row\n        }, editor.session.$bidiHandler.RLE);\n      }\n    };\n\n    this.getPosLeft = function (col) {\n      col -= this.wrapIndent;\n      var leftBoundary = this.line.charAt(0) === this.RLE ? 1 : 0;\n      var logicalIdx = col > leftBoundary ? this.session.getOverwrite() ? col : col - 1 : leftBoundary;\n      var visualIdx = bidiUtil.getVisualFromLogicalIdx(logicalIdx, this.bidiMap),\n          levels = this.bidiMap.bidiLevels,\n          left = 0;\n      if (!this.session.getOverwrite() && col <= leftBoundary && levels[visualIdx] % 2 !== 0) visualIdx++;\n\n      for (var i = 0; i < visualIdx; i++) {\n        left += this.charWidths[levels[i]];\n      }\n\n      if (!this.session.getOverwrite() && col > leftBoundary && levels[visualIdx] % 2 === 0) left += this.charWidths[levels[visualIdx]];\n      if (this.wrapIndent) left += this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset;\n      if (this.isRtlDir) left += this.rtlLineOffset;\n      return left;\n    };\n\n    this.getSelections = function (startCol, endCol) {\n      var map = this.bidiMap,\n          levels = map.bidiLevels,\n          level,\n          selections = [],\n          offset = 0,\n          selColMin = Math.min(startCol, endCol) - this.wrapIndent,\n          selColMax = Math.max(startCol, endCol) - this.wrapIndent,\n          isSelected = false,\n          isSelectedPrev = false,\n          selectionStart = 0;\n      if (this.wrapIndent) offset += this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset;\n\n      for (var logIdx, visIdx = 0; visIdx < levels.length; visIdx++) {\n        logIdx = map.logicalFromVisual[visIdx];\n        level = levels[visIdx];\n        isSelected = logIdx >= selColMin && logIdx < selColMax;\n\n        if (isSelected && !isSelectedPrev) {\n          selectionStart = offset;\n        } else if (!isSelected && isSelectedPrev) {\n          selections.push({\n            left: selectionStart,\n            width: offset - selectionStart\n          });\n        }\n\n        offset += this.charWidths[level];\n        isSelectedPrev = isSelected;\n      }\n\n      if (isSelected && visIdx === levels.length) {\n        selections.push({\n          left: selectionStart,\n          width: offset - selectionStart\n        });\n      }\n\n      if (this.isRtlDir) {\n        for (var i = 0; i < selections.length; i++) {\n          selections[i].left += this.rtlLineOffset;\n        }\n      }\n\n      return selections;\n    };\n\n    this.offsetToCol = function (posX) {\n      if (this.isRtlDir) posX -= this.rtlLineOffset;\n      var logicalIdx = 0,\n          posX = Math.max(posX, 0),\n          offset = 0,\n          visualIdx = 0,\n          levels = this.bidiMap.bidiLevels,\n          charWidth = this.charWidths[levels[visualIdx]];\n      if (this.wrapIndent) posX -= this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset;\n\n      while (posX > offset + charWidth / 2) {\n        offset += charWidth;\n\n        if (visualIdx === levels.length - 1) {\n          charWidth = 0;\n          break;\n        }\n\n        charWidth = this.charWidths[levels[++visualIdx]];\n      }\n\n      if (visualIdx > 0 && levels[visualIdx - 1] % 2 !== 0 && levels[visualIdx] % 2 === 0) {\n        if (posX < offset) visualIdx--;\n        logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n      } else if (visualIdx > 0 && levels[visualIdx - 1] % 2 === 0 && levels[visualIdx] % 2 !== 0) {\n        logicalIdx = 1 + (posX > offset ? this.bidiMap.logicalFromVisual[visualIdx] : this.bidiMap.logicalFromVisual[visualIdx - 1]);\n      } else if (this.isRtlDir && visualIdx === levels.length - 1 && charWidth === 0 && levels[visualIdx - 1] % 2 === 0 || !this.isRtlDir && visualIdx === 0 && levels[visualIdx] % 2 !== 0) {\n        logicalIdx = 1 + this.bidiMap.logicalFromVisual[visualIdx];\n      } else {\n        if (visualIdx > 0 && levels[visualIdx - 1] % 2 !== 0 && charWidth !== 0) visualIdx--;\n        logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n      }\n\n      if (logicalIdx === 0 && this.isRtlDir) logicalIdx++;\n      return logicalIdx + this.wrapIndent;\n    };\n  }).call(BidiHandler.prototype);\n  exports.BidiHandler = BidiHandler;\n});\nace.define(\"ace/selection\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/lang\", \"ace/lib/event_emitter\", \"ace/range\"], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"./lib/oop\");\n\n  var lang = require(\"./lib/lang\");\n\n  var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\n  var Range = require(\"./range\").Range;\n\n  var Selection = function Selection(session) {\n    this.session = session;\n    this.doc = session.getDocument();\n    this.clearSelection();\n    this.cursor = this.lead = this.doc.createAnchor(0, 0);\n    this.anchor = this.doc.createAnchor(0, 0);\n    this.$silent = false;\n    var self = this;\n    this.cursor.on(\"change\", function (e) {\n      self.$cursorChanged = true;\n      if (!self.$silent) self._emit(\"changeCursor\");\n      if (!self.$isEmpty && !self.$silent) self._emit(\"changeSelection\");\n      if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column) self.$desiredColumn = null;\n    });\n    this.anchor.on(\"change\", function () {\n      self.$anchorChanged = true;\n      if (!self.$isEmpty && !self.$silent) self._emit(\"changeSelection\");\n    });\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.isEmpty = function () {\n      return this.$isEmpty || this.anchor.row == this.lead.row && this.anchor.column == this.lead.column;\n    };\n\n    this.isMultiLine = function () {\n      return !this.$isEmpty && this.anchor.row != this.cursor.row;\n    };\n\n    this.getCursor = function () {\n      return this.lead.getPosition();\n    };\n\n    this.setSelectionAnchor = function (row, column) {\n      this.$isEmpty = false;\n      this.anchor.setPosition(row, column);\n    };\n\n    this.getAnchor = this.getSelectionAnchor = function () {\n      if (this.$isEmpty) return this.getSelectionLead();\n      return this.anchor.getPosition();\n    };\n\n    this.getSelectionLead = function () {\n      return this.lead.getPosition();\n    };\n\n    this.isBackwards = function () {\n      var anchor = this.anchor;\n      var lead = this.lead;\n      return anchor.row > lead.row || anchor.row == lead.row && anchor.column > lead.column;\n    };\n\n    this.getRange = function () {\n      var anchor = this.anchor;\n      var lead = this.lead;\n      if (this.$isEmpty) return Range.fromPoints(lead, lead);\n      return this.isBackwards() ? Range.fromPoints(lead, anchor) : Range.fromPoints(anchor, lead);\n    };\n\n    this.clearSelection = function () {\n      if (!this.$isEmpty) {\n        this.$isEmpty = true;\n\n        this._emit(\"changeSelection\");\n      }\n    };\n\n    this.selectAll = function () {\n      this.$setSelection(0, 0, Number.MAX_VALUE, Number.MAX_VALUE);\n    };\n\n    this.setRange = this.setSelectionRange = function (range, reverse) {\n      var start = reverse ? range.end : range.start;\n      var end = reverse ? range.start : range.end;\n      this.$setSelection(start.row, start.column, end.row, end.column);\n    };\n\n    this.$setSelection = function (anchorRow, anchorColumn, cursorRow, cursorColumn) {\n      if (this.$silent) return;\n      var wasEmpty = this.$isEmpty;\n      var wasMultiselect = this.inMultiSelectMode;\n      this.$silent = true;\n      this.$cursorChanged = this.$anchorChanged = false;\n      this.anchor.setPosition(anchorRow, anchorColumn);\n      this.cursor.setPosition(cursorRow, cursorColumn);\n      this.$isEmpty = !Range.comparePoints(this.anchor, this.cursor);\n      this.$silent = false;\n      if (this.$cursorChanged) this._emit(\"changeCursor\");\n      if (this.$cursorChanged || this.$anchorChanged || wasEmpty != this.$isEmpty || wasMultiselect) this._emit(\"changeSelection\");\n    };\n\n    this.$moveSelection = function (mover) {\n      var lead = this.lead;\n      if (this.$isEmpty) this.setSelectionAnchor(lead.row, lead.column);\n      mover.call(this);\n    };\n\n    this.selectTo = function (row, column) {\n      this.$moveSelection(function () {\n        this.moveCursorTo(row, column);\n      });\n    };\n\n    this.selectToPosition = function (pos) {\n      this.$moveSelection(function () {\n        this.moveCursorToPosition(pos);\n      });\n    };\n\n    this.moveTo = function (row, column) {\n      this.clearSelection();\n      this.moveCursorTo(row, column);\n    };\n\n    this.moveToPosition = function (pos) {\n      this.clearSelection();\n      this.moveCursorToPosition(pos);\n    };\n\n    this.selectUp = function () {\n      this.$moveSelection(this.moveCursorUp);\n    };\n\n    this.selectDown = function () {\n      this.$moveSelection(this.moveCursorDown);\n    };\n\n    this.selectRight = function () {\n      this.$moveSelection(this.moveCursorRight);\n    };\n\n    this.selectLeft = function () {\n      this.$moveSelection(this.moveCursorLeft);\n    };\n\n    this.selectLineStart = function () {\n      this.$moveSelection(this.moveCursorLineStart);\n    };\n\n    this.selectLineEnd = function () {\n      this.$moveSelection(this.moveCursorLineEnd);\n    };\n\n    this.selectFileEnd = function () {\n      this.$moveSelection(this.moveCursorFileEnd);\n    };\n\n    this.selectFileStart = function () {\n      this.$moveSelection(this.moveCursorFileStart);\n    };\n\n    this.selectWordRight = function () {\n      this.$moveSelection(this.moveCursorWordRight);\n    };\n\n    this.selectWordLeft = function () {\n      this.$moveSelection(this.moveCursorWordLeft);\n    };\n\n    this.getWordRange = function (row, column) {\n      if (typeof column == \"undefined\") {\n        var cursor = row || this.lead;\n        row = cursor.row;\n        column = cursor.column;\n      }\n\n      return this.session.getWordRange(row, column);\n    };\n\n    this.selectWord = function () {\n      this.setSelectionRange(this.getWordRange());\n    };\n\n    this.selectAWord = function () {\n      var cursor = this.getCursor();\n      var range = this.session.getAWordRange(cursor.row, cursor.column);\n      this.setSelectionRange(range);\n    };\n\n    this.getLineRange = function (row, excludeLastChar) {\n      var rowStart = typeof row == \"number\" ? row : this.lead.row;\n      var rowEnd;\n      var foldLine = this.session.getFoldLine(rowStart);\n\n      if (foldLine) {\n        rowStart = foldLine.start.row;\n        rowEnd = foldLine.end.row;\n      } else {\n        rowEnd = rowStart;\n      }\n\n      if (excludeLastChar === true) return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);else return new Range(rowStart, 0, rowEnd + 1, 0);\n    };\n\n    this.selectLine = function () {\n      this.setSelectionRange(this.getLineRange());\n    };\n\n    this.moveCursorUp = function () {\n      this.moveCursorBy(-1, 0);\n    };\n\n    this.moveCursorDown = function () {\n      this.moveCursorBy(1, 0);\n    };\n\n    this.wouldMoveIntoSoftTab = function (cursor, tabSize, direction) {\n      var start = cursor.column;\n      var end = cursor.column + tabSize;\n\n      if (direction < 0) {\n        start = cursor.column - tabSize;\n        end = cursor.column;\n      }\n\n      return this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(start, end).split(\" \").length - 1 == tabSize;\n    };\n\n    this.moveCursorLeft = function () {\n      var cursor = this.lead.getPosition(),\n          fold;\n\n      if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {\n        this.moveCursorTo(fold.start.row, fold.start.column);\n      } else if (cursor.column === 0) {\n        if (cursor.row > 0) {\n          this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);\n        }\n      } else {\n        var tabSize = this.session.getTabSize();\n\n        if (this.wouldMoveIntoSoftTab(cursor, tabSize, -1) && !this.session.getNavigateWithinSoftTabs()) {\n          this.moveCursorBy(0, -tabSize);\n        } else {\n          this.moveCursorBy(0, -1);\n        }\n      }\n    };\n\n    this.moveCursorRight = function () {\n      var cursor = this.lead.getPosition(),\n          fold;\n\n      if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {\n        this.moveCursorTo(fold.end.row, fold.end.column);\n      } else if (this.lead.column == this.doc.getLine(this.lead.row).length) {\n        if (this.lead.row < this.doc.getLength() - 1) {\n          this.moveCursorTo(this.lead.row + 1, 0);\n        }\n      } else {\n        var tabSize = this.session.getTabSize();\n        var cursor = this.lead;\n\n        if (this.wouldMoveIntoSoftTab(cursor, tabSize, 1) && !this.session.getNavigateWithinSoftTabs()) {\n          this.moveCursorBy(0, tabSize);\n        } else {\n          this.moveCursorBy(0, 1);\n        }\n      }\n    };\n\n    this.moveCursorLineStart = function () {\n      var row = this.lead.row;\n      var column = this.lead.column;\n      var screenRow = this.session.documentToScreenRow(row, column);\n      var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);\n      var beforeCursor = this.session.getDisplayLine(row, null, firstColumnPosition.row, firstColumnPosition.column);\n      var leadingSpace = beforeCursor.match(/^\\s*/);\n      if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart) firstColumnPosition.column += leadingSpace[0].length;\n      this.moveCursorToPosition(firstColumnPosition);\n    };\n\n    this.moveCursorLineEnd = function () {\n      var lead = this.lead;\n      var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);\n\n      if (this.lead.column == lineEnd.column) {\n        var line = this.session.getLine(lineEnd.row);\n\n        if (lineEnd.column == line.length) {\n          var textEnd = line.search(/\\s+$/);\n          if (textEnd > 0) lineEnd.column = textEnd;\n        }\n      }\n\n      this.moveCursorTo(lineEnd.row, lineEnd.column);\n    };\n\n    this.moveCursorFileEnd = function () {\n      var row = this.doc.getLength() - 1;\n      var column = this.doc.getLine(row).length;\n      this.moveCursorTo(row, column);\n    };\n\n    this.moveCursorFileStart = function () {\n      this.moveCursorTo(0, 0);\n    };\n\n    this.moveCursorLongWordRight = function () {\n      var row = this.lead.row;\n      var column = this.lead.column;\n      var line = this.doc.getLine(row);\n      var rightOfCursor = line.substring(column);\n      this.session.nonTokenRe.lastIndex = 0;\n      this.session.tokenRe.lastIndex = 0;\n      var fold = this.session.getFoldAt(row, column, 1);\n\n      if (fold) {\n        this.moveCursorTo(fold.end.row, fold.end.column);\n        return;\n      }\n\n      if (this.session.nonTokenRe.exec(rightOfCursor)) {\n        column += this.session.nonTokenRe.lastIndex;\n        this.session.nonTokenRe.lastIndex = 0;\n        rightOfCursor = line.substring(column);\n      }\n\n      if (column >= line.length) {\n        this.moveCursorTo(row, line.length);\n        this.moveCursorRight();\n        if (row < this.doc.getLength() - 1) this.moveCursorWordRight();\n        return;\n      }\n\n      if (this.session.tokenRe.exec(rightOfCursor)) {\n        column += this.session.tokenRe.lastIndex;\n        this.session.tokenRe.lastIndex = 0;\n      }\n\n      this.moveCursorTo(row, column);\n    };\n\n    this.moveCursorLongWordLeft = function () {\n      var row = this.lead.row;\n      var column = this.lead.column;\n      var fold;\n\n      if (fold = this.session.getFoldAt(row, column, -1)) {\n        this.moveCursorTo(fold.start.row, fold.start.column);\n        return;\n      }\n\n      var str = this.session.getFoldStringAt(row, column, -1);\n\n      if (str == null) {\n        str = this.doc.getLine(row).substring(0, column);\n      }\n\n      var leftOfCursor = lang.stringReverse(str);\n      this.session.nonTokenRe.lastIndex = 0;\n      this.session.tokenRe.lastIndex = 0;\n\n      if (this.session.nonTokenRe.exec(leftOfCursor)) {\n        column -= this.session.nonTokenRe.lastIndex;\n        leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);\n        this.session.nonTokenRe.lastIndex = 0;\n      }\n\n      if (column <= 0) {\n        this.moveCursorTo(row, 0);\n        this.moveCursorLeft();\n        if (row > 0) this.moveCursorWordLeft();\n        return;\n      }\n\n      if (this.session.tokenRe.exec(leftOfCursor)) {\n        column -= this.session.tokenRe.lastIndex;\n        this.session.tokenRe.lastIndex = 0;\n      }\n\n      this.moveCursorTo(row, column);\n    };\n\n    this.$shortWordEndIndex = function (rightOfCursor) {\n      var index = 0,\n          ch;\n      var whitespaceRe = /\\s/;\n      var tokenRe = this.session.tokenRe;\n      tokenRe.lastIndex = 0;\n\n      if (this.session.tokenRe.exec(rightOfCursor)) {\n        index = this.session.tokenRe.lastIndex;\n      } else {\n        while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch)) {\n          index++;\n        }\n\n        if (index < 1) {\n          tokenRe.lastIndex = 0;\n\n          while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {\n            tokenRe.lastIndex = 0;\n            index++;\n\n            if (whitespaceRe.test(ch)) {\n              if (index > 2) {\n                index--;\n                break;\n              } else {\n                while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch)) {\n                  index++;\n                }\n\n                if (index > 2) break;\n              }\n            }\n          }\n        }\n      }\n\n      tokenRe.lastIndex = 0;\n      return index;\n    };\n\n    this.moveCursorShortWordRight = function () {\n      var row = this.lead.row;\n      var column = this.lead.column;\n      var line = this.doc.getLine(row);\n      var rightOfCursor = line.substring(column);\n      var fold = this.session.getFoldAt(row, column, 1);\n      if (fold) return this.moveCursorTo(fold.end.row, fold.end.column);\n\n      if (column == line.length) {\n        var l = this.doc.getLength();\n\n        do {\n          row++;\n          rightOfCursor = this.doc.getLine(row);\n        } while (row < l && /^\\s*$/.test(rightOfCursor));\n\n        if (!/^\\s+/.test(rightOfCursor)) rightOfCursor = \"\";\n        column = 0;\n      }\n\n      var index = this.$shortWordEndIndex(rightOfCursor);\n      this.moveCursorTo(row, column + index);\n    };\n\n    this.moveCursorShortWordLeft = function () {\n      var row = this.lead.row;\n      var column = this.lead.column;\n      var fold;\n      if (fold = this.session.getFoldAt(row, column, -1)) return this.moveCursorTo(fold.start.row, fold.start.column);\n      var line = this.session.getLine(row).substring(0, column);\n\n      if (column === 0) {\n        do {\n          row--;\n          line = this.doc.getLine(row);\n        } while (row > 0 && /^\\s*$/.test(line));\n\n        column = line.length;\n        if (!/\\s+$/.test(line)) line = \"\";\n      }\n\n      var leftOfCursor = lang.stringReverse(line);\n      var index = this.$shortWordEndIndex(leftOfCursor);\n      return this.moveCursorTo(row, column - index);\n    };\n\n    this.moveCursorWordRight = function () {\n      if (this.session.$selectLongWords) this.moveCursorLongWordRight();else this.moveCursorShortWordRight();\n    };\n\n    this.moveCursorWordLeft = function () {\n      if (this.session.$selectLongWords) this.moveCursorLongWordLeft();else this.moveCursorShortWordLeft();\n    };\n\n    this.moveCursorBy = function (rows, chars) {\n      var screenPos = this.session.documentToScreenPosition(this.lead.row, this.lead.column);\n      var offsetX;\n\n      if (chars === 0) {\n        if (rows !== 0) {\n          if (this.session.$bidiHandler.isBidiRow(screenPos.row, this.lead.row)) {\n            offsetX = this.session.$bidiHandler.getPosLeft(screenPos.column);\n            screenPos.column = Math.round(offsetX / this.session.$bidiHandler.charWidths[0]);\n          } else {\n            offsetX = screenPos.column * this.session.$bidiHandler.charWidths[0];\n          }\n        }\n\n        if (this.$desiredColumn) screenPos.column = this.$desiredColumn;else this.$desiredColumn = screenPos.column;\n      }\n\n      if (rows != 0 && this.session.lineWidgets && this.session.lineWidgets[this.lead.row]) {\n        var widget = this.session.lineWidgets[this.lead.row];\n        if (rows < 0) rows -= widget.rowsAbove || 0;else if (rows > 0) rows += widget.rowCount - (widget.rowsAbove || 0);\n      }\n\n      var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column, offsetX);\n\n      if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {}\n\n      this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);\n    };\n\n    this.moveCursorToPosition = function (position) {\n      this.moveCursorTo(position.row, position.column);\n    };\n\n    this.moveCursorTo = function (row, column, keepDesiredColumn) {\n      var fold = this.session.getFoldAt(row, column, 1);\n\n      if (fold) {\n        row = fold.start.row;\n        column = fold.start.column;\n      }\n\n      this.$keepDesiredColumnOnChange = true;\n      var line = this.session.getLine(row);\n\n      if (/[\\uDC00-\\uDFFF]/.test(line.charAt(column)) && line.charAt(column - 1)) {\n        if (this.lead.row == row && this.lead.column == column + 1) column = column - 1;else column = column + 1;\n      }\n\n      this.lead.setPosition(row, column);\n      this.$keepDesiredColumnOnChange = false;\n      if (!keepDesiredColumn) this.$desiredColumn = null;\n    };\n\n    this.moveCursorToScreen = function (row, column, keepDesiredColumn) {\n      var pos = this.session.screenToDocumentPosition(row, column);\n      this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);\n    };\n\n    this.detach = function () {\n      this.lead.detach();\n      this.anchor.detach();\n      this.session = this.doc = null;\n    };\n\n    this.fromOrientedRange = function (range) {\n      this.setSelectionRange(range, range.cursor == range.start);\n      this.$desiredColumn = range.desiredColumn || this.$desiredColumn;\n    };\n\n    this.toOrientedRange = function (range) {\n      var r = this.getRange();\n\n      if (range) {\n        range.start.column = r.start.column;\n        range.start.row = r.start.row;\n        range.end.column = r.end.column;\n        range.end.row = r.end.row;\n      } else {\n        range = r;\n      }\n\n      range.cursor = this.isBackwards() ? range.start : range.end;\n      range.desiredColumn = this.$desiredColumn;\n      return range;\n    };\n\n    this.getRangeOfMovements = function (func) {\n      var start = this.getCursor();\n\n      try {\n        func(this);\n        var end = this.getCursor();\n        return Range.fromPoints(start, end);\n      } catch (e) {\n        return Range.fromPoints(start, start);\n      } finally {\n        this.moveCursorToPosition(start);\n      }\n    };\n\n    this.toJSON = function () {\n      if (this.rangeCount) {\n        var data = this.ranges.map(function (r) {\n          var r1 = r.clone();\n          r1.isBackwards = r.cursor == r.start;\n          return r1;\n        });\n      } else {\n        var data = this.getRange();\n        data.isBackwards = this.isBackwards();\n      }\n\n      return data;\n    };\n\n    this.fromJSON = function (data) {\n      if (data.start == undefined) {\n        if (this.rangeList && data.length > 1) {\n          this.toSingleRange(data[0]);\n\n          for (var i = data.length; i--;) {\n            var r = Range.fromPoints(data[i].start, data[i].end);\n            if (data[i].isBackwards) r.cursor = r.start;\n            this.addRange(r, true);\n          }\n\n          return;\n        } else {\n          data = data[0];\n        }\n      }\n\n      if (this.rangeList) this.toSingleRange(data);\n      this.setSelectionRange(data, data.isBackwards);\n    };\n\n    this.isEqual = function (data) {\n      if ((data.length || this.rangeCount) && data.length != this.rangeCount) return false;\n      if (!data.length || !this.ranges) return this.getRange().isEqual(data);\n\n      for (var i = this.ranges.length; i--;) {\n        if (!this.ranges[i].isEqual(data[i])) return false;\n      }\n\n      return true;\n    };\n  }).call(Selection.prototype);\n  exports.Selection = Selection;\n});\nace.define(\"ace/tokenizer\", [\"require\", \"exports\", \"module\", \"ace/config\"], function (require, exports, module) {\n  \"use strict\";\n\n  var config = require(\"./config\");\n\n  var MAX_TOKEN_COUNT = 2000;\n\n  var Tokenizer = function Tokenizer(rules) {\n    this.states = rules;\n    this.regExps = {};\n    this.matchMappings = {};\n\n    for (var key in this.states) {\n      var state = this.states[key];\n      var ruleRegExps = [];\n      var matchTotal = 0;\n      var mapping = this.matchMappings[key] = {\n        defaultToken: \"text\"\n      };\n      var flag = \"g\";\n      var splitterRurles = [];\n\n      for (var i = 0; i < state.length; i++) {\n        var rule = state[i];\n        if (rule.defaultToken) mapping.defaultToken = rule.defaultToken;\n        if (rule.caseInsensitive) flag = \"gi\";\n        if (rule.regex == null) continue;\n        if (rule.regex instanceof RegExp) rule.regex = rule.regex.toString().slice(1, -1);\n        var adjustedregex = rule.regex;\n        var matchcount = new RegExp(\"(?:(\" + adjustedregex + \")|(.))\").exec(\"a\").length - 2;\n\n        if (Array.isArray(rule.token)) {\n          if (rule.token.length == 1 || matchcount == 1) {\n            rule.token = rule.token[0];\n          } else if (matchcount - 1 != rule.token.length) {\n            this.reportError(\"number of classes and regexp groups doesn't match\", {\n              rule: rule,\n              groupCount: matchcount - 1\n            });\n            rule.token = rule.token[0];\n          } else {\n            rule.tokenArray = rule.token;\n            rule.token = null;\n            rule.onMatch = this.$arrayTokens;\n          }\n        } else if (typeof rule.token == \"function\" && !rule.onMatch) {\n          if (matchcount > 1) rule.onMatch = this.$applyToken;else rule.onMatch = rule.token;\n        }\n\n        if (matchcount > 1) {\n          if (/\\\\\\d/.test(rule.regex)) {\n            adjustedregex = rule.regex.replace(/\\\\([0-9]+)/g, function (match, digit) {\n              return \"\\\\\" + (parseInt(digit, 10) + matchTotal + 1);\n            });\n          } else {\n            matchcount = 1;\n            adjustedregex = this.removeCapturingGroups(rule.regex);\n          }\n\n          if (!rule.splitRegex && typeof rule.token != \"string\") splitterRurles.push(rule); // flag will be known only at the very end\n        }\n\n        mapping[matchTotal] = i;\n        matchTotal += matchcount;\n        ruleRegExps.push(adjustedregex);\n        if (!rule.onMatch) rule.onMatch = null;\n      }\n\n      if (!ruleRegExps.length) {\n        mapping[0] = 0;\n        ruleRegExps.push(\"$\");\n      }\n\n      splitterRurles.forEach(function (rule) {\n        rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);\n      }, this);\n      this.regExps[key] = new RegExp(\"(\" + ruleRegExps.join(\")|(\") + \")|($)\", flag);\n    }\n  };\n\n  (function () {\n    this.$setMaxTokenCount = function (m) {\n      MAX_TOKEN_COUNT = m | 0;\n    };\n\n    this.$applyToken = function (str) {\n      var values = this.splitRegex.exec(str).slice(1);\n      var types = this.token.apply(this, values);\n      if (typeof types === \"string\") return [{\n        type: types,\n        value: str\n      }];\n      var tokens = [];\n\n      for (var i = 0, l = types.length; i < l; i++) {\n        if (values[i]) tokens[tokens.length] = {\n          type: types[i],\n          value: values[i]\n        };\n      }\n\n      return tokens;\n    };\n\n    this.$arrayTokens = function (str) {\n      if (!str) return [];\n      var values = this.splitRegex.exec(str);\n      if (!values) return \"text\";\n      var tokens = [];\n      var types = this.tokenArray;\n\n      for (var i = 0, l = types.length; i < l; i++) {\n        if (values[i + 1]) tokens[tokens.length] = {\n          type: types[i],\n          value: values[i + 1]\n        };\n      }\n\n      return tokens;\n    };\n\n    this.removeCapturingGroups = function (src) {\n      var r = src.replace(/\\\\.|\\[(?:\\\\.|[^\\\\\\]])*|\\(\\?[:=!]|(\\()/g, function (x, y) {\n        return y ? \"(?:\" : x;\n      });\n      return r;\n    };\n\n    this.createSplitterRegexp = function (src, flag) {\n      if (src.indexOf(\"(?=\") != -1) {\n        var stack = 0;\n        var inChClass = false;\n        var lastCapture = {};\n        src.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g, function (m, esc, parenOpen, parenClose, square, index) {\n          if (inChClass) {\n            inChClass = square != \"]\";\n          } else if (square) {\n            inChClass = true;\n          } else if (parenClose) {\n            if (stack == lastCapture.stack) {\n              lastCapture.end = index + 1;\n              lastCapture.stack = -1;\n            }\n\n            stack--;\n          } else if (parenOpen) {\n            stack++;\n\n            if (parenOpen.length != 1) {\n              lastCapture.stack = stack;\n              lastCapture.start = index;\n            }\n          }\n\n          return m;\n        });\n        if (lastCapture.end != null && /^\\)*$/.test(src.substr(lastCapture.end))) src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);\n      }\n\n      if (src.charAt(0) != \"^\") src = \"^\" + src;\n      if (src.charAt(src.length - 1) != \"$\") src += \"$\";\n      return new RegExp(src, (flag || \"\").replace(\"g\", \"\"));\n    };\n\n    this.getLineTokens = function (line, startState) {\n      if (startState && typeof startState != \"string\") {\n        var stack = startState.slice(0);\n        startState = stack[0];\n\n        if (startState === \"#tmp\") {\n          stack.shift();\n          startState = stack.shift();\n        }\n      } else var stack = [];\n\n      var currentState = startState || \"start\";\n      var state = this.states[currentState];\n\n      if (!state) {\n        currentState = \"start\";\n        state = this.states[currentState];\n      }\n\n      var mapping = this.matchMappings[currentState];\n      var re = this.regExps[currentState];\n      re.lastIndex = 0;\n      var match,\n          tokens = [];\n      var lastIndex = 0;\n      var matchAttempts = 0;\n      var token = {\n        type: null,\n        value: \"\"\n      };\n\n      while (match = re.exec(line)) {\n        var type = mapping.defaultToken;\n        var rule = null;\n        var value = match[0];\n        var index = re.lastIndex;\n\n        if (index - value.length > lastIndex) {\n          var skipped = line.substring(lastIndex, index - value.length);\n\n          if (token.type == type) {\n            token.value += skipped;\n          } else {\n            if (token.type) tokens.push(token);\n            token = {\n              type: type,\n              value: skipped\n            };\n          }\n        }\n\n        for (var i = 0; i < match.length - 2; i++) {\n          if (match[i + 1] === undefined) continue;\n          rule = state[mapping[i]];\n          if (rule.onMatch) type = rule.onMatch(value, currentState, stack, line);else type = rule.token;\n\n          if (rule.next) {\n            if (typeof rule.next == \"string\") {\n              currentState = rule.next;\n            } else {\n              currentState = rule.next(currentState, stack);\n            }\n\n            state = this.states[currentState];\n\n            if (!state) {\n              this.reportError(\"state doesn't exist\", currentState);\n              currentState = \"start\";\n              state = this.states[currentState];\n            }\n\n            mapping = this.matchMappings[currentState];\n            lastIndex = index;\n            re = this.regExps[currentState];\n            re.lastIndex = index;\n          }\n\n          if (rule.consumeLineEnd) lastIndex = index;\n          break;\n        }\n\n        if (value) {\n          if (typeof type === \"string\") {\n            if ((!rule || rule.merge !== false) && token.type === type) {\n              token.value += value;\n            } else {\n              if (token.type) tokens.push(token);\n              token = {\n                type: type,\n                value: value\n              };\n            }\n          } else if (type) {\n            if (token.type) tokens.push(token);\n            token = {\n              type: null,\n              value: \"\"\n            };\n\n            for (var i = 0; i < type.length; i++) {\n              tokens.push(type[i]);\n            }\n          }\n        }\n\n        if (lastIndex == line.length) break;\n        lastIndex = index;\n\n        if (matchAttempts++ > MAX_TOKEN_COUNT) {\n          if (matchAttempts > 2 * line.length) {\n            this.reportError(\"infinite loop with in ace tokenizer\", {\n              startState: startState,\n              line: line\n            });\n          }\n\n          while (lastIndex < line.length) {\n            if (token.type) tokens.push(token);\n            token = {\n              value: line.substring(lastIndex, lastIndex += 500),\n              type: \"overflow\"\n            };\n          }\n\n          currentState = \"start\";\n          stack = [];\n          break;\n        }\n      }\n\n      if (token.type) tokens.push(token);\n\n      if (stack.length > 1) {\n        if (stack[0] !== currentState) stack.unshift(\"#tmp\", currentState);\n      }\n\n      return {\n        tokens: tokens,\n        state: stack.length ? stack : currentState\n      };\n    };\n\n    this.reportError = config.reportError;\n  }).call(Tokenizer.prototype);\n  exports.Tokenizer = Tokenizer;\n});\nace.define(\"ace/mode/text_highlight_rules\", [\"require\", \"exports\", \"module\", \"ace/lib/lang\"], function (require, exports, module) {\n  \"use strict\";\n\n  var lang = require(\"../lib/lang\");\n\n  var TextHighlightRules = function TextHighlightRules() {\n    this.$rules = {\n      \"start\": [{\n        token: \"empty_line\",\n        regex: '^$'\n      }, {\n        defaultToken: \"text\"\n      }]\n    };\n  };\n\n  (function () {\n    this.addRules = function (rules, prefix) {\n      if (!prefix) {\n        for (var key in rules) {\n          this.$rules[key] = rules[key];\n        }\n\n        return;\n      }\n\n      for (var key in rules) {\n        var state = rules[key];\n\n        for (var i = 0; i < state.length; i++) {\n          var rule = state[i];\n\n          if (rule.next || rule.onMatch) {\n            if (typeof rule.next == \"string\") {\n              if (rule.next.indexOf(prefix) !== 0) rule.next = prefix + rule.next;\n            }\n\n            if (rule.nextState && rule.nextState.indexOf(prefix) !== 0) rule.nextState = prefix + rule.nextState;\n          }\n        }\n\n        this.$rules[prefix + key] = state;\n      }\n    };\n\n    this.getRules = function () {\n      return this.$rules;\n    };\n\n    this.embedRules = function (HighlightRules, prefix, escapeRules, states, append) {\n      var embedRules = typeof HighlightRules == \"function\" ? new HighlightRules().getRules() : HighlightRules;\n\n      if (states) {\n        for (var i = 0; i < states.length; i++) {\n          states[i] = prefix + states[i];\n        }\n      } else {\n        states = [];\n\n        for (var key in embedRules) {\n          states.push(prefix + key);\n        }\n      }\n\n      this.addRules(embedRules, prefix);\n\n      if (escapeRules) {\n        var addRules = Array.prototype[append ? \"push\" : \"unshift\"];\n\n        for (var i = 0; i < states.length; i++) {\n          addRules.apply(this.$rules[states[i]], lang.deepCopy(escapeRules));\n        }\n      }\n\n      if (!this.$embeds) this.$embeds = [];\n      this.$embeds.push(prefix);\n    };\n\n    this.getEmbeds = function () {\n      return this.$embeds;\n    };\n\n    var pushState = function pushState(currentState, stack) {\n      if (currentState != \"start\" || stack.length) stack.unshift(this.nextState, currentState);\n      return this.nextState;\n    };\n\n    var popState = function popState(currentState, stack) {\n      stack.shift();\n      return stack.shift() || \"start\";\n    };\n\n    this.normalizeRules = function () {\n      var id = 0;\n      var rules = this.$rules;\n\n      function processState(key) {\n        var state = rules[key];\n        state.processed = true;\n\n        for (var i = 0; i < state.length; i++) {\n          var rule = state[i];\n          var toInsert = null;\n\n          if (Array.isArray(rule)) {\n            toInsert = rule;\n            rule = {};\n          }\n\n          if (!rule.regex && rule.start) {\n            rule.regex = rule.start;\n            if (!rule.next) rule.next = [];\n            rule.next.push({\n              defaultToken: rule.token\n            }, {\n              token: rule.token + \".end\",\n              regex: rule.end || rule.start,\n              next: \"pop\"\n            });\n            rule.token = rule.token + \".start\";\n            rule.push = true;\n          }\n\n          var next = rule.next || rule.push;\n\n          if (next && Array.isArray(next)) {\n            var stateName = rule.stateName;\n\n            if (!stateName) {\n              stateName = rule.token;\n              if (typeof stateName != \"string\") stateName = stateName[0] || \"\";\n              if (rules[stateName]) stateName += id++;\n            }\n\n            rules[stateName] = next;\n            rule.next = stateName;\n            processState(stateName);\n          } else if (next == \"pop\") {\n            rule.next = popState;\n          }\n\n          if (rule.push) {\n            rule.nextState = rule.next || rule.push;\n            rule.next = pushState;\n            delete rule.push;\n          }\n\n          if (rule.rules) {\n            for (var r in rule.rules) {\n              if (rules[r]) {\n                if (rules[r].push) rules[r].push.apply(rules[r], rule.rules[r]);\n              } else {\n                rules[r] = rule.rules[r];\n              }\n            }\n          }\n\n          var includeName = typeof rule == \"string\" ? rule : rule.include;\n\n          if (includeName) {\n            if (Array.isArray(includeName)) toInsert = includeName.map(function (x) {\n              return rules[x];\n            });else toInsert = rules[includeName];\n          }\n\n          if (toInsert) {\n            var args = [i, 1].concat(toInsert);\n            if (rule.noEscape) args = args.filter(function (x) {\n              return !x.next;\n            });\n            state.splice.apply(state, args);\n            i--;\n          }\n\n          if (rule.keywordMap) {\n            rule.token = this.createKeywordMapper(rule.keywordMap, rule.defaultToken || \"text\", rule.caseInsensitive);\n            delete rule.defaultToken;\n          }\n        }\n      }\n\n      Object.keys(rules).forEach(processState, this);\n    };\n\n    this.createKeywordMapper = function (map, defaultToken, ignoreCase, splitChar) {\n      var keywords = Object.create(null);\n      this.$keywordList = [];\n      Object.keys(map).forEach(function (className) {\n        var a = map[className];\n        var list = a.split(splitChar || \"|\");\n\n        for (var i = list.length; i--;) {\n          var word = list[i];\n          this.$keywordList.push(word);\n          if (ignoreCase) word = word.toLowerCase();\n          keywords[word] = className;\n        }\n      }, this);\n      map = null;\n      return ignoreCase ? function (value) {\n        return keywords[value.toLowerCase()] || defaultToken;\n      } : function (value) {\n        return keywords[value] || defaultToken;\n      };\n    };\n\n    this.getKeywords = function () {\n      return this.$keywords;\n    };\n  }).call(TextHighlightRules.prototype);\n  exports.TextHighlightRules = TextHighlightRules;\n});\nace.define(\"ace/mode/behaviour\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  var Behaviour = function Behaviour() {\n    this.$behaviours = {};\n  };\n\n  (function () {\n    this.add = function (name, action, callback) {\n      switch (undefined) {\n        case this.$behaviours:\n          this.$behaviours = {};\n\n        case this.$behaviours[name]:\n          this.$behaviours[name] = {};\n      }\n\n      this.$behaviours[name][action] = callback;\n    };\n\n    this.addBehaviours = function (behaviours) {\n      for (var key in behaviours) {\n        for (var action in behaviours[key]) {\n          this.add(key, action, behaviours[key][action]);\n        }\n      }\n    };\n\n    this.remove = function (name) {\n      if (this.$behaviours && this.$behaviours[name]) {\n        delete this.$behaviours[name];\n      }\n    };\n\n    this.inherit = function (mode, filter) {\n      if (typeof mode === \"function\") {\n        var behaviours = new mode().getBehaviours(filter);\n      } else {\n        var behaviours = mode.getBehaviours(filter);\n      }\n\n      this.addBehaviours(behaviours);\n    };\n\n    this.getBehaviours = function (filter) {\n      if (!filter) {\n        return this.$behaviours;\n      } else {\n        var ret = {};\n\n        for (var i = 0; i < filter.length; i++) {\n          if (this.$behaviours[filter[i]]) {\n            ret[filter[i]] = this.$behaviours[filter[i]];\n          }\n        }\n\n        return ret;\n      }\n    };\n  }).call(Behaviour.prototype);\n  exports.Behaviour = Behaviour;\n});\nace.define(\"ace/token_iterator\", [\"require\", \"exports\", \"module\", \"ace/range\"], function (require, exports, module) {\n  \"use strict\";\n\n  var Range = require(\"./range\").Range;\n\n  var TokenIterator = function TokenIterator(session, initialRow, initialColumn) {\n    this.$session = session;\n    this.$row = initialRow;\n    this.$rowTokens = session.getTokens(initialRow);\n    var token = session.getTokenAt(initialRow, initialColumn);\n    this.$tokenIndex = token ? token.index : -1;\n  };\n\n  (function () {\n    this.stepBackward = function () {\n      this.$tokenIndex -= 1;\n\n      while (this.$tokenIndex < 0) {\n        this.$row -= 1;\n\n        if (this.$row < 0) {\n          this.$row = 0;\n          return null;\n        }\n\n        this.$rowTokens = this.$session.getTokens(this.$row);\n        this.$tokenIndex = this.$rowTokens.length - 1;\n      }\n\n      return this.$rowTokens[this.$tokenIndex];\n    };\n\n    this.stepForward = function () {\n      this.$tokenIndex += 1;\n      var rowCount;\n\n      while (this.$tokenIndex >= this.$rowTokens.length) {\n        this.$row += 1;\n        if (!rowCount) rowCount = this.$session.getLength();\n\n        if (this.$row >= rowCount) {\n          this.$row = rowCount - 1;\n          return null;\n        }\n\n        this.$rowTokens = this.$session.getTokens(this.$row);\n        this.$tokenIndex = 0;\n      }\n\n      return this.$rowTokens[this.$tokenIndex];\n    };\n\n    this.getCurrentToken = function () {\n      return this.$rowTokens[this.$tokenIndex];\n    };\n\n    this.getCurrentTokenRow = function () {\n      return this.$row;\n    };\n\n    this.getCurrentTokenColumn = function () {\n      var rowTokens = this.$rowTokens;\n      var tokenIndex = this.$tokenIndex;\n      var column = rowTokens[tokenIndex].start;\n      if (column !== undefined) return column;\n      column = 0;\n\n      while (tokenIndex > 0) {\n        tokenIndex -= 1;\n        column += rowTokens[tokenIndex].value.length;\n      }\n\n      return column;\n    };\n\n    this.getCurrentTokenPosition = function () {\n      return {\n        row: this.$row,\n        column: this.getCurrentTokenColumn()\n      };\n    };\n\n    this.getCurrentTokenRange = function () {\n      var token = this.$rowTokens[this.$tokenIndex];\n      var column = this.getCurrentTokenColumn();\n      return new Range(this.$row, column, this.$row, column + token.value.length);\n    };\n  }).call(TokenIterator.prototype);\n  exports.TokenIterator = TokenIterator;\n});\nace.define(\"ace/mode/behaviour/cstyle\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/mode/behaviour\", \"ace/token_iterator\", \"ace/lib/lang\"], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"../../lib/oop\");\n\n  var Behaviour = require(\"../behaviour\").Behaviour;\n\n  var TokenIterator = require(\"../../token_iterator\").TokenIterator;\n\n  var lang = require(\"../../lib/lang\");\n\n  var SAFE_INSERT_IN_TOKENS = [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\"];\n  var SAFE_INSERT_BEFORE_TOKENS = [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\", \"comment\"];\n  var context;\n  var contextCache = {};\n  var defaultQuotes = {\n    '\"': '\"',\n    \"'\": \"'\"\n  };\n\n  var initContext = function initContext(editor) {\n    var id = -1;\n\n    if (editor.multiSelect) {\n      id = editor.selection.index;\n      if (contextCache.rangeCount != editor.multiSelect.rangeCount) contextCache = {\n        rangeCount: editor.multiSelect.rangeCount\n      };\n    }\n\n    if (contextCache[id]) return context = contextCache[id];\n    context = contextCache[id] = {\n      autoInsertedBrackets: 0,\n      autoInsertedRow: -1,\n      autoInsertedLineEnd: \"\",\n      maybeInsertedBrackets: 0,\n      maybeInsertedRow: -1,\n      maybeInsertedLineStart: \"\",\n      maybeInsertedLineEnd: \"\"\n    };\n  };\n\n  var getWrapped = function getWrapped(selection, selected, opening, closing) {\n    var rowDiff = selection.end.row - selection.start.row;\n    return {\n      text: opening + selected + closing,\n      selection: [0, selection.start.column + 1, rowDiff, selection.end.column + (rowDiff ? 0 : 1)]\n    };\n  };\n\n  var CstyleBehaviour = function CstyleBehaviour(options) {\n    this.add(\"braces\", \"insertion\", function (state, action, editor, session, text) {\n      var cursor = editor.getCursorPosition();\n      var line = session.doc.getLine(cursor.row);\n\n      if (text == '{') {\n        initContext(editor);\n        var selection = editor.getSelectionRange();\n        var selected = session.doc.getTextRange(selection);\n\n        if (selected !== \"\" && selected !== \"{\" && editor.getWrapBehavioursEnabled()) {\n          return getWrapped(selection, selected, '{', '}');\n        } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n          if (/[\\]\\}\\)]/.test(line[cursor.column]) || editor.inMultiSelectMode || options && options.braces) {\n            CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n            return {\n              text: '{}',\n              selection: [1, 1]\n            };\n          } else {\n            CstyleBehaviour.recordMaybeInsert(editor, session, \"{\");\n            return {\n              text: '{',\n              selection: [1, 1]\n            };\n          }\n        }\n      } else if (text == '}') {\n        initContext(editor);\n        var rightChar = line.substring(cursor.column, cursor.column + 1);\n\n        if (rightChar == '}') {\n          var matching = session.$findOpeningBracket('}', {\n            column: cursor.column + 1,\n            row: cursor.row\n          });\n\n          if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n            CstyleBehaviour.popAutoInsertedClosing();\n            return {\n              text: '',\n              selection: [1, 1]\n            };\n          }\n        }\n      } else if (text == \"\\n\" || text == \"\\r\\n\") {\n        initContext(editor);\n        var closing = \"\";\n\n        if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {\n          closing = lang.stringRepeat(\"}\", context.maybeInsertedBrackets);\n          CstyleBehaviour.clearMaybeInsertedClosing();\n        }\n\n        var rightChar = line.substring(cursor.column, cursor.column + 1);\n\n        if (rightChar === '}') {\n          var openBracePos = session.findMatchingBracket({\n            row: cursor.row,\n            column: cursor.column + 1\n          }, '}');\n          if (!openBracePos) return null;\n          var next_indent = this.$getIndent(session.getLine(openBracePos.row));\n        } else if (closing) {\n          var next_indent = this.$getIndent(line);\n        } else {\n          CstyleBehaviour.clearMaybeInsertedClosing();\n          return;\n        }\n\n        var indent = next_indent + session.getTabString();\n        return {\n          text: '\\n' + indent + '\\n' + next_indent + closing,\n          selection: [1, indent.length, 1, indent.length]\n        };\n      } else {\n        CstyleBehaviour.clearMaybeInsertedClosing();\n      }\n    });\n    this.add(\"braces\", \"deletion\", function (state, action, editor, session, range) {\n      var selected = session.doc.getTextRange(range);\n\n      if (!range.isMultiLine() && selected == '{') {\n        initContext(editor);\n        var line = session.doc.getLine(range.start.row);\n        var rightChar = line.substring(range.end.column, range.end.column + 1);\n\n        if (rightChar == '}') {\n          range.end.column++;\n          return range;\n        } else {\n          context.maybeInsertedBrackets--;\n        }\n      }\n    });\n    this.add(\"parens\", \"insertion\", function (state, action, editor, session, text) {\n      if (text == '(') {\n        initContext(editor);\n        var selection = editor.getSelectionRange();\n        var selected = session.doc.getTextRange(selection);\n\n        if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n          return getWrapped(selection, selected, '(', ')');\n        } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n          CstyleBehaviour.recordAutoInsert(editor, session, \")\");\n          return {\n            text: '()',\n            selection: [1, 1]\n          };\n        }\n      } else if (text == ')') {\n        initContext(editor);\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        var rightChar = line.substring(cursor.column, cursor.column + 1);\n\n        if (rightChar == ')') {\n          var matching = session.$findOpeningBracket(')', {\n            column: cursor.column + 1,\n            row: cursor.row\n          });\n\n          if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n            CstyleBehaviour.popAutoInsertedClosing();\n            return {\n              text: '',\n              selection: [1, 1]\n            };\n          }\n        }\n      }\n    });\n    this.add(\"parens\", \"deletion\", function (state, action, editor, session, range) {\n      var selected = session.doc.getTextRange(range);\n\n      if (!range.isMultiLine() && selected == '(') {\n        initContext(editor);\n        var line = session.doc.getLine(range.start.row);\n        var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n\n        if (rightChar == ')') {\n          range.end.column++;\n          return range;\n        }\n      }\n    });\n    this.add(\"brackets\", \"insertion\", function (state, action, editor, session, text) {\n      if (text == '[') {\n        initContext(editor);\n        var selection = editor.getSelectionRange();\n        var selected = session.doc.getTextRange(selection);\n\n        if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n          return getWrapped(selection, selected, '[', ']');\n        } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n          CstyleBehaviour.recordAutoInsert(editor, session, \"]\");\n          return {\n            text: '[]',\n            selection: [1, 1]\n          };\n        }\n      } else if (text == ']') {\n        initContext(editor);\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        var rightChar = line.substring(cursor.column, cursor.column + 1);\n\n        if (rightChar == ']') {\n          var matching = session.$findOpeningBracket(']', {\n            column: cursor.column + 1,\n            row: cursor.row\n          });\n\n          if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n            CstyleBehaviour.popAutoInsertedClosing();\n            return {\n              text: '',\n              selection: [1, 1]\n            };\n          }\n        }\n      }\n    });\n    this.add(\"brackets\", \"deletion\", function (state, action, editor, session, range) {\n      var selected = session.doc.getTextRange(range);\n\n      if (!range.isMultiLine() && selected == '[') {\n        initContext(editor);\n        var line = session.doc.getLine(range.start.row);\n        var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n\n        if (rightChar == ']') {\n          range.end.column++;\n          return range;\n        }\n      }\n    });\n    this.add(\"string_dquotes\", \"insertion\", function (state, action, editor, session, text) {\n      var quotes = session.$mode.$quotes || defaultQuotes;\n\n      if (text.length == 1 && quotes[text]) {\n        if (this.lineCommentStart && this.lineCommentStart.indexOf(text) != -1) return;\n        initContext(editor);\n        var quote = text;\n        var selection = editor.getSelectionRange();\n        var selected = session.doc.getTextRange(selection);\n\n        if (selected !== \"\" && (selected.length != 1 || !quotes[selected]) && editor.getWrapBehavioursEnabled()) {\n          return getWrapped(selection, selected, quote, quote);\n        } else if (!selected) {\n          var cursor = editor.getCursorPosition();\n          var line = session.doc.getLine(cursor.row);\n          var leftChar = line.substring(cursor.column - 1, cursor.column);\n          var rightChar = line.substring(cursor.column, cursor.column + 1);\n          var token = session.getTokenAt(cursor.row, cursor.column);\n          var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);\n          if (leftChar == \"\\\\\" && token && /escape/.test(token.type)) return null;\n          var stringBefore = token && /string|escape/.test(token.type);\n          var stringAfter = !rightToken || /string|escape/.test(rightToken.type);\n          var pair;\n\n          if (rightChar == quote) {\n            pair = stringBefore !== stringAfter;\n            if (pair && /string\\.end/.test(rightToken.type)) pair = false;\n          } else {\n            if (stringBefore && !stringAfter) return null; // wrap string with different quote\n\n            if (stringBefore && stringAfter) return null; // do not pair quotes inside strings\n\n            var wordRe = session.$mode.tokenRe;\n            wordRe.lastIndex = 0;\n            var isWordBefore = wordRe.test(leftChar);\n            wordRe.lastIndex = 0;\n            var isWordAfter = wordRe.test(leftChar);\n            if (isWordBefore || isWordAfter) return null; // before or after alphanumeric\n\n            if (rightChar && !/[\\s;,.})\\]\\\\]/.test(rightChar)) return null; // there is rightChar and it isn't closing\n\n            var charBefore = line[cursor.column - 2];\n            if (leftChar == quote && (charBefore == quote || wordRe.test(charBefore))) return null;\n            pair = true;\n          }\n\n          return {\n            text: pair ? quote + quote : \"\",\n            selection: [1, 1]\n          };\n        }\n      }\n    });\n    this.add(\"string_dquotes\", \"deletion\", function (state, action, editor, session, range) {\n      var quotes = session.$mode.$quotes || defaultQuotes;\n      var selected = session.doc.getTextRange(range);\n\n      if (!range.isMultiLine() && quotes.hasOwnProperty(selected)) {\n        initContext(editor);\n        var line = session.doc.getLine(range.start.row);\n        var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n\n        if (rightChar == selected) {\n          range.end.column++;\n          return range;\n        }\n      }\n    });\n  };\n\n  CstyleBehaviour.isSaneInsertion = function (editor, session) {\n    var cursor = editor.getCursorPosition();\n    var iterator = new TokenIterator(session, cursor.row, cursor.column);\n\n    if (!this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) {\n      if (/[)}\\]]/.test(editor.session.getLine(cursor.row)[cursor.column])) return true;\n      var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);\n      if (!this.$matchTokenType(iterator2.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) return false;\n    }\n\n    iterator.stepForward();\n    return iterator.getCurrentTokenRow() !== cursor.row || this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_BEFORE_TOKENS);\n  };\n\n  CstyleBehaviour.$matchTokenType = function (token, types) {\n    return types.indexOf(token.type || token) > -1;\n  };\n\n  CstyleBehaviour.recordAutoInsert = function (editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0])) context.autoInsertedBrackets = 0;\n    context.autoInsertedRow = cursor.row;\n    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);\n    context.autoInsertedBrackets++;\n  };\n\n  CstyleBehaviour.recordMaybeInsert = function (editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isMaybeInsertedClosing(cursor, line)) context.maybeInsertedBrackets = 0;\n    context.maybeInsertedRow = cursor.row;\n    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;\n    context.maybeInsertedLineEnd = line.substr(cursor.column);\n    context.maybeInsertedBrackets++;\n  };\n\n  CstyleBehaviour.isAutoInsertedClosing = function (cursor, line, bracket) {\n    return context.autoInsertedBrackets > 0 && cursor.row === context.autoInsertedRow && bracket === context.autoInsertedLineEnd[0] && line.substr(cursor.column) === context.autoInsertedLineEnd;\n  };\n\n  CstyleBehaviour.isMaybeInsertedClosing = function (cursor, line) {\n    return context.maybeInsertedBrackets > 0 && cursor.row === context.maybeInsertedRow && line.substr(cursor.column) === context.maybeInsertedLineEnd && line.substr(0, cursor.column) == context.maybeInsertedLineStart;\n  };\n\n  CstyleBehaviour.popAutoInsertedClosing = function () {\n    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);\n    context.autoInsertedBrackets--;\n  };\n\n  CstyleBehaviour.clearMaybeInsertedClosing = function () {\n    if (context) {\n      context.maybeInsertedBrackets = 0;\n      context.maybeInsertedRow = -1;\n    }\n  };\n\n  oop.inherits(CstyleBehaviour, Behaviour);\n  exports.CstyleBehaviour = CstyleBehaviour;\n});\nace.define(\"ace/unicode\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  var wordChars = [48, 9, 8, 25, 5, 0, 2, 25, 48, 0, 11, 0, 5, 0, 6, 22, 2, 30, 2, 457, 5, 11, 15, 4, 8, 0, 2, 0, 18, 116, 2, 1, 3, 3, 9, 0, 2, 2, 2, 0, 2, 19, 2, 82, 2, 138, 2, 4, 3, 155, 12, 37, 3, 0, 8, 38, 10, 44, 2, 0, 2, 1, 2, 1, 2, 0, 9, 26, 6, 2, 30, 10, 7, 61, 2, 9, 5, 101, 2, 7, 3, 9, 2, 18, 3, 0, 17, 58, 3, 100, 15, 53, 5, 0, 6, 45, 211, 57, 3, 18, 2, 5, 3, 11, 3, 9, 2, 1, 7, 6, 2, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 0, 4, 3, 3, 8, 3, 1, 3, 3, 9, 0, 5, 1, 2, 4, 3, 11, 16, 2, 2, 5, 5, 1, 3, 21, 2, 6, 2, 1, 2, 1, 2, 1, 3, 0, 2, 4, 5, 1, 3, 2, 4, 0, 8, 3, 2, 0, 8, 15, 12, 2, 2, 8, 2, 2, 2, 21, 2, 6, 2, 1, 2, 4, 3, 9, 2, 2, 2, 2, 3, 0, 16, 3, 3, 9, 18, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 1, 2, 4, 3, 8, 3, 1, 3, 2, 9, 1, 5, 1, 2, 4, 3, 9, 2, 0, 17, 1, 2, 5, 4, 2, 2, 3, 4, 1, 2, 0, 2, 1, 4, 1, 4, 2, 4, 11, 5, 4, 4, 2, 2, 3, 3, 0, 7, 0, 15, 9, 18, 2, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 4, 7, 2, 2, 2, 3, 8, 1, 2, 1, 7, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 3, 8, 2, 2, 2, 3, 8, 1, 8, 0, 2, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 15, 4, 7, 2, 2, 2, 3, 10, 0, 9, 3, 3, 9, 11, 5, 3, 1, 2, 17, 4, 23, 2, 8, 2, 0, 3, 6, 4, 0, 5, 5, 2, 0, 2, 7, 19, 1, 14, 57, 6, 14, 2, 9, 40, 1, 2, 0, 3, 1, 2, 0, 3, 0, 7, 3, 2, 6, 2, 2, 2, 0, 2, 0, 3, 1, 2, 12, 2, 2, 3, 4, 2, 0, 2, 5, 3, 9, 3, 1, 35, 0, 24, 1, 7, 9, 12, 0, 2, 0, 2, 0, 5, 9, 2, 35, 5, 19, 2, 5, 5, 7, 2, 35, 10, 0, 58, 73, 7, 77, 3, 37, 11, 42, 2, 0, 4, 328, 2, 3, 3, 6, 2, 0, 2, 3, 3, 40, 2, 3, 3, 32, 2, 3, 3, 6, 2, 0, 2, 3, 3, 14, 2, 56, 2, 3, 3, 66, 5, 0, 33, 15, 17, 84, 13, 619, 3, 16, 2, 25, 6, 74, 22, 12, 2, 6, 12, 20, 12, 19, 13, 12, 2, 2, 2, 1, 13, 51, 3, 29, 4, 0, 5, 1, 3, 9, 34, 2, 3, 9, 7, 87, 9, 42, 6, 69, 11, 28, 4, 11, 5, 11, 11, 39, 3, 4, 12, 43, 5, 25, 7, 10, 38, 27, 5, 62, 2, 28, 3, 10, 7, 9, 14, 0, 89, 75, 5, 9, 18, 8, 13, 42, 4, 11, 71, 55, 9, 9, 4, 48, 83, 2, 2, 30, 14, 230, 23, 280, 3, 5, 3, 37, 3, 5, 3, 7, 2, 0, 2, 0, 2, 0, 2, 30, 3, 52, 2, 6, 2, 0, 4, 2, 2, 6, 4, 3, 3, 5, 5, 12, 6, 2, 2, 6, 67, 1, 20, 0, 29, 0, 14, 0, 17, 4, 60, 12, 5, 0, 4, 11, 18, 0, 5, 0, 3, 9, 2, 0, 4, 4, 7, 0, 2, 0, 2, 0, 2, 3, 2, 10, 3, 3, 6, 4, 5, 0, 53, 1, 2684, 46, 2, 46, 2, 132, 7, 6, 15, 37, 11, 53, 10, 0, 17, 22, 10, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 31, 48, 0, 470, 1, 36, 5, 2, 4, 6, 1, 5, 85, 3, 1, 3, 2, 2, 89, 2, 3, 6, 40, 4, 93, 18, 23, 57, 15, 513, 6581, 75, 20939, 53, 1164, 68, 45, 3, 268, 4, 27, 21, 31, 3, 13, 13, 1, 2, 24, 9, 69, 11, 1, 38, 8, 3, 102, 3, 1, 111, 44, 25, 51, 13, 68, 12, 9, 7, 23, 4, 0, 5, 45, 3, 35, 13, 28, 4, 64, 15, 10, 39, 54, 10, 13, 3, 9, 7, 22, 4, 1, 5, 66, 25, 2, 227, 42, 2, 1, 3, 9, 7, 11171, 13, 22, 5, 48, 8453, 301, 3, 61, 3, 105, 39, 6, 13, 4, 6, 11, 2, 12, 2, 4, 2, 0, 2, 1, 2, 1, 2, 107, 34, 362, 19, 63, 3, 53, 41, 11, 5, 15, 17, 6, 13, 1, 25, 2, 33, 4, 2, 134, 20, 9, 8, 25, 5, 0, 2, 25, 12, 88, 4, 5, 3, 5, 3, 5, 3, 2];\n  var code = 0;\n  var str = [];\n\n  for (var i = 0; i < wordChars.length; i += 2) {\n    str.push(code += wordChars[i]);\n    if (wordChars[i + 1]) str.push(45, code += wordChars[i + 1]);\n  }\n\n  exports.wordChars = String.fromCharCode.apply(null, str);\n});\nace.define(\"ace/mode/text\", [\"require\", \"exports\", \"module\", \"ace/config\", \"ace/tokenizer\", \"ace/mode/text_highlight_rules\", \"ace/mode/behaviour/cstyle\", \"ace/unicode\", \"ace/lib/lang\", \"ace/token_iterator\", \"ace/range\"], function (require, exports, module) {\n  \"use strict\";\n\n  var config = require(\"../config\");\n\n  var Tokenizer = require(\"../tokenizer\").Tokenizer;\n\n  var TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\n\n  var CstyleBehaviour = require(\"./behaviour/cstyle\").CstyleBehaviour;\n\n  var unicode = require(\"../unicode\");\n\n  var lang = require(\"../lib/lang\");\n\n  var TokenIterator = require(\"../token_iterator\").TokenIterator;\n\n  var Range = require(\"../range\").Range;\n\n  var Mode = function Mode() {\n    this.HighlightRules = TextHighlightRules;\n  };\n\n  (function () {\n    this.$defaultBehaviour = new CstyleBehaviour();\n    this.tokenRe = new RegExp(\"^[\" + unicode.wordChars + \"\\\\$_]+\", \"g\");\n    this.nonTokenRe = new RegExp(\"^(?:[^\" + unicode.wordChars + \"\\\\$_]|\\\\s])+\", \"g\");\n\n    this.getTokenizer = function () {\n      if (!this.$tokenizer) {\n        this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig);\n        this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());\n      }\n\n      return this.$tokenizer;\n    };\n\n    this.lineCommentStart = \"\";\n    this.blockComment = \"\";\n\n    this.toggleCommentLines = function (state, session, startRow, endRow) {\n      var doc = session.doc;\n      var ignoreBlankLines = true;\n      var shouldRemove = true;\n      var minIndent = Infinity;\n      var tabSize = session.getTabSize();\n      var insertAtTabStop = false;\n\n      if (!this.lineCommentStart) {\n        if (!this.blockComment) return false;\n        var lineCommentStart = this.blockComment.start;\n        var lineCommentEnd = this.blockComment.end;\n        var regexpStart = new RegExp(\"^(\\\\s*)(?:\" + lang.escapeRegExp(lineCommentStart) + \")\");\n        var regexpEnd = new RegExp(\"(?:\" + lang.escapeRegExp(lineCommentEnd) + \")\\\\s*$\");\n\n        var comment = function comment(line, i) {\n          if (testRemove(line, i)) return;\n\n          if (!ignoreBlankLines || /\\S/.test(line)) {\n            doc.insertInLine({\n              row: i,\n              column: line.length\n            }, lineCommentEnd);\n            doc.insertInLine({\n              row: i,\n              column: minIndent\n            }, lineCommentStart);\n          }\n        };\n\n        var uncomment = function uncomment(line, i) {\n          var m;\n          if (m = line.match(regexpEnd)) doc.removeInLine(i, line.length - m[0].length, line.length);\n          if (m = line.match(regexpStart)) doc.removeInLine(i, m[1].length, m[0].length);\n        };\n\n        var testRemove = function testRemove(line, row) {\n          if (regexpStart.test(line)) return true;\n          var tokens = session.getTokens(row);\n\n          for (var i = 0; i < tokens.length; i++) {\n            if (tokens[i].type === \"comment\") return true;\n          }\n        };\n      } else {\n        if (Array.isArray(this.lineCommentStart)) {\n          var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join(\"|\");\n          var lineCommentStart = this.lineCommentStart[0];\n        } else {\n          var regexpStart = lang.escapeRegExp(this.lineCommentStart);\n          var lineCommentStart = this.lineCommentStart;\n        }\n\n        regexpStart = new RegExp(\"^(\\\\s*)(?:\" + regexpStart + \") ?\");\n        insertAtTabStop = session.getUseSoftTabs();\n\n        var uncomment = function uncomment(line, i) {\n          var m = line.match(regexpStart);\n          if (!m) return;\n          var start = m[1].length,\n              end = m[0].length;\n          if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == \" \") end--;\n          doc.removeInLine(i, start, end);\n        };\n\n        var commentWithSpace = lineCommentStart + \" \";\n\n        var comment = function comment(line, i) {\n          if (!ignoreBlankLines || /\\S/.test(line)) {\n            if (shouldInsertSpace(line, minIndent, minIndent)) doc.insertInLine({\n              row: i,\n              column: minIndent\n            }, commentWithSpace);else doc.insertInLine({\n              row: i,\n              column: minIndent\n            }, lineCommentStart);\n          }\n        };\n\n        var testRemove = function testRemove(line, i) {\n          return regexpStart.test(line);\n        };\n\n        var shouldInsertSpace = function shouldInsertSpace(line, before, after) {\n          var spaces = 0;\n\n          while (before-- && line.charAt(before) == \" \") {\n            spaces++;\n          }\n\n          if (spaces % tabSize != 0) return false;\n          var spaces = 0;\n\n          while (line.charAt(after++) == \" \") {\n            spaces++;\n          }\n\n          if (tabSize > 2) return spaces % tabSize != tabSize - 1;else return spaces % tabSize == 0;\n        };\n      }\n\n      function iter(fun) {\n        for (var i = startRow; i <= endRow; i++) {\n          fun(doc.getLine(i), i);\n        }\n      }\n\n      var minEmptyLength = Infinity;\n      iter(function (line, i) {\n        var indent = line.search(/\\S/);\n\n        if (indent !== -1) {\n          if (indent < minIndent) minIndent = indent;\n          if (shouldRemove && !testRemove(line, i)) shouldRemove = false;\n        } else if (minEmptyLength > line.length) {\n          minEmptyLength = line.length;\n        }\n      });\n\n      if (minIndent == Infinity) {\n        minIndent = minEmptyLength;\n        ignoreBlankLines = false;\n        shouldRemove = false;\n      }\n\n      if (insertAtTabStop && minIndent % tabSize != 0) minIndent = Math.floor(minIndent / tabSize) * tabSize;\n      iter(shouldRemove ? uncomment : comment);\n    };\n\n    this.toggleBlockComment = function (state, session, range, cursor) {\n      var comment = this.blockComment;\n      if (!comment) return;\n      if (!comment.start && comment[0]) comment = comment[0];\n      var iterator = new TokenIterator(session, cursor.row, cursor.column);\n      var token = iterator.getCurrentToken();\n      var sel = session.selection;\n      var initialRange = session.selection.toOrientedRange();\n      var startRow, colDiff;\n\n      if (token && /comment/.test(token.type)) {\n        var startRange, endRange;\n\n        while (token && /comment/.test(token.type)) {\n          var i = token.value.indexOf(comment.start);\n\n          if (i != -1) {\n            var row = iterator.getCurrentTokenRow();\n            var column = iterator.getCurrentTokenColumn() + i;\n            startRange = new Range(row, column, row, column + comment.start.length);\n            break;\n          }\n\n          token = iterator.stepBackward();\n        }\n\n        var iterator = new TokenIterator(session, cursor.row, cursor.column);\n        var token = iterator.getCurrentToken();\n\n        while (token && /comment/.test(token.type)) {\n          var i = token.value.indexOf(comment.end);\n\n          if (i != -1) {\n            var row = iterator.getCurrentTokenRow();\n            var column = iterator.getCurrentTokenColumn() + i;\n            endRange = new Range(row, column, row, column + comment.end.length);\n            break;\n          }\n\n          token = iterator.stepForward();\n        }\n\n        if (endRange) session.remove(endRange);\n\n        if (startRange) {\n          session.remove(startRange);\n          startRow = startRange.start.row;\n          colDiff = -comment.start.length;\n        }\n      } else {\n        colDiff = comment.start.length;\n        startRow = range.start.row;\n        session.insert(range.end, comment.end);\n        session.insert(range.start, comment.start);\n      }\n\n      if (initialRange.start.row == startRow) initialRange.start.column += colDiff;\n      if (initialRange.end.row == startRow) initialRange.end.column += colDiff;\n      session.selection.fromOrientedRange(initialRange);\n    };\n\n    this.getNextLineIndent = function (state, line, tab) {\n      return this.$getIndent(line);\n    };\n\n    this.checkOutdent = function (state, line, input) {\n      return false;\n    };\n\n    this.autoOutdent = function (state, doc, row) {};\n\n    this.$getIndent = function (line) {\n      return line.match(/^\\s*/)[0];\n    };\n\n    this.createWorker = function (session) {\n      return null;\n    };\n\n    this.createModeDelegates = function (mapping) {\n      this.$embeds = [];\n      this.$modes = {};\n\n      for (var i in mapping) {\n        if (mapping[i]) {\n          var Mode = mapping[i];\n          var id = Mode.prototype.$id;\n          var mode = config.$modes[id];\n          if (!mode) config.$modes[id] = mode = new Mode();\n          if (!config.$modes[i]) config.$modes[i] = mode;\n          this.$embeds.push(i);\n          this.$modes[i] = mode;\n        }\n      }\n\n      var delegations = [\"toggleBlockComment\", \"toggleCommentLines\", \"getNextLineIndent\", \"checkOutdent\", \"autoOutdent\", \"transformAction\", \"getCompletions\"];\n\n      for (var i = 0; i < delegations.length; i++) {\n        (function (scope) {\n          var functionName = delegations[i];\n          var defaultHandler = scope[functionName];\n\n          scope[delegations[i]] = function () {\n            return this.$delegator(functionName, arguments, defaultHandler);\n          };\n        })(this);\n      }\n    };\n\n    this.$delegator = function (method, args, defaultHandler) {\n      var state = args[0] || \"start\";\n\n      if (typeof state != \"string\") {\n        if (Array.isArray(state[2])) {\n          var language = state[2][state[2].length - 1];\n          var mode = this.$modes[language];\n          if (mode) return mode[method].apply(mode, [state[1]].concat([].slice.call(args, 1)));\n        }\n\n        state = state[0] || \"start\";\n      }\n\n      for (var i = 0; i < this.$embeds.length; i++) {\n        if (!this.$modes[this.$embeds[i]]) continue;\n        var split = state.split(this.$embeds[i]);\n\n        if (!split[0] && split[1]) {\n          args[0] = split[1];\n          var mode = this.$modes[this.$embeds[i]];\n          return mode[method].apply(mode, args);\n        }\n      }\n\n      var ret = defaultHandler.apply(this, args);\n      return defaultHandler ? ret : undefined;\n    };\n\n    this.transformAction = function (state, action, editor, session, param) {\n      if (this.$behaviour) {\n        var behaviours = this.$behaviour.getBehaviours();\n\n        for (var key in behaviours) {\n          if (behaviours[key][action]) {\n            var ret = behaviours[key][action].apply(this, arguments);\n\n            if (ret) {\n              return ret;\n            }\n          }\n        }\n      }\n    };\n\n    this.getKeywords = function (append) {\n      if (!this.completionKeywords) {\n        var rules = this.$tokenizer.rules;\n        var completionKeywords = [];\n\n        for (var rule in rules) {\n          var ruleItr = rules[rule];\n\n          for (var r = 0, l = ruleItr.length; r < l; r++) {\n            if (typeof ruleItr[r].token === \"string\") {\n              if (/keyword|support|storage/.test(ruleItr[r].token)) completionKeywords.push(ruleItr[r].regex);\n            } else if (typeof ruleItr[r].token === \"object\") {\n              for (var a = 0, aLength = ruleItr[r].token.length; a < aLength; a++) {\n                if (/keyword|support|storage/.test(ruleItr[r].token[a])) {\n                  var rule = ruleItr[r].regex.match(/\\(.+?\\)/g)[a];\n                  completionKeywords.push(rule.substr(1, rule.length - 2));\n                }\n              }\n            }\n          }\n        }\n\n        this.completionKeywords = completionKeywords;\n      }\n\n      if (!append) return this.$keywordList;\n      return completionKeywords.concat(this.$keywordList || []);\n    };\n\n    this.$createKeywordList = function () {\n      if (!this.$highlightRules) this.getTokenizer();\n      return this.$keywordList = this.$highlightRules.$keywordList || [];\n    };\n\n    this.getCompletions = function (state, session, pos, prefix) {\n      var keywords = this.$keywordList || this.$createKeywordList();\n      return keywords.map(function (word) {\n        return {\n          name: word,\n          value: word,\n          score: 0,\n          meta: \"keyword\"\n        };\n      });\n    };\n\n    this.$id = \"ace/mode/text\";\n  }).call(Mode.prototype);\n  exports.Mode = Mode;\n});\nace.define(\"ace/apply_delta\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  function throwDeltaError(delta, errorText) {\n    console.log(\"Invalid Delta:\", delta);\n    throw \"Invalid Delta: \" + errorText;\n  }\n\n  function positionInDocument(docLines, position) {\n    return position.row >= 0 && position.row < docLines.length && position.column >= 0 && position.column <= docLines[position.row].length;\n  }\n\n  function validateDelta(docLines, delta) {\n    if (delta.action != \"insert\" && delta.action != \"remove\") throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n    if (!(delta.lines instanceof Array)) throwDeltaError(delta, \"delta.lines must be an Array\");\n    if (!delta.start || !delta.end) throwDeltaError(delta, \"delta.start/end must be an present\");\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start)) throwDeltaError(delta, \"delta.start must be contained in document\");\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end)) throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars = end.column - (numRangeRows == 0 ? start.column : 0);\n    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars) throwDeltaError(delta, \"delta.range must match delta lines\");\n  }\n\n  exports.applyDelta = function (docLines, delta, doNotValidate) {\n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n\n    switch (delta.action) {\n      case \"insert\":\n        var lines = delta.lines;\n\n        if (lines.length === 1) {\n          docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n        } else {\n          var args = [row, 1].concat(delta.lines);\n          docLines.splice.apply(docLines, args);\n          docLines[row] = line.substring(0, startColumn) + docLines[row];\n          docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n        }\n\n        break;\n\n      case \"remove\":\n        var endColumn = delta.end.column;\n        var endRow = delta.end.row;\n\n        if (row === endRow) {\n          docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n        } else {\n          docLines.splice(row, endRow - row + 1, line.substring(0, startColumn) + docLines[endRow].substring(endColumn));\n        }\n\n        break;\n    }\n  };\n});\nace.define(\"ace/anchor\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/event_emitter\"], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"./lib/oop\");\n\n  var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\n  var Anchor = exports.Anchor = function (doc, row, column) {\n    this.$onChange = this.onChange.bind(this);\n    this.attach(doc);\n    if (typeof column == \"undefined\") this.setPosition(row.row, row.column);else this.setPosition(row, column);\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.getPosition = function () {\n      return this.$clipPositionToDocument(this.row, this.column);\n    };\n\n    this.getDocument = function () {\n      return this.document;\n    };\n\n    this.$insertRight = false;\n\n    this.onChange = function (delta) {\n      if (delta.start.row == delta.end.row && delta.start.row != this.row) return;\n      if (delta.start.row > this.row) return;\n      var point = $getTransformedPoint(delta, {\n        row: this.row,\n        column: this.column\n      }, this.$insertRight);\n      this.setPosition(point.row, point.column, true);\n    };\n\n    function $pointsInOrder(point1, point2, equalPointsInOrder) {\n      var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n      return point1.row < point2.row || point1.row == point2.row && bColIsAfter;\n    }\n\n    function $getTransformedPoint(delta, point, moveIfEqual) {\n      var deltaIsInsert = delta.action == \"insert\";\n      var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row);\n      var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n      var deltaStart = delta.start;\n      var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n\n      if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n        return {\n          row: point.row,\n          column: point.column\n        };\n      }\n\n      if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n        return {\n          row: point.row + deltaRowShift,\n          column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n        };\n      }\n\n      return {\n        row: deltaStart.row,\n        column: deltaStart.column\n      };\n    }\n\n    this.setPosition = function (row, column, noClip) {\n      var pos;\n\n      if (noClip) {\n        pos = {\n          row: row,\n          column: column\n        };\n      } else {\n        pos = this.$clipPositionToDocument(row, column);\n      }\n\n      if (this.row == pos.row && this.column == pos.column) return;\n      var old = {\n        row: this.row,\n        column: this.column\n      };\n      this.row = pos.row;\n      this.column = pos.column;\n\n      this._signal(\"change\", {\n        old: old,\n        value: pos\n      });\n    };\n\n    this.detach = function () {\n      this.document.off(\"change\", this.$onChange);\n    };\n\n    this.attach = function (doc) {\n      this.document = doc || this.document;\n      this.document.on(\"change\", this.$onChange);\n    };\n\n    this.$clipPositionToDocument = function (row, column) {\n      var pos = {};\n\n      if (row >= this.document.getLength()) {\n        pos.row = Math.max(0, this.document.getLength() - 1);\n        pos.column = this.document.getLine(pos.row).length;\n      } else if (row < 0) {\n        pos.row = 0;\n        pos.column = 0;\n      } else {\n        pos.row = row;\n        pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n      }\n\n      if (column < 0) pos.column = 0;\n      return pos;\n    };\n  }).call(Anchor.prototype);\n});\nace.define(\"ace/document\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/apply_delta\", \"ace/lib/event_emitter\", \"ace/range\", \"ace/anchor\"], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"./lib/oop\");\n\n  var applyDelta = require(\"./apply_delta\").applyDelta;\n\n  var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\n  var Range = require(\"./range\").Range;\n\n  var Anchor = require(\"./anchor\").Anchor;\n\n  var Document = function Document(textOrLines) {\n    this.$lines = [\"\"];\n\n    if (textOrLines.length === 0) {\n      this.$lines = [\"\"];\n    } else if (Array.isArray(textOrLines)) {\n      this.insertMergedLines({\n        row: 0,\n        column: 0\n      }, textOrLines);\n    } else {\n      this.insert({\n        row: 0,\n        column: 0\n      }, textOrLines);\n    }\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.setValue = function (text) {\n      var len = this.getLength() - 1;\n      this.remove(new Range(0, 0, len, this.getLine(len).length));\n      this.insert({\n        row: 0,\n        column: 0\n      }, text);\n    };\n\n    this.getValue = function () {\n      return this.getAllLines().join(this.getNewLineCharacter());\n    };\n\n    this.createAnchor = function (row, column) {\n      return new Anchor(this, row, column);\n    };\n\n    if (\"aaa\".split(/a/).length === 0) {\n      this.$split = function (text) {\n        return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n      };\n    } else {\n      this.$split = function (text) {\n        return text.split(/\\r\\n|\\r|\\n/);\n      };\n    }\n\n    this.$detectNewLine = function (text) {\n      var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n      this.$autoNewLine = match ? match[1] : \"\\n\";\n\n      this._signal(\"changeNewLineMode\");\n    };\n\n    this.getNewLineCharacter = function () {\n      switch (this.$newLineMode) {\n        case \"windows\":\n          return \"\\r\\n\";\n\n        case \"unix\":\n          return \"\\n\";\n\n        default:\n          return this.$autoNewLine || \"\\n\";\n      }\n    };\n\n    this.$autoNewLine = \"\";\n    this.$newLineMode = \"auto\";\n\n    this.setNewLineMode = function (newLineMode) {\n      if (this.$newLineMode === newLineMode) return;\n      this.$newLineMode = newLineMode;\n\n      this._signal(\"changeNewLineMode\");\n    };\n\n    this.getNewLineMode = function () {\n      return this.$newLineMode;\n    };\n\n    this.isNewLine = function (text) {\n      return text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\";\n    };\n\n    this.getLine = function (row) {\n      return this.$lines[row] || \"\";\n    };\n\n    this.getLines = function (firstRow, lastRow) {\n      return this.$lines.slice(firstRow, lastRow + 1);\n    };\n\n    this.getAllLines = function () {\n      return this.getLines(0, this.getLength());\n    };\n\n    this.getLength = function () {\n      return this.$lines.length;\n    };\n\n    this.getTextRange = function (range) {\n      return this.getLinesForRange(range).join(this.getNewLineCharacter());\n    };\n\n    this.getLinesForRange = function (range) {\n      var lines;\n\n      if (range.start.row === range.end.row) {\n        lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n      } else {\n        lines = this.getLines(range.start.row, range.end.row);\n        lines[0] = (lines[0] || \"\").substring(range.start.column);\n        var l = lines.length - 1;\n        if (range.end.row - range.start.row == l) lines[l] = lines[l].substring(0, range.end.column);\n      }\n\n      return lines;\n    };\n\n    this.insertLines = function (row, lines) {\n      console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n      return this.insertFullLines(row, lines);\n    };\n\n    this.removeLines = function (firstRow, lastRow) {\n      console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n      return this.removeFullLines(firstRow, lastRow);\n    };\n\n    this.insertNewLine = function (position) {\n      console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n      return this.insertMergedLines(position, [\"\", \"\"]);\n    };\n\n    this.insert = function (position, text) {\n      if (this.getLength() <= 1) this.$detectNewLine(text);\n      return this.insertMergedLines(position, this.$split(text));\n    };\n\n    this.insertInLine = function (position, text) {\n      var start = this.clippedPos(position.row, position.column);\n      var end = this.pos(position.row, position.column + text.length);\n      this.applyDelta({\n        start: start,\n        end: end,\n        action: \"insert\",\n        lines: [text]\n      }, true);\n      return this.clonePos(end);\n    };\n\n    this.clippedPos = function (row, column) {\n      var length = this.getLength();\n\n      if (row === undefined) {\n        row = length;\n      } else if (row < 0) {\n        row = 0;\n      } else if (row >= length) {\n        row = length - 1;\n        column = undefined;\n      }\n\n      var line = this.getLine(row);\n      if (column == undefined) column = line.length;\n      column = Math.min(Math.max(column, 0), line.length);\n      return {\n        row: row,\n        column: column\n      };\n    };\n\n    this.clonePos = function (pos) {\n      return {\n        row: pos.row,\n        column: pos.column\n      };\n    };\n\n    this.pos = function (row, column) {\n      return {\n        row: row,\n        column: column\n      };\n    };\n\n    this.$clipPosition = function (position) {\n      var length = this.getLength();\n\n      if (position.row >= length) {\n        position.row = Math.max(0, length - 1);\n        position.column = this.getLine(length - 1).length;\n      } else {\n        position.row = Math.max(0, position.row);\n        position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n      }\n\n      return position;\n    };\n\n    this.insertFullLines = function (row, lines) {\n      row = Math.min(Math.max(row, 0), this.getLength());\n      var column = 0;\n\n      if (row < this.getLength()) {\n        lines = lines.concat([\"\"]);\n        column = 0;\n      } else {\n        lines = [\"\"].concat(lines);\n        row--;\n        column = this.$lines[row].length;\n      }\n\n      this.insertMergedLines({\n        row: row,\n        column: column\n      }, lines);\n    };\n\n    this.insertMergedLines = function (position, lines) {\n      var start = this.clippedPos(position.row, position.column);\n      var end = {\n        row: start.row + lines.length - 1,\n        column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n      };\n      this.applyDelta({\n        start: start,\n        end: end,\n        action: \"insert\",\n        lines: lines\n      });\n      return this.clonePos(end);\n    };\n\n    this.remove = function (range) {\n      var start = this.clippedPos(range.start.row, range.start.column);\n      var end = this.clippedPos(range.end.row, range.end.column);\n      this.applyDelta({\n        start: start,\n        end: end,\n        action: \"remove\",\n        lines: this.getLinesForRange({\n          start: start,\n          end: end\n        })\n      });\n      return this.clonePos(start);\n    };\n\n    this.removeInLine = function (row, startColumn, endColumn) {\n      var start = this.clippedPos(row, startColumn);\n      var end = this.clippedPos(row, endColumn);\n      this.applyDelta({\n        start: start,\n        end: end,\n        action: \"remove\",\n        lines: this.getLinesForRange({\n          start: start,\n          end: end\n        })\n      }, true);\n      return this.clonePos(start);\n    };\n\n    this.removeFullLines = function (firstRow, lastRow) {\n      firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n      lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1);\n      var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n      var deleteLastNewLine = lastRow < this.getLength() - 1;\n      var startRow = deleteFirstNewLine ? firstRow - 1 : firstRow;\n      var startCol = deleteFirstNewLine ? this.getLine(startRow).length : 0;\n      var endRow = deleteLastNewLine ? lastRow + 1 : lastRow;\n      var endCol = deleteLastNewLine ? 0 : this.getLine(endRow).length;\n      var range = new Range(startRow, startCol, endRow, endCol);\n      var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n      this.applyDelta({\n        start: range.start,\n        end: range.end,\n        action: \"remove\",\n        lines: this.getLinesForRange(range)\n      });\n      return deletedLines;\n    };\n\n    this.removeNewLine = function (row) {\n      if (row < this.getLength() - 1 && row >= 0) {\n        this.applyDelta({\n          start: this.pos(row, this.getLine(row).length),\n          end: this.pos(row + 1, 0),\n          action: \"remove\",\n          lines: [\"\", \"\"]\n        });\n      }\n    };\n\n    this.replace = function (range, text) {\n      if (!(range instanceof Range)) range = Range.fromPoints(range.start, range.end);\n      if (text.length === 0 && range.isEmpty()) return range.start;\n      if (text == this.getTextRange(range)) return range.end;\n      this.remove(range);\n      var end;\n\n      if (text) {\n        end = this.insert(range.start, text);\n      } else {\n        end = range.start;\n      }\n\n      return end;\n    };\n\n    this.applyDeltas = function (deltas) {\n      for (var i = 0; i < deltas.length; i++) {\n        this.applyDelta(deltas[i]);\n      }\n    };\n\n    this.revertDeltas = function (deltas) {\n      for (var i = deltas.length - 1; i >= 0; i--) {\n        this.revertDelta(deltas[i]);\n      }\n    };\n\n    this.applyDelta = function (delta, doNotValidate) {\n      var isInsert = delta.action == \"insert\";\n\n      if (isInsert ? delta.lines.length <= 1 && !delta.lines[0] : !Range.comparePoints(delta.start, delta.end)) {\n        return;\n      }\n\n      if (isInsert && delta.lines.length > 20000) {\n        this.$splitAndapplyLargeDelta(delta, 20000);\n      } else {\n        applyDelta(this.$lines, delta, doNotValidate);\n\n        this._signal(\"change\", delta);\n      }\n    };\n\n    this.$safeApplyDelta = function (delta) {\n      var docLength = this.$lines.length;\n\n      if (delta.action == \"remove\" && delta.start.row < docLength && delta.end.row < docLength || delta.action == \"insert\" && delta.start.row <= docLength) {\n        this.applyDelta(delta);\n      }\n    };\n\n    this.$splitAndapplyLargeDelta = function (delta, MAX) {\n      var lines = delta.lines;\n      var l = lines.length - MAX + 1;\n      var row = delta.start.row;\n      var column = delta.start.column;\n\n      for (var from = 0, to = 0; from < l; from = to) {\n        to += MAX - 1;\n        var chunk = lines.slice(from, to);\n        chunk.push(\"\");\n        this.applyDelta({\n          start: this.pos(row + from, column),\n          end: this.pos(row + to, column = 0),\n          action: delta.action,\n          lines: chunk\n        }, true);\n      }\n\n      delta.lines = lines.slice(from);\n      delta.start.row = row + from;\n      delta.start.column = column;\n      this.applyDelta(delta, true);\n    };\n\n    this.revertDelta = function (delta) {\n      this.$safeApplyDelta({\n        start: this.clonePos(delta.start),\n        end: this.clonePos(delta.end),\n        action: delta.action == \"insert\" ? \"remove\" : \"insert\",\n        lines: delta.lines.slice()\n      });\n    };\n\n    this.indexToPosition = function (index, startRow) {\n      var lines = this.$lines || this.getAllLines();\n      var newlineLength = this.getNewLineCharacter().length;\n\n      for (var i = startRow || 0, l = lines.length; i < l; i++) {\n        index -= lines[i].length + newlineLength;\n        if (index < 0) return {\n          row: i,\n          column: index + lines[i].length + newlineLength\n        };\n      }\n\n      return {\n        row: l - 1,\n        column: index + lines[l - 1].length + newlineLength\n      };\n    };\n\n    this.positionToIndex = function (pos, startRow) {\n      var lines = this.$lines || this.getAllLines();\n      var newlineLength = this.getNewLineCharacter().length;\n      var index = 0;\n      var row = Math.min(pos.row, lines.length);\n\n      for (var i = startRow || 0; i < row; ++i) {\n        index += lines[i].length + newlineLength;\n      }\n\n      return index + pos.column;\n    };\n  }).call(Document.prototype);\n  exports.Document = Document;\n});\nace.define(\"ace/background_tokenizer\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/event_emitter\"], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"./lib/oop\");\n\n  var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\n  var BackgroundTokenizer = function BackgroundTokenizer(tokenizer, editor) {\n    this.running = false;\n    this.lines = [];\n    this.states = [];\n    this.currentLine = 0;\n    this.tokenizer = tokenizer;\n    var self = this;\n\n    this.$worker = function () {\n      if (!self.running) {\n        return;\n      }\n\n      var workerStart = new Date();\n      var currentLine = self.currentLine;\n      var endLine = -1;\n      var doc = self.doc;\n      var startLine = currentLine;\n\n      while (self.lines[currentLine]) {\n        currentLine++;\n      }\n\n      var len = doc.getLength();\n      var processedLines = 0;\n      self.running = false;\n\n      while (currentLine < len) {\n        self.$tokenizeRow(currentLine);\n        endLine = currentLine;\n\n        do {\n          currentLine++;\n        } while (self.lines[currentLine]);\n\n        processedLines++;\n\n        if (processedLines % 5 === 0 && new Date() - workerStart > 20) {\n          self.running = setTimeout(self.$worker, 20);\n          break;\n        }\n      }\n\n      self.currentLine = currentLine;\n      if (endLine == -1) endLine = currentLine;\n      if (startLine <= endLine) self.fireUpdateEvent(startLine, endLine);\n    };\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.setTokenizer = function (tokenizer) {\n      this.tokenizer = tokenizer;\n      this.lines = [];\n      this.states = [];\n      this.start(0);\n    };\n\n    this.setDocument = function (doc) {\n      this.doc = doc;\n      this.lines = [];\n      this.states = [];\n      this.stop();\n    };\n\n    this.fireUpdateEvent = function (firstRow, lastRow) {\n      var data = {\n        first: firstRow,\n        last: lastRow\n      };\n\n      this._signal(\"update\", {\n        data: data\n      });\n    };\n\n    this.start = function (startRow) {\n      this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());\n      this.lines.splice(this.currentLine, this.lines.length);\n      this.states.splice(this.currentLine, this.states.length);\n      this.stop();\n      this.running = setTimeout(this.$worker, 700);\n    };\n\n    this.scheduleStart = function () {\n      if (!this.running) this.running = setTimeout(this.$worker, 700);\n    };\n\n    this.$updateOnChange = function (delta) {\n      var startRow = delta.start.row;\n      var len = delta.end.row - startRow;\n\n      if (len === 0) {\n        this.lines[startRow] = null;\n      } else if (delta.action == \"remove\") {\n        this.lines.splice(startRow, len + 1, null);\n        this.states.splice(startRow, len + 1, null);\n      } else {\n        var args = Array(len + 1);\n        args.unshift(startRow, 1);\n        this.lines.splice.apply(this.lines, args);\n        this.states.splice.apply(this.states, args);\n      }\n\n      this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());\n      this.stop();\n    };\n\n    this.stop = function () {\n      if (this.running) clearTimeout(this.running);\n      this.running = false;\n    };\n\n    this.getTokens = function (row) {\n      return this.lines[row] || this.$tokenizeRow(row);\n    };\n\n    this.getState = function (row) {\n      if (this.currentLine == row) this.$tokenizeRow(row);\n      return this.states[row] || \"start\";\n    };\n\n    this.$tokenizeRow = function (row) {\n      var line = this.doc.getLine(row);\n      var state = this.states[row - 1];\n      var data = this.tokenizer.getLineTokens(line, state, row);\n\n      if (this.states[row] + \"\" !== data.state + \"\") {\n        this.states[row] = data.state;\n        this.lines[row + 1] = null;\n        if (this.currentLine > row + 1) this.currentLine = row + 1;\n      } else if (this.currentLine == row) {\n        this.currentLine = row + 1;\n      }\n\n      return this.lines[row] = data.tokens;\n    };\n  }).call(BackgroundTokenizer.prototype);\n  exports.BackgroundTokenizer = BackgroundTokenizer;\n});\nace.define(\"ace/search_highlight\", [\"require\", \"exports\", \"module\", \"ace/lib/lang\", \"ace/lib/oop\", \"ace/range\"], function (require, exports, module) {\n  \"use strict\";\n\n  var lang = require(\"./lib/lang\");\n\n  var oop = require(\"./lib/oop\");\n\n  var Range = require(\"./range\").Range;\n\n  var SearchHighlight = function SearchHighlight(regExp, clazz, type) {\n    this.setRegexp(regExp);\n    this.clazz = clazz;\n    this.type = type || \"text\";\n  };\n\n  (function () {\n    this.MAX_RANGES = 500;\n\n    this.setRegexp = function (regExp) {\n      if (this.regExp + \"\" == regExp + \"\") return;\n      this.regExp = regExp;\n      this.cache = [];\n    };\n\n    this.update = function (html, markerLayer, session, config) {\n      if (!this.regExp) return;\n      var start = config.firstRow,\n          end = config.lastRow;\n\n      for (var i = start; i <= end; i++) {\n        var ranges = this.cache[i];\n\n        if (ranges == null) {\n          ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);\n          if (ranges.length > this.MAX_RANGES) ranges = ranges.slice(0, this.MAX_RANGES);\n          ranges = ranges.map(function (match) {\n            return new Range(i, match.offset, i, match.offset + match.length);\n          });\n          this.cache[i] = ranges.length ? ranges : \"\";\n        }\n\n        for (var j = ranges.length; j--;) {\n          markerLayer.drawSingleLineMarker(html, ranges[j].toScreenRange(session), this.clazz, config);\n        }\n      }\n    };\n  }).call(SearchHighlight.prototype);\n  exports.SearchHighlight = SearchHighlight;\n});\nace.define(\"ace/edit_session/fold_line\", [\"require\", \"exports\", \"module\", \"ace/range\"], function (require, exports, module) {\n  \"use strict\";\n\n  var Range = require(\"../range\").Range;\n\n  function FoldLine(foldData, folds) {\n    this.foldData = foldData;\n\n    if (Array.isArray(folds)) {\n      this.folds = folds;\n    } else {\n      folds = this.folds = [folds];\n    }\n\n    var last = folds[folds.length - 1];\n    this.range = new Range(folds[0].start.row, folds[0].start.column, last.end.row, last.end.column);\n    this.start = this.range.start;\n    this.end = this.range.end;\n    this.folds.forEach(function (fold) {\n      fold.setFoldLine(this);\n    }, this);\n  }\n\n  (function () {\n    this.shiftRow = function (shift) {\n      this.start.row += shift;\n      this.end.row += shift;\n      this.folds.forEach(function (fold) {\n        fold.start.row += shift;\n        fold.end.row += shift;\n      });\n    };\n\n    this.addFold = function (fold) {\n      if (fold.sameRow) {\n        if (fold.start.row < this.startRow || fold.endRow > this.endRow) {\n          throw new Error(\"Can't add a fold to this FoldLine as it has no connection\");\n        }\n\n        this.folds.push(fold);\n        this.folds.sort(function (a, b) {\n          return -a.range.compareEnd(b.start.row, b.start.column);\n        });\n\n        if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {\n          this.end.row = fold.end.row;\n          this.end.column = fold.end.column;\n        } else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {\n          this.start.row = fold.start.row;\n          this.start.column = fold.start.column;\n        }\n      } else if (fold.start.row == this.end.row) {\n        this.folds.push(fold);\n        this.end.row = fold.end.row;\n        this.end.column = fold.end.column;\n      } else if (fold.end.row == this.start.row) {\n        this.folds.unshift(fold);\n        this.start.row = fold.start.row;\n        this.start.column = fold.start.column;\n      } else {\n        throw new Error(\"Trying to add fold to FoldRow that doesn't have a matching row\");\n      }\n\n      fold.foldLine = this;\n    };\n\n    this.containsRow = function (row) {\n      return row >= this.start.row && row <= this.end.row;\n    };\n\n    this.walk = function (callback, endRow, endColumn) {\n      var lastEnd = 0,\n          folds = this.folds,\n          fold,\n          cmp,\n          stop,\n          isNewRow = true;\n\n      if (endRow == null) {\n        endRow = this.end.row;\n        endColumn = this.end.column;\n      }\n\n      for (var i = 0; i < folds.length; i++) {\n        fold = folds[i];\n        cmp = fold.range.compareStart(endRow, endColumn);\n\n        if (cmp == -1) {\n          callback(null, endRow, endColumn, lastEnd, isNewRow);\n          return;\n        }\n\n        stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);\n        stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);\n\n        if (stop || cmp === 0) {\n          return;\n        }\n\n        isNewRow = !fold.sameRow;\n        lastEnd = fold.end.column;\n      }\n\n      callback(null, endRow, endColumn, lastEnd, isNewRow);\n    };\n\n    this.getNextFoldTo = function (row, column) {\n      var fold, cmp;\n\n      for (var i = 0; i < this.folds.length; i++) {\n        fold = this.folds[i];\n        cmp = fold.range.compareEnd(row, column);\n\n        if (cmp == -1) {\n          return {\n            fold: fold,\n            kind: \"after\"\n          };\n        } else if (cmp === 0) {\n          return {\n            fold: fold,\n            kind: \"inside\"\n          };\n        }\n      }\n\n      return null;\n    };\n\n    this.addRemoveChars = function (row, column, len) {\n      var ret = this.getNextFoldTo(row, column),\n          fold,\n          folds;\n\n      if (ret) {\n        fold = ret.fold;\n\n        if (ret.kind == \"inside\" && fold.start.column != column && fold.start.row != row) {\n          window.console && window.console.log(row, column, fold);\n        } else if (fold.start.row == row) {\n          folds = this.folds;\n          var i = folds.indexOf(fold);\n\n          if (i === 0) {\n            this.start.column += len;\n          }\n\n          for (i; i < folds.length; i++) {\n            fold = folds[i];\n            fold.start.column += len;\n\n            if (!fold.sameRow) {\n              return;\n            }\n\n            fold.end.column += len;\n          }\n\n          this.end.column += len;\n        }\n      }\n    };\n\n    this.split = function (row, column) {\n      var pos = this.getNextFoldTo(row, column);\n      if (!pos || pos.kind == \"inside\") return null;\n      var fold = pos.fold;\n      var folds = this.folds;\n      var foldData = this.foldData;\n      var i = folds.indexOf(fold);\n      var foldBefore = folds[i - 1];\n      this.end.row = foldBefore.end.row;\n      this.end.column = foldBefore.end.column;\n      folds = folds.splice(i, folds.length - i);\n      var newFoldLine = new FoldLine(foldData, folds);\n      foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);\n      return newFoldLine;\n    };\n\n    this.merge = function (foldLineNext) {\n      var folds = foldLineNext.folds;\n\n      for (var i = 0; i < folds.length; i++) {\n        this.addFold(folds[i]);\n      }\n\n      var foldData = this.foldData;\n      foldData.splice(foldData.indexOf(foldLineNext), 1);\n    };\n\n    this.toString = function () {\n      var ret = [this.range.toString() + \": [\"];\n      this.folds.forEach(function (fold) {\n        ret.push(\"  \" + fold.toString());\n      });\n      ret.push(\"]\");\n      return ret.join(\"\\n\");\n    };\n\n    this.idxToPosition = function (idx) {\n      var lastFoldEndColumn = 0;\n\n      for (var i = 0; i < this.folds.length; i++) {\n        var fold = this.folds[i];\n        idx -= fold.start.column - lastFoldEndColumn;\n\n        if (idx < 0) {\n          return {\n            row: fold.start.row,\n            column: fold.start.column + idx\n          };\n        }\n\n        idx -= fold.placeholder.length;\n\n        if (idx < 0) {\n          return fold.start;\n        }\n\n        lastFoldEndColumn = fold.end.column;\n      }\n\n      return {\n        row: this.end.row,\n        column: this.end.column + idx\n      };\n    };\n  }).call(FoldLine.prototype);\n  exports.FoldLine = FoldLine;\n});\nace.define(\"ace/range_list\", [\"require\", \"exports\", \"module\", \"ace/range\"], function (require, exports, module) {\n  \"use strict\";\n\n  var Range = require(\"./range\").Range;\n\n  var comparePoints = Range.comparePoints;\n\n  var RangeList = function RangeList() {\n    this.ranges = [];\n    this.$bias = 1;\n  };\n\n  (function () {\n    this.comparePoints = comparePoints;\n\n    this.pointIndex = function (pos, excludeEdges, startIndex) {\n      var list = this.ranges;\n\n      for (var i = startIndex || 0; i < list.length; i++) {\n        var range = list[i];\n        var cmpEnd = comparePoints(pos, range.end);\n        if (cmpEnd > 0) continue;\n        var cmpStart = comparePoints(pos, range.start);\n        if (cmpEnd === 0) return excludeEdges && cmpStart !== 0 ? -i - 2 : i;\n        if (cmpStart > 0 || cmpStart === 0 && !excludeEdges) return i;\n        return -i - 1;\n      }\n\n      return -i - 1;\n    };\n\n    this.add = function (range) {\n      var excludeEdges = !range.isEmpty();\n      var startIndex = this.pointIndex(range.start, excludeEdges);\n      if (startIndex < 0) startIndex = -startIndex - 1;\n      var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);\n      if (endIndex < 0) endIndex = -endIndex - 1;else endIndex++;\n      return this.ranges.splice(startIndex, endIndex - startIndex, range);\n    };\n\n    this.addList = function (list) {\n      var removed = [];\n\n      for (var i = list.length; i--;) {\n        removed.push.apply(removed, this.add(list[i]));\n      }\n\n      return removed;\n    };\n\n    this.substractPoint = function (pos) {\n      var i = this.pointIndex(pos);\n      if (i >= 0) return this.ranges.splice(i, 1);\n    };\n\n    this.merge = function () {\n      var removed = [];\n      var list = this.ranges;\n      list = list.sort(function (a, b) {\n        return comparePoints(a.start, b.start);\n      });\n      var next = list[0],\n          range;\n\n      for (var i = 1; i < list.length; i++) {\n        range = next;\n        next = list[i];\n        var cmp = comparePoints(range.end, next.start);\n        if (cmp < 0) continue;\n        if (cmp == 0 && !range.isEmpty() && !next.isEmpty()) continue;\n\n        if (comparePoints(range.end, next.end) < 0) {\n          range.end.row = next.end.row;\n          range.end.column = next.end.column;\n        }\n\n        list.splice(i, 1);\n        removed.push(next);\n        next = range;\n        i--;\n      }\n\n      this.ranges = list;\n      return removed;\n    };\n\n    this.contains = function (row, column) {\n      return this.pointIndex({\n        row: row,\n        column: column\n      }) >= 0;\n    };\n\n    this.containsPoint = function (pos) {\n      return this.pointIndex(pos) >= 0;\n    };\n\n    this.rangeAtPoint = function (pos) {\n      var i = this.pointIndex(pos);\n      if (i >= 0) return this.ranges[i];\n    };\n\n    this.clipRows = function (startRow, endRow) {\n      var list = this.ranges;\n      if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow) return [];\n      var startIndex = this.pointIndex({\n        row: startRow,\n        column: 0\n      });\n      if (startIndex < 0) startIndex = -startIndex - 1;\n      var endIndex = this.pointIndex({\n        row: endRow,\n        column: 0\n      }, startIndex);\n      if (endIndex < 0) endIndex = -endIndex - 1;\n      var clipped = [];\n\n      for (var i = startIndex; i < endIndex; i++) {\n        clipped.push(list[i]);\n      }\n\n      return clipped;\n    };\n\n    this.removeAll = function () {\n      return this.ranges.splice(0, this.ranges.length);\n    };\n\n    this.attach = function (session) {\n      if (this.session) this.detach();\n      this.session = session;\n      this.onChange = this.$onChange.bind(this);\n      this.session.on('change', this.onChange);\n    };\n\n    this.detach = function () {\n      if (!this.session) return;\n      this.session.removeListener('change', this.onChange);\n      this.session = null;\n    };\n\n    this.$onChange = function (delta) {\n      var start = delta.start;\n      var end = delta.end;\n      var startRow = start.row;\n      var endRow = end.row;\n      var ranges = this.ranges;\n\n      for (var i = 0, n = ranges.length; i < n; i++) {\n        var r = ranges[i];\n        if (r.end.row >= startRow) break;\n      }\n\n      if (delta.action == \"insert\") {\n        var lineDif = endRow - startRow;\n        var colDiff = -start.column + end.column;\n\n        for (; i < n; i++) {\n          var r = ranges[i];\n          if (r.start.row > startRow) break;\n\n          if (r.start.row == startRow && r.start.column >= start.column) {\n            if (r.start.column == start.column && this.$bias <= 0) {} else {\n              r.start.column += colDiff;\n              r.start.row += lineDif;\n            }\n          }\n\n          if (r.end.row == startRow && r.end.column >= start.column) {\n            if (r.end.column == start.column && this.$bias < 0) {\n              continue;\n            }\n\n            if (r.end.column == start.column && colDiff > 0 && i < n - 1) {\n              if (r.end.column > r.start.column && r.end.column == ranges[i + 1].start.column) r.end.column -= colDiff;\n            }\n\n            r.end.column += colDiff;\n            r.end.row += lineDif;\n          }\n        }\n      } else {\n        var lineDif = startRow - endRow;\n        var colDiff = start.column - end.column;\n\n        for (; i < n; i++) {\n          var r = ranges[i];\n          if (r.start.row > endRow) break;\n\n          if (r.end.row < endRow && (startRow < r.end.row || startRow == r.end.row && start.column < r.end.column)) {\n            r.end.row = startRow;\n            r.end.column = start.column;\n          } else if (r.end.row == endRow) {\n            if (r.end.column <= end.column) {\n              if (lineDif || r.end.column > start.column) {\n                r.end.column = start.column;\n                r.end.row = start.row;\n              }\n            } else {\n              r.end.column += colDiff;\n              r.end.row += lineDif;\n            }\n          } else if (r.end.row > endRow) {\n            r.end.row += lineDif;\n          }\n\n          if (r.start.row < endRow && (startRow < r.start.row || startRow == r.start.row && start.column < r.start.column)) {\n            r.start.row = startRow;\n            r.start.column = start.column;\n          } else if (r.start.row == endRow) {\n            if (r.start.column <= end.column) {\n              if (lineDif || r.start.column > start.column) {\n                r.start.column = start.column;\n                r.start.row = start.row;\n              }\n            } else {\n              r.start.column += colDiff;\n              r.start.row += lineDif;\n            }\n          } else if (r.start.row > endRow) {\n            r.start.row += lineDif;\n          }\n        }\n      }\n\n      if (lineDif != 0 && i < n) {\n        for (; i < n; i++) {\n          var r = ranges[i];\n          r.start.row += lineDif;\n          r.end.row += lineDif;\n        }\n      }\n    };\n  }).call(RangeList.prototype);\n  exports.RangeList = RangeList;\n});\nace.define(\"ace/edit_session/fold\", [\"require\", \"exports\", \"module\", \"ace/range_list\", \"ace/lib/oop\"], function (require, exports, module) {\n  \"use strict\";\n\n  var RangeList = require(\"../range_list\").RangeList;\n\n  var oop = require(\"../lib/oop\");\n\n  var Fold = exports.Fold = function (range, placeholder) {\n    this.foldLine = null;\n    this.placeholder = placeholder;\n    this.range = range;\n    this.start = range.start;\n    this.end = range.end;\n    this.sameRow = range.start.row == range.end.row;\n    this.subFolds = this.ranges = [];\n  };\n\n  oop.inherits(Fold, RangeList);\n  (function () {\n    this.toString = function () {\n      return '\"' + this.placeholder + '\" ' + this.range.toString();\n    };\n\n    this.setFoldLine = function (foldLine) {\n      this.foldLine = foldLine;\n      this.subFolds.forEach(function (fold) {\n        fold.setFoldLine(foldLine);\n      });\n    };\n\n    this.clone = function () {\n      var range = this.range.clone();\n      var fold = new Fold(range, this.placeholder);\n      this.subFolds.forEach(function (subFold) {\n        fold.subFolds.push(subFold.clone());\n      });\n      fold.collapseChildren = this.collapseChildren;\n      return fold;\n    };\n\n    this.addSubFold = function (fold) {\n      if (this.range.isEqual(fold)) return;\n      consumeRange(fold, this.start);\n      var row = fold.start.row,\n          column = fold.start.column;\n\n      for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {\n        cmp = this.subFolds[i].range.compare(row, column);\n        if (cmp != 1) break;\n      }\n\n      var afterStart = this.subFolds[i];\n      var firstConsumed = 0;\n\n      if (cmp == 0) {\n        if (afterStart.range.containsRange(fold)) return afterStart.addSubFold(fold);else firstConsumed = 1;\n      }\n\n      var row = fold.range.end.row,\n          column = fold.range.end.column;\n\n      for (var j = i, cmp = -1; j < this.subFolds.length; j++) {\n        cmp = this.subFolds[j].range.compare(row, column);\n        if (cmp != 1) break;\n      }\n\n      if (cmp == 0) j++;\n      var consumedFolds = this.subFolds.splice(i, j - i, fold);\n      var last = cmp == 0 ? consumedFolds.length - 1 : consumedFolds.length;\n\n      for (var k = firstConsumed; k < last; k++) {\n        fold.addSubFold(consumedFolds[k]);\n      }\n\n      fold.setFoldLine(this.foldLine);\n      return fold;\n    };\n\n    this.restoreRange = function (range) {\n      return restoreRange(range, this.start);\n    };\n  }).call(Fold.prototype);\n\n  function consumePoint(point, anchor) {\n    point.row -= anchor.row;\n    if (point.row == 0) point.column -= anchor.column;\n  }\n\n  function consumeRange(range, anchor) {\n    consumePoint(range.start, anchor);\n    consumePoint(range.end, anchor);\n  }\n\n  function restorePoint(point, anchor) {\n    if (point.row == 0) point.column += anchor.column;\n    point.row += anchor.row;\n  }\n\n  function restoreRange(range, anchor) {\n    restorePoint(range.start, anchor);\n    restorePoint(range.end, anchor);\n  }\n});\nace.define(\"ace/edit_session/folding\", [\"require\", \"exports\", \"module\", \"ace/range\", \"ace/edit_session/fold_line\", \"ace/edit_session/fold\", \"ace/token_iterator\"], function (require, exports, module) {\n  \"use strict\";\n\n  var Range = require(\"../range\").Range;\n\n  var FoldLine = require(\"./fold_line\").FoldLine;\n\n  var Fold = require(\"./fold\").Fold;\n\n  var TokenIterator = require(\"../token_iterator\").TokenIterator;\n\n  function Folding() {\n    this.getFoldAt = function (row, column, side) {\n      var foldLine = this.getFoldLine(row);\n      if (!foldLine) return null;\n      var folds = foldLine.folds;\n\n      for (var i = 0; i < folds.length; i++) {\n        var range = folds[i].range;\n\n        if (range.contains(row, column)) {\n          if (side == 1 && range.isEnd(row, column) && !range.isEmpty()) {\n            continue;\n          } else if (side == -1 && range.isStart(row, column) && !range.isEmpty()) {\n            continue;\n          }\n\n          return folds[i];\n        }\n      }\n    };\n\n    this.getFoldsInRange = function (range) {\n      var start = range.start;\n      var end = range.end;\n      var foldLines = this.$foldData;\n      var foundFolds = [];\n      start.column += 1;\n      end.column -= 1;\n\n      for (var i = 0; i < foldLines.length; i++) {\n        var cmp = foldLines[i].range.compareRange(range);\n\n        if (cmp == 2) {\n          continue;\n        } else if (cmp == -2) {\n          break;\n        }\n\n        var folds = foldLines[i].folds;\n\n        for (var j = 0; j < folds.length; j++) {\n          var fold = folds[j];\n          cmp = fold.range.compareRange(range);\n\n          if (cmp == -2) {\n            break;\n          } else if (cmp == 2) {\n            continue;\n          } else if (cmp == 42) {\n            break;\n          }\n\n          foundFolds.push(fold);\n        }\n      }\n\n      start.column -= 1;\n      end.column += 1;\n      return foundFolds;\n    };\n\n    this.getFoldsInRangeList = function (ranges) {\n      if (Array.isArray(ranges)) {\n        var folds = [];\n        ranges.forEach(function (range) {\n          folds = folds.concat(this.getFoldsInRange(range));\n        }, this);\n      } else {\n        var folds = this.getFoldsInRange(ranges);\n      }\n\n      return folds;\n    };\n\n    this.getAllFolds = function () {\n      var folds = [];\n      var foldLines = this.$foldData;\n\n      for (var i = 0; i < foldLines.length; i++) {\n        for (var j = 0; j < foldLines[i].folds.length; j++) {\n          folds.push(foldLines[i].folds[j]);\n        }\n      }\n\n      return folds;\n    };\n\n    this.getFoldStringAt = function (row, column, trim, foldLine) {\n      foldLine = foldLine || this.getFoldLine(row);\n      if (!foldLine) return null;\n      var lastFold = {\n        end: {\n          column: 0\n        }\n      };\n      var str, fold;\n\n      for (var i = 0; i < foldLine.folds.length; i++) {\n        fold = foldLine.folds[i];\n        var cmp = fold.range.compareEnd(row, column);\n\n        if (cmp == -1) {\n          str = this.getLine(fold.start.row).substring(lastFold.end.column, fold.start.column);\n          break;\n        } else if (cmp === 0) {\n          return null;\n        }\n\n        lastFold = fold;\n      }\n\n      if (!str) str = this.getLine(fold.start.row).substring(lastFold.end.column);\n      if (trim == -1) return str.substring(0, column - lastFold.end.column);else if (trim == 1) return str.substring(column - lastFold.end.column);else return str;\n    };\n\n    this.getFoldLine = function (docRow, startFoldLine) {\n      var foldData = this.$foldData;\n      var i = 0;\n      if (startFoldLine) i = foldData.indexOf(startFoldLine);\n      if (i == -1) i = 0;\n\n      for (i; i < foldData.length; i++) {\n        var foldLine = foldData[i];\n\n        if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {\n          return foldLine;\n        } else if (foldLine.end.row > docRow) {\n          return null;\n        }\n      }\n\n      return null;\n    };\n\n    this.getNextFoldLine = function (docRow, startFoldLine) {\n      var foldData = this.$foldData;\n      var i = 0;\n      if (startFoldLine) i = foldData.indexOf(startFoldLine);\n      if (i == -1) i = 0;\n\n      for (i; i < foldData.length; i++) {\n        var foldLine = foldData[i];\n\n        if (foldLine.end.row >= docRow) {\n          return foldLine;\n        }\n      }\n\n      return null;\n    };\n\n    this.getFoldedRowCount = function (first, last) {\n      var foldData = this.$foldData,\n          rowCount = last - first + 1;\n\n      for (var i = 0; i < foldData.length; i++) {\n        var foldLine = foldData[i],\n            end = foldLine.end.row,\n            start = foldLine.start.row;\n\n        if (end >= last) {\n          if (start < last) {\n            if (start >= first) rowCount -= last - start;else rowCount = 0; // in one fold\n          }\n\n          break;\n        } else if (end >= first) {\n          if (start >= first) // fold inside range\n            rowCount -= end - start;else rowCount -= end - first + 1;\n        }\n      }\n\n      return rowCount;\n    };\n\n    this.$addFoldLine = function (foldLine) {\n      this.$foldData.push(foldLine);\n      this.$foldData.sort(function (a, b) {\n        return a.start.row - b.start.row;\n      });\n      return foldLine;\n    };\n\n    this.addFold = function (placeholder, range) {\n      var foldData = this.$foldData;\n      var added = false;\n      var fold;\n      if (placeholder instanceof Fold) fold = placeholder;else {\n        fold = new Fold(range, placeholder);\n        fold.collapseChildren = range.collapseChildren;\n      }\n      this.$clipRangeToDocument(fold.range);\n      var startRow = fold.start.row;\n      var startColumn = fold.start.column;\n      var endRow = fold.end.row;\n      var endColumn = fold.end.column;\n      var startFold = this.getFoldAt(startRow, startColumn, 1);\n      var endFold = this.getFoldAt(endRow, endColumn, -1);\n      if (startFold && endFold == startFold) return startFold.addSubFold(fold);\n      if (startFold && !startFold.range.isStart(startRow, startColumn)) this.removeFold(startFold);\n      if (endFold && !endFold.range.isEnd(endRow, endColumn)) this.removeFold(endFold);\n      var folds = this.getFoldsInRange(fold.range);\n\n      if (folds.length > 0) {\n        this.removeFolds(folds);\n\n        if (!fold.collapseChildren) {\n          folds.forEach(function (subFold) {\n            fold.addSubFold(subFold);\n          });\n        }\n      }\n\n      for (var i = 0; i < foldData.length; i++) {\n        var foldLine = foldData[i];\n\n        if (endRow == foldLine.start.row) {\n          foldLine.addFold(fold);\n          added = true;\n          break;\n        } else if (startRow == foldLine.end.row) {\n          foldLine.addFold(fold);\n          added = true;\n\n          if (!fold.sameRow) {\n            var foldLineNext = foldData[i + 1];\n\n            if (foldLineNext && foldLineNext.start.row == endRow) {\n              foldLine.merge(foldLineNext);\n              break;\n            }\n          }\n\n          break;\n        } else if (endRow <= foldLine.start.row) {\n          break;\n        }\n      }\n\n      if (!added) foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));\n      if (this.$useWrapMode) this.$updateWrapData(foldLine.start.row, foldLine.start.row);else this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);\n      this.$modified = true;\n\n      this._signal(\"changeFold\", {\n        data: fold,\n        action: \"add\"\n      });\n\n      return fold;\n    };\n\n    this.addFolds = function (folds) {\n      folds.forEach(function (fold) {\n        this.addFold(fold);\n      }, this);\n    };\n\n    this.removeFold = function (fold) {\n      var foldLine = fold.foldLine;\n      var startRow = foldLine.start.row;\n      var endRow = foldLine.end.row;\n      var foldLines = this.$foldData;\n      var folds = foldLine.folds;\n\n      if (folds.length == 1) {\n        foldLines.splice(foldLines.indexOf(foldLine), 1);\n      } else if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {\n        folds.pop();\n        foldLine.end.row = folds[folds.length - 1].end.row;\n        foldLine.end.column = folds[folds.length - 1].end.column;\n      } else if (foldLine.range.isStart(fold.start.row, fold.start.column)) {\n        folds.shift();\n        foldLine.start.row = folds[0].start.row;\n        foldLine.start.column = folds[0].start.column;\n      } else if (fold.sameRow) {\n        folds.splice(folds.indexOf(fold), 1);\n      } else {\n        var newFoldLine = foldLine.split(fold.start.row, fold.start.column);\n        folds = newFoldLine.folds;\n        folds.shift();\n        newFoldLine.start.row = folds[0].start.row;\n        newFoldLine.start.column = folds[0].start.column;\n      }\n\n      if (!this.$updating) {\n        if (this.$useWrapMode) this.$updateWrapData(startRow, endRow);else this.$updateRowLengthCache(startRow, endRow);\n      }\n\n      this.$modified = true;\n\n      this._signal(\"changeFold\", {\n        data: fold,\n        action: \"remove\"\n      });\n    };\n\n    this.removeFolds = function (folds) {\n      var cloneFolds = [];\n\n      for (var i = 0; i < folds.length; i++) {\n        cloneFolds.push(folds[i]);\n      }\n\n      cloneFolds.forEach(function (fold) {\n        this.removeFold(fold);\n      }, this);\n      this.$modified = true;\n    };\n\n    this.expandFold = function (fold) {\n      this.removeFold(fold);\n      fold.subFolds.forEach(function (subFold) {\n        fold.restoreRange(subFold);\n        this.addFold(subFold);\n      }, this);\n\n      if (fold.collapseChildren > 0) {\n        this.foldAll(fold.start.row + 1, fold.end.row, fold.collapseChildren - 1);\n      }\n\n      fold.subFolds = [];\n    };\n\n    this.expandFolds = function (folds) {\n      folds.forEach(function (fold) {\n        this.expandFold(fold);\n      }, this);\n    };\n\n    this.unfold = function (location, expandInner) {\n      var range, folds;\n\n      if (location == null) {\n        range = new Range(0, 0, this.getLength(), 0);\n        if (expandInner == null) expandInner = true;\n      } else if (typeof location == \"number\") range = new Range(location, 0, location, this.getLine(location).length);else if (\"row\" in location) range = Range.fromPoints(location, location);else range = location;\n\n      folds = this.getFoldsInRangeList(range);\n\n      if (expandInner != false) {\n        this.removeFolds(folds);\n      } else {\n        this.expandFolds(folds);\n      }\n\n      if (folds.length) return folds;\n    };\n\n    this.isRowFolded = function (docRow, startFoldRow) {\n      return !!this.getFoldLine(docRow, startFoldRow);\n    };\n\n    this.getRowFoldEnd = function (docRow, startFoldRow) {\n      var foldLine = this.getFoldLine(docRow, startFoldRow);\n      return foldLine ? foldLine.end.row : docRow;\n    };\n\n    this.getRowFoldStart = function (docRow, startFoldRow) {\n      var foldLine = this.getFoldLine(docRow, startFoldRow);\n      return foldLine ? foldLine.start.row : docRow;\n    };\n\n    this.getFoldDisplayLine = function (foldLine, endRow, endColumn, startRow, startColumn) {\n      if (startRow == null) startRow = foldLine.start.row;\n      if (startColumn == null) startColumn = 0;\n      if (endRow == null) endRow = foldLine.end.row;\n      if (endColumn == null) endColumn = this.getLine(endRow).length;\n      var doc = this.doc;\n      var textLine = \"\";\n      foldLine.walk(function (placeholder, row, column, lastColumn) {\n        if (row < startRow) return;\n\n        if (row == startRow) {\n          if (column < startColumn) return;\n          lastColumn = Math.max(startColumn, lastColumn);\n        }\n\n        if (placeholder != null) {\n          textLine += placeholder;\n        } else {\n          textLine += doc.getLine(row).substring(lastColumn, column);\n        }\n      }, endRow, endColumn);\n      return textLine;\n    };\n\n    this.getDisplayLine = function (row, endColumn, startRow, startColumn) {\n      var foldLine = this.getFoldLine(row);\n\n      if (!foldLine) {\n        var line;\n        line = this.doc.getLine(row);\n        return line.substring(startColumn || 0, endColumn || line.length);\n      } else {\n        return this.getFoldDisplayLine(foldLine, row, endColumn, startRow, startColumn);\n      }\n    };\n\n    this.$cloneFoldData = function () {\n      var fd = [];\n      fd = this.$foldData.map(function (foldLine) {\n        var folds = foldLine.folds.map(function (fold) {\n          return fold.clone();\n        });\n        return new FoldLine(fd, folds);\n      });\n      return fd;\n    };\n\n    this.toggleFold = function (tryToUnfold) {\n      var selection = this.selection;\n      var range = selection.getRange();\n      var fold;\n      var bracketPos;\n\n      if (range.isEmpty()) {\n        var cursor = range.start;\n        fold = this.getFoldAt(cursor.row, cursor.column);\n\n        if (fold) {\n          this.expandFold(fold);\n          return;\n        } else if (bracketPos = this.findMatchingBracket(cursor)) {\n          if (range.comparePoint(bracketPos) == 1) {\n            range.end = bracketPos;\n          } else {\n            range.start = bracketPos;\n            range.start.column++;\n            range.end.column--;\n          }\n        } else if (bracketPos = this.findMatchingBracket({\n          row: cursor.row,\n          column: cursor.column + 1\n        })) {\n          if (range.comparePoint(bracketPos) == 1) range.end = bracketPos;else range.start = bracketPos;\n          range.start.column++;\n        } else {\n          range = this.getCommentFoldRange(cursor.row, cursor.column) || range;\n        }\n      } else {\n        var folds = this.getFoldsInRange(range);\n\n        if (tryToUnfold && folds.length) {\n          this.expandFolds(folds);\n          return;\n        } else if (folds.length == 1) {\n          fold = folds[0];\n        }\n      }\n\n      if (!fold) fold = this.getFoldAt(range.start.row, range.start.column);\n\n      if (fold && fold.range.toString() == range.toString()) {\n        this.expandFold(fold);\n        return;\n      }\n\n      var placeholder = \"...\";\n\n      if (!range.isMultiLine()) {\n        placeholder = this.getTextRange(range);\n        if (placeholder.length < 4) return;\n        placeholder = placeholder.trim().substring(0, 2) + \"..\";\n      }\n\n      this.addFold(placeholder, range);\n    };\n\n    this.getCommentFoldRange = function (row, column, dir) {\n      var iterator = new TokenIterator(this, row, column);\n      var token = iterator.getCurrentToken();\n      var type = token && token.type;\n\n      if (token && /^comment|string/.test(type)) {\n        type = type.match(/comment|string/)[0];\n        if (type == \"comment\") type += \"|doc-start\";\n        var re = new RegExp(type);\n        var range = new Range();\n\n        if (dir != 1) {\n          do {\n            token = iterator.stepBackward();\n          } while (token && re.test(token.type));\n\n          iterator.stepForward();\n        }\n\n        range.start.row = iterator.getCurrentTokenRow();\n        range.start.column = iterator.getCurrentTokenColumn() + 2;\n        iterator = new TokenIterator(this, row, column);\n\n        if (dir != -1) {\n          var lastRow = -1;\n\n          do {\n            token = iterator.stepForward();\n\n            if (lastRow == -1) {\n              var state = this.getState(iterator.$row);\n              if (!re.test(state)) lastRow = iterator.$row;\n            } else if (iterator.$row > lastRow) {\n              break;\n            }\n          } while (token && re.test(token.type));\n\n          token = iterator.stepBackward();\n        } else token = iterator.getCurrentToken();\n\n        range.end.row = iterator.getCurrentTokenRow();\n        range.end.column = iterator.getCurrentTokenColumn() + token.value.length - 2;\n        return range;\n      }\n    };\n\n    this.foldAll = function (startRow, endRow, depth, test) {\n      if (depth == undefined) depth = 100000; // JSON.stringify doesn't hanle Infinity\n\n      var foldWidgets = this.foldWidgets;\n      if (!foldWidgets) return; // mode doesn't support folding\n\n      endRow = endRow || this.getLength();\n      startRow = startRow || 0;\n\n      for (var row = startRow; row < endRow; row++) {\n        if (foldWidgets[row] == null) foldWidgets[row] = this.getFoldWidget(row);\n        if (foldWidgets[row] != \"start\") continue;\n        if (test && !test(row)) continue;\n        var range = this.getFoldWidgetRange(row);\n\n        if (range && range.isMultiLine() && range.end.row <= endRow && range.start.row >= startRow) {\n          row = range.end.row;\n          range.collapseChildren = depth;\n          this.addFold(\"...\", range);\n        }\n      }\n    };\n\n    this.foldToLevel = function (level) {\n      this.foldAll();\n\n      while (level-- > 0) {\n        this.unfold(null, false);\n      }\n    };\n\n    this.foldAllComments = function () {\n      var session = this;\n      this.foldAll(null, null, null, function (row) {\n        var tokens = session.getTokens(row);\n\n        for (var i = 0; i < tokens.length; i++) {\n          var token = tokens[i];\n          if (token.type == \"text\" && /^\\s+$/.test(token.value)) continue;\n          if (/comment/.test(token.type)) return true;\n          return false;\n        }\n      });\n    };\n\n    this.$foldStyles = {\n      \"manual\": 1,\n      \"markbegin\": 1,\n      \"markbeginend\": 1\n    };\n    this.$foldStyle = \"markbegin\";\n\n    this.setFoldStyle = function (style) {\n      if (!this.$foldStyles[style]) throw new Error(\"invalid fold style: \" + style + \"[\" + Object.keys(this.$foldStyles).join(\", \") + \"]\");\n      if (this.$foldStyle == style) return;\n      this.$foldStyle = style;\n      if (style == \"manual\") this.unfold();\n      var mode = this.$foldMode;\n      this.$setFolding(null);\n      this.$setFolding(mode);\n    };\n\n    this.$setFolding = function (foldMode) {\n      if (this.$foldMode == foldMode) return;\n      this.$foldMode = foldMode;\n      this.off('change', this.$updateFoldWidgets);\n      this.off('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n\n      this._signal(\"changeAnnotation\");\n\n      if (!foldMode || this.$foldStyle == \"manual\") {\n        this.foldWidgets = null;\n        return;\n      }\n\n      this.foldWidgets = [];\n      this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);\n      this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);\n      this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);\n      this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this);\n      this.on('change', this.$updateFoldWidgets);\n      this.on('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n    };\n\n    this.getParentFoldRangeData = function (row, ignoreCurrent) {\n      var fw = this.foldWidgets;\n      if (!fw || ignoreCurrent && fw[row]) return {};\n      var i = row - 1,\n          firstRange;\n\n      while (i >= 0) {\n        var c = fw[i];\n        if (c == null) c = fw[i] = this.getFoldWidget(i);\n\n        if (c == \"start\") {\n          var range = this.getFoldWidgetRange(i);\n          if (!firstRange) firstRange = range;\n          if (range && range.end.row >= row) break;\n        }\n\n        i--;\n      }\n\n      return {\n        range: i !== -1 && range,\n        firstRange: firstRange\n      };\n    };\n\n    this.onFoldWidgetClick = function (row, e) {\n      e = e.domEvent;\n      var options = {\n        children: e.shiftKey,\n        all: e.ctrlKey || e.metaKey,\n        siblings: e.altKey\n      };\n      var range = this.$toggleFoldWidget(row, options);\n\n      if (!range) {\n        var el = e.target || e.srcElement;\n        if (el && /ace_fold-widget/.test(el.className)) el.className += \" ace_invalid\";\n      }\n    };\n\n    this.$toggleFoldWidget = function (row, options) {\n      if (!this.getFoldWidget) return;\n      var type = this.getFoldWidget(row);\n      var line = this.getLine(row);\n      var dir = type === \"end\" ? -1 : 1;\n      var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);\n\n      if (fold) {\n        if (options.children || options.all) this.removeFold(fold);else this.expandFold(fold);\n        return fold;\n      }\n\n      var range = this.getFoldWidgetRange(row, true);\n\n      if (range && !range.isMultiLine()) {\n        fold = this.getFoldAt(range.start.row, range.start.column, 1);\n\n        if (fold && range.isEqual(fold.range)) {\n          this.removeFold(fold);\n          return fold;\n        }\n      }\n\n      if (options.siblings) {\n        var data = this.getParentFoldRangeData(row);\n\n        if (data.range) {\n          var startRow = data.range.start.row + 1;\n          var endRow = data.range.end.row;\n        }\n\n        this.foldAll(startRow, endRow, options.all ? 10000 : 0);\n      } else if (options.children) {\n        endRow = range ? range.end.row : this.getLength();\n        this.foldAll(row + 1, endRow, options.all ? 10000 : 0);\n      } else if (range) {\n        if (options.all) range.collapseChildren = 10000;\n        this.addFold(\"...\", range);\n      }\n\n      return range;\n    };\n\n    this.toggleFoldWidget = function (toggleParent) {\n      var row = this.selection.getCursor().row;\n      row = this.getRowFoldStart(row);\n      var range = this.$toggleFoldWidget(row, {});\n      if (range) return;\n      var data = this.getParentFoldRangeData(row, true);\n      range = data.range || data.firstRange;\n\n      if (range) {\n        row = range.start.row;\n        var fold = this.getFoldAt(row, this.getLine(row).length, 1);\n\n        if (fold) {\n          this.removeFold(fold);\n        } else {\n          this.addFold(\"...\", range);\n        }\n      }\n    };\n\n    this.updateFoldWidgets = function (delta) {\n      var firstRow = delta.start.row;\n      var len = delta.end.row - firstRow;\n\n      if (len === 0) {\n        this.foldWidgets[firstRow] = null;\n      } else if (delta.action == 'remove') {\n        this.foldWidgets.splice(firstRow, len + 1, null);\n      } else {\n        var args = Array(len + 1);\n        args.unshift(firstRow, 1);\n        this.foldWidgets.splice.apply(this.foldWidgets, args);\n      }\n    };\n\n    this.tokenizerUpdateFoldWidgets = function (e) {\n      var rows = e.data;\n\n      if (rows.first != rows.last) {\n        if (this.foldWidgets.length > rows.first) this.foldWidgets.splice(rows.first, this.foldWidgets.length);\n      }\n    };\n  }\n\n  exports.Folding = Folding;\n});\nace.define(\"ace/edit_session/bracket_match\", [\"require\", \"exports\", \"module\", \"ace/token_iterator\", \"ace/range\"], function (require, exports, module) {\n  \"use strict\";\n\n  var TokenIterator = require(\"../token_iterator\").TokenIterator;\n\n  var Range = require(\"../range\").Range;\n\n  function BracketMatch() {\n    this.findMatchingBracket = function (position, chr) {\n      if (position.column == 0) return null;\n      var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column - 1);\n      if (charBeforeCursor == \"\") return null;\n      var match = charBeforeCursor.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n      if (!match) return null;\n      if (match[1]) return this.$findClosingBracket(match[1], position);else return this.$findOpeningBracket(match[2], position);\n    };\n\n    this.getBracketRange = function (pos) {\n      var line = this.getLine(pos.row);\n      var before = true,\n          range;\n      var chr = line.charAt(pos.column - 1);\n      var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n\n      if (!match) {\n        chr = line.charAt(pos.column);\n        pos = {\n          row: pos.row,\n          column: pos.column + 1\n        };\n        match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        before = false;\n      }\n\n      if (!match) return null;\n\n      if (match[1]) {\n        var bracketPos = this.$findClosingBracket(match[1], pos);\n        if (!bracketPos) return null;\n        range = Range.fromPoints(pos, bracketPos);\n\n        if (!before) {\n          range.end.column++;\n          range.start.column--;\n        }\n\n        range.cursor = range.end;\n      } else {\n        var bracketPos = this.$findOpeningBracket(match[2], pos);\n        if (!bracketPos) return null;\n        range = Range.fromPoints(bracketPos, pos);\n\n        if (!before) {\n          range.start.column++;\n          range.end.column--;\n        }\n\n        range.cursor = range.start;\n      }\n\n      return range;\n    };\n\n    this.getMatchingBracketRanges = function (pos) {\n      var line = this.getLine(pos.row);\n      var chr = line.charAt(pos.column - 1);\n      var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n\n      if (!match) {\n        chr = line.charAt(pos.column);\n        pos = {\n          row: pos.row,\n          column: pos.column + 1\n        };\n        match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n      }\n\n      if (!match) return null;\n      var startRange = new Range(pos.row, pos.column - 1, pos.row, pos.column);\n      var bracketPos = match[1] ? this.$findClosingBracket(match[1], pos) : this.$findOpeningBracket(match[2], pos);\n      if (!bracketPos) return [startRange];\n      var endRange = new Range(bracketPos.row, bracketPos.column, bracketPos.row, bracketPos.column + 1);\n      return [startRange, endRange];\n    };\n\n    this.$brackets = {\n      \")\": \"(\",\n      \"(\": \")\",\n      \"]\": \"[\",\n      \"[\": \"]\",\n      \"{\": \"}\",\n      \"}\": \"{\",\n      \"<\": \">\",\n      \">\": \"<\"\n    };\n\n    this.$findOpeningBracket = function (bracket, position, typeRe) {\n      var openBracket = this.$brackets[bracket];\n      var depth = 1;\n      var iterator = new TokenIterator(this, position.row, position.column);\n      var token = iterator.getCurrentToken();\n      if (!token) token = iterator.stepForward();\n      if (!token) return;\n\n      if (!typeRe) {\n        typeRe = new RegExp(\"(\\\\.?\" + token.type.replace(\".\", \"\\\\.\").replace(\"rparen\", \".paren\").replace(/\\b(?:end)\\b/, \"(?:start|begin|end)\") + \")+\");\n      }\n\n      var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;\n      var value = token.value;\n\n      while (true) {\n        while (valueIndex >= 0) {\n          var chr = value.charAt(valueIndex);\n\n          if (chr == openBracket) {\n            depth -= 1;\n\n            if (depth == 0) {\n              return {\n                row: iterator.getCurrentTokenRow(),\n                column: valueIndex + iterator.getCurrentTokenColumn()\n              };\n            }\n          } else if (chr == bracket) {\n            depth += 1;\n          }\n\n          valueIndex -= 1;\n        }\n\n        do {\n          token = iterator.stepBackward();\n        } while (token && !typeRe.test(token.type));\n\n        if (token == null) break;\n        value = token.value;\n        valueIndex = value.length - 1;\n      }\n\n      return null;\n    };\n\n    this.$findClosingBracket = function (bracket, position, typeRe) {\n      var closingBracket = this.$brackets[bracket];\n      var depth = 1;\n      var iterator = new TokenIterator(this, position.row, position.column);\n      var token = iterator.getCurrentToken();\n      if (!token) token = iterator.stepForward();\n      if (!token) return;\n\n      if (!typeRe) {\n        typeRe = new RegExp(\"(\\\\.?\" + token.type.replace(\".\", \"\\\\.\").replace(\"lparen\", \".paren\").replace(/\\b(?:start|begin)\\b/, \"(?:start|begin|end)\") + \")+\");\n      }\n\n      var valueIndex = position.column - iterator.getCurrentTokenColumn();\n\n      while (true) {\n        var value = token.value;\n        var valueLength = value.length;\n\n        while (valueIndex < valueLength) {\n          var chr = value.charAt(valueIndex);\n\n          if (chr == closingBracket) {\n            depth -= 1;\n\n            if (depth == 0) {\n              return {\n                row: iterator.getCurrentTokenRow(),\n                column: valueIndex + iterator.getCurrentTokenColumn()\n              };\n            }\n          } else if (chr == bracket) {\n            depth += 1;\n          }\n\n          valueIndex += 1;\n        }\n\n        do {\n          token = iterator.stepForward();\n        } while (token && !typeRe.test(token.type));\n\n        if (token == null) break;\n        valueIndex = 0;\n      }\n\n      return null;\n    };\n  }\n\n  exports.BracketMatch = BracketMatch;\n});\nace.define(\"ace/edit_session\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/lang\", \"ace/bidihandler\", \"ace/config\", \"ace/lib/event_emitter\", \"ace/selection\", \"ace/mode/text\", \"ace/range\", \"ace/document\", \"ace/background_tokenizer\", \"ace/search_highlight\", \"ace/edit_session/folding\", \"ace/edit_session/bracket_match\"], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"./lib/oop\");\n\n  var lang = require(\"./lib/lang\");\n\n  var BidiHandler = require(\"./bidihandler\").BidiHandler;\n\n  var config = require(\"./config\");\n\n  var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\n  var Selection = require(\"./selection\").Selection;\n\n  var TextMode = require(\"./mode/text\").Mode;\n\n  var Range = require(\"./range\").Range;\n\n  var Document = require(\"./document\").Document;\n\n  var BackgroundTokenizer = require(\"./background_tokenizer\").BackgroundTokenizer;\n\n  var SearchHighlight = require(\"./search_highlight\").SearchHighlight;\n\n  var EditSession = function EditSession(text, mode) {\n    this.$breakpoints = [];\n    this.$decorations = [];\n    this.$frontMarkers = {};\n    this.$backMarkers = {};\n    this.$markerId = 1;\n    this.$undoSelect = true;\n    this.$foldData = [];\n    this.id = \"session\" + ++EditSession.$uid;\n\n    this.$foldData.toString = function () {\n      return this.join(\"\\n\");\n    };\n\n    this.on(\"changeFold\", this.onChangeFold.bind(this));\n    this.$onChange = this.onChange.bind(this);\n    if (typeof text != \"object\" || !text.getLine) text = new Document(text);\n    this.setDocument(text);\n    this.selection = new Selection(this);\n    this.$bidiHandler = new BidiHandler(this);\n    config.resetOptions(this);\n    this.setMode(mode);\n\n    config._signal(\"session\", this);\n  };\n\n  EditSession.$uid = 0;\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.setDocument = function (doc) {\n      if (this.doc) this.doc.removeListener(\"change\", this.$onChange);\n      this.doc = doc;\n      doc.on(\"change\", this.$onChange);\n      if (this.bgTokenizer) this.bgTokenizer.setDocument(this.getDocument());\n      this.resetCaches();\n    };\n\n    this.getDocument = function () {\n      return this.doc;\n    };\n\n    this.$resetRowCache = function (docRow) {\n      if (!docRow) {\n        this.$docRowCache = [];\n        this.$screenRowCache = [];\n        return;\n      }\n\n      var l = this.$docRowCache.length;\n      var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;\n\n      if (l > i) {\n        this.$docRowCache.splice(i, l);\n        this.$screenRowCache.splice(i, l);\n      }\n    };\n\n    this.$getRowCacheIndex = function (cacheArray, val) {\n      var low = 0;\n      var hi = cacheArray.length - 1;\n\n      while (low <= hi) {\n        var mid = low + hi >> 1;\n        var c = cacheArray[mid];\n        if (val > c) low = mid + 1;else if (val < c) hi = mid - 1;else return mid;\n      }\n\n      return low - 1;\n    };\n\n    this.resetCaches = function () {\n      this.$modified = true;\n      this.$wrapData = [];\n      this.$rowLengthCache = [];\n      this.$resetRowCache(0);\n      if (this.bgTokenizer) this.bgTokenizer.start(0);\n    };\n\n    this.onChangeFold = function (e) {\n      var fold = e.data;\n      this.$resetRowCache(fold.start.row);\n    };\n\n    this.onChange = function (delta) {\n      this.$modified = true;\n      this.$bidiHandler.onChange(delta);\n      this.$resetRowCache(delta.start.row);\n      var removedFolds = this.$updateInternalDataOnChange(delta);\n\n      if (!this.$fromUndo && this.$undoManager) {\n        if (removedFolds && removedFolds.length) {\n          this.$undoManager.add({\n            action: \"removeFolds\",\n            folds: removedFolds\n          }, this.mergeUndoDeltas);\n          this.mergeUndoDeltas = true;\n        }\n\n        this.$undoManager.add(delta, this.mergeUndoDeltas);\n        this.mergeUndoDeltas = true;\n        this.$informUndoManager.schedule();\n      }\n\n      this.bgTokenizer && this.bgTokenizer.$updateOnChange(delta);\n\n      this._signal(\"change\", delta);\n    };\n\n    this.setValue = function (text) {\n      this.doc.setValue(text);\n      this.selection.moveTo(0, 0);\n      this.$resetRowCache(0);\n      this.setUndoManager(this.$undoManager);\n      this.getUndoManager().reset();\n    };\n\n    this.getValue = this.toString = function () {\n      return this.doc.getValue();\n    };\n\n    this.getSelection = function () {\n      return this.selection;\n    };\n\n    this.getState = function (row) {\n      return this.bgTokenizer.getState(row);\n    };\n\n    this.getTokens = function (row) {\n      return this.bgTokenizer.getTokens(row);\n    };\n\n    this.getTokenAt = function (row, column) {\n      var tokens = this.bgTokenizer.getTokens(row);\n      var token,\n          c = 0;\n\n      if (column == null) {\n        var i = tokens.length - 1;\n        c = this.getLine(row).length;\n      } else {\n        for (var i = 0; i < tokens.length; i++) {\n          c += tokens[i].value.length;\n          if (c >= column) break;\n        }\n      }\n\n      token = tokens[i];\n      if (!token) return null;\n      token.index = i;\n      token.start = c - token.value.length;\n      return token;\n    };\n\n    this.setUndoManager = function (undoManager) {\n      this.$undoManager = undoManager;\n      if (this.$informUndoManager) this.$informUndoManager.cancel();\n\n      if (undoManager) {\n        var self = this;\n        undoManager.addSession(this);\n\n        this.$syncInformUndoManager = function () {\n          self.$informUndoManager.cancel();\n          self.mergeUndoDeltas = false;\n        };\n\n        this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);\n      } else {\n        this.$syncInformUndoManager = function () {};\n      }\n    };\n\n    this.markUndoGroup = function () {\n      if (this.$syncInformUndoManager) this.$syncInformUndoManager();\n    };\n\n    this.$defaultUndoManager = {\n      undo: function undo() {},\n      redo: function redo() {},\n      hasUndo: function hasUndo() {},\n      hasRedo: function hasRedo() {},\n      reset: function reset() {},\n      add: function add() {},\n      addSelection: function addSelection() {},\n      startNewGroup: function startNewGroup() {},\n      addSession: function addSession() {}\n    };\n\n    this.getUndoManager = function () {\n      return this.$undoManager || this.$defaultUndoManager;\n    };\n\n    this.getTabString = function () {\n      if (this.getUseSoftTabs()) {\n        return lang.stringRepeat(\" \", this.getTabSize());\n      } else {\n        return \"\\t\";\n      }\n    };\n\n    this.setUseSoftTabs = function (val) {\n      this.setOption(\"useSoftTabs\", val);\n    };\n\n    this.getUseSoftTabs = function () {\n      return this.$useSoftTabs && !this.$mode.$indentWithTabs;\n    };\n\n    this.setTabSize = function (tabSize) {\n      this.setOption(\"tabSize\", tabSize);\n    };\n\n    this.getTabSize = function () {\n      return this.$tabSize;\n    };\n\n    this.isTabStop = function (position) {\n      return this.$useSoftTabs && position.column % this.$tabSize === 0;\n    };\n\n    this.setNavigateWithinSoftTabs = function (navigateWithinSoftTabs) {\n      this.setOption(\"navigateWithinSoftTabs\", navigateWithinSoftTabs);\n    };\n\n    this.getNavigateWithinSoftTabs = function () {\n      return this.$navigateWithinSoftTabs;\n    };\n\n    this.$overwrite = false;\n\n    this.setOverwrite = function (overwrite) {\n      this.setOption(\"overwrite\", overwrite);\n    };\n\n    this.getOverwrite = function () {\n      return this.$overwrite;\n    };\n\n    this.toggleOverwrite = function () {\n      this.setOverwrite(!this.$overwrite);\n    };\n\n    this.addGutterDecoration = function (row, className) {\n      if (!this.$decorations[row]) this.$decorations[row] = \"\";\n      this.$decorations[row] += \" \" + className;\n\n      this._signal(\"changeBreakpoint\", {});\n    };\n\n    this.removeGutterDecoration = function (row, className) {\n      this.$decorations[row] = (this.$decorations[row] || \"\").replace(\" \" + className, \"\");\n\n      this._signal(\"changeBreakpoint\", {});\n    };\n\n    this.getBreakpoints = function () {\n      return this.$breakpoints;\n    };\n\n    this.setBreakpoints = function (rows) {\n      this.$breakpoints = [];\n\n      for (var i = 0; i < rows.length; i++) {\n        this.$breakpoints[rows[i]] = \"ace_breakpoint\";\n      }\n\n      this._signal(\"changeBreakpoint\", {});\n    };\n\n    this.clearBreakpoints = function () {\n      this.$breakpoints = [];\n\n      this._signal(\"changeBreakpoint\", {});\n    };\n\n    this.setBreakpoint = function (row, className) {\n      if (className === undefined) className = \"ace_breakpoint\";\n      if (className) this.$breakpoints[row] = className;else delete this.$breakpoints[row];\n\n      this._signal(\"changeBreakpoint\", {});\n    };\n\n    this.clearBreakpoint = function (row) {\n      delete this.$breakpoints[row];\n\n      this._signal(\"changeBreakpoint\", {});\n    };\n\n    this.addMarker = function (range, clazz, type, inFront) {\n      var id = this.$markerId++;\n      var marker = {\n        range: range,\n        type: type || \"line\",\n        renderer: typeof type == \"function\" ? type : null,\n        clazz: clazz,\n        inFront: !!inFront,\n        id: id\n      };\n\n      if (inFront) {\n        this.$frontMarkers[id] = marker;\n\n        this._signal(\"changeFrontMarker\");\n      } else {\n        this.$backMarkers[id] = marker;\n\n        this._signal(\"changeBackMarker\");\n      }\n\n      return id;\n    };\n\n    this.addDynamicMarker = function (marker, inFront) {\n      if (!marker.update) return;\n      var id = this.$markerId++;\n      marker.id = id;\n      marker.inFront = !!inFront;\n\n      if (inFront) {\n        this.$frontMarkers[id] = marker;\n\n        this._signal(\"changeFrontMarker\");\n      } else {\n        this.$backMarkers[id] = marker;\n\n        this._signal(\"changeBackMarker\");\n      }\n\n      return marker;\n    };\n\n    this.removeMarker = function (markerId) {\n      var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];\n      if (!marker) return;\n      var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;\n      delete markers[markerId];\n\n      this._signal(marker.inFront ? \"changeFrontMarker\" : \"changeBackMarker\");\n    };\n\n    this.getMarkers = function (inFront) {\n      return inFront ? this.$frontMarkers : this.$backMarkers;\n    };\n\n    this.highlight = function (re) {\n      if (!this.$searchHighlight) {\n        var highlight = new SearchHighlight(null, \"ace_selected-word\", \"text\");\n        this.$searchHighlight = this.addDynamicMarker(highlight);\n      }\n\n      this.$searchHighlight.setRegexp(re);\n    };\n\n    this.highlightLines = function (startRow, endRow, clazz, inFront) {\n      if (typeof endRow != \"number\") {\n        clazz = endRow;\n        endRow = startRow;\n      }\n\n      if (!clazz) clazz = \"ace_step\";\n      var range = new Range(startRow, 0, endRow, Infinity);\n      range.id = this.addMarker(range, clazz, \"fullLine\", inFront);\n      return range;\n    };\n\n    this.setAnnotations = function (annotations) {\n      this.$annotations = annotations;\n\n      this._signal(\"changeAnnotation\", {});\n    };\n\n    this.getAnnotations = function () {\n      return this.$annotations || [];\n    };\n\n    this.clearAnnotations = function () {\n      this.setAnnotations([]);\n    };\n\n    this.$detectNewLine = function (text) {\n      var match = text.match(/^.*?(\\r?\\n)/m);\n\n      if (match) {\n        this.$autoNewLine = match[1];\n      } else {\n        this.$autoNewLine = \"\\n\";\n      }\n    };\n\n    this.getWordRange = function (row, column) {\n      var line = this.getLine(row);\n      var inToken = false;\n      if (column > 0) inToken = !!line.charAt(column - 1).match(this.tokenRe);\n      if (!inToken) inToken = !!line.charAt(column).match(this.tokenRe);\n      if (inToken) var re = this.tokenRe;else if (/^\\s+$/.test(line.slice(column - 1, column + 1))) var re = /\\s/;else var re = this.nonTokenRe;\n      var start = column;\n\n      if (start > 0) {\n        do {\n          start--;\n        } while (start >= 0 && line.charAt(start).match(re));\n\n        start++;\n      }\n\n      var end = column;\n\n      while (end < line.length && line.charAt(end).match(re)) {\n        end++;\n      }\n\n      return new Range(row, start, row, end);\n    };\n\n    this.getAWordRange = function (row, column) {\n      var wordRange = this.getWordRange(row, column);\n      var line = this.getLine(wordRange.end.row);\n\n      while (line.charAt(wordRange.end.column).match(/[ \\t]/)) {\n        wordRange.end.column += 1;\n      }\n\n      return wordRange;\n    };\n\n    this.setNewLineMode = function (newLineMode) {\n      this.doc.setNewLineMode(newLineMode);\n    };\n\n    this.getNewLineMode = function () {\n      return this.doc.getNewLineMode();\n    };\n\n    this.setUseWorker = function (useWorker) {\n      this.setOption(\"useWorker\", useWorker);\n    };\n\n    this.getUseWorker = function () {\n      return this.$useWorker;\n    };\n\n    this.onReloadTokenizer = function (e) {\n      var rows = e.data;\n      this.bgTokenizer.start(rows.first);\n\n      this._signal(\"tokenizerUpdate\", e);\n    };\n\n    this.$modes = config.$modes;\n    this.$mode = null;\n    this.$modeId = null;\n\n    this.setMode = function (mode, cb) {\n      if (mode && typeof mode === \"object\") {\n        if (mode.getTokenizer) return this.$onChangeMode(mode);\n        var options = mode;\n        var path = options.path;\n      } else {\n        path = mode || \"ace/mode/text\";\n      }\n\n      if (!this.$modes[\"ace/mode/text\"]) this.$modes[\"ace/mode/text\"] = new TextMode();\n\n      if (this.$modes[path] && !options) {\n        this.$onChangeMode(this.$modes[path]);\n        cb && cb();\n        return;\n      }\n\n      this.$modeId = path;\n      config.loadModule([\"mode\", path], function (m) {\n        if (this.$modeId !== path) return cb && cb();\n\n        if (this.$modes[path] && !options) {\n          this.$onChangeMode(this.$modes[path]);\n        } else if (m && m.Mode) {\n          m = new m.Mode(options);\n\n          if (!options) {\n            this.$modes[path] = m;\n            m.$id = path;\n          }\n\n          this.$onChangeMode(m);\n        }\n\n        cb && cb();\n      }.bind(this));\n      if (!this.$mode) this.$onChangeMode(this.$modes[\"ace/mode/text\"], true);\n    };\n\n    this.$onChangeMode = function (mode, $isPlaceholder) {\n      if (!$isPlaceholder) this.$modeId = mode.$id;\n      if (this.$mode === mode) return;\n      var oldMode = this.$mode;\n      this.$mode = mode;\n      this.$stopWorker();\n      if (this.$useWorker) this.$startWorker();\n      var tokenizer = mode.getTokenizer();\n\n      if (tokenizer.on !== undefined) {\n        var onReloadTokenizer = this.onReloadTokenizer.bind(this);\n        tokenizer.on(\"update\", onReloadTokenizer);\n      }\n\n      if (!this.bgTokenizer) {\n        this.bgTokenizer = new BackgroundTokenizer(tokenizer);\n\n        var _self = this;\n\n        this.bgTokenizer.on(\"update\", function (e) {\n          _self._signal(\"tokenizerUpdate\", e);\n        });\n      } else {\n        this.bgTokenizer.setTokenizer(tokenizer);\n      }\n\n      this.bgTokenizer.setDocument(this.getDocument());\n      this.tokenRe = mode.tokenRe;\n      this.nonTokenRe = mode.nonTokenRe;\n\n      if (!$isPlaceholder) {\n        if (mode.attachToSession) mode.attachToSession(this);\n        this.$options.wrapMethod.set.call(this, this.$wrapMethod);\n        this.$setFolding(mode.foldingRules);\n        this.bgTokenizer.start(0);\n\n        this._emit(\"changeMode\", {\n          oldMode: oldMode,\n          mode: mode\n        });\n      }\n    };\n\n    this.$stopWorker = function () {\n      if (this.$worker) {\n        this.$worker.terminate();\n        this.$worker = null;\n      }\n    };\n\n    this.$startWorker = function () {\n      try {\n        this.$worker = this.$mode.createWorker(this);\n      } catch (e) {\n        config.warn(\"Could not load worker\", e);\n        this.$worker = null;\n      }\n    };\n\n    this.getMode = function () {\n      return this.$mode;\n    };\n\n    this.$scrollTop = 0;\n\n    this.setScrollTop = function (scrollTop) {\n      if (this.$scrollTop === scrollTop || isNaN(scrollTop)) return;\n      this.$scrollTop = scrollTop;\n\n      this._signal(\"changeScrollTop\", scrollTop);\n    };\n\n    this.getScrollTop = function () {\n      return this.$scrollTop;\n    };\n\n    this.$scrollLeft = 0;\n\n    this.setScrollLeft = function (scrollLeft) {\n      if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft)) return;\n      this.$scrollLeft = scrollLeft;\n\n      this._signal(\"changeScrollLeft\", scrollLeft);\n    };\n\n    this.getScrollLeft = function () {\n      return this.$scrollLeft;\n    };\n\n    this.getScreenWidth = function () {\n      this.$computeWidth();\n      if (this.lineWidgets) return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);\n      return this.screenWidth;\n    };\n\n    this.getLineWidgetMaxWidth = function () {\n      if (this.lineWidgetsWidth != null) return this.lineWidgetsWidth;\n      var width = 0;\n      this.lineWidgets.forEach(function (w) {\n        if (w && w.screenWidth > width) width = w.screenWidth;\n      });\n      return this.lineWidgetWidth = width;\n    };\n\n    this.$computeWidth = function (force) {\n      if (this.$modified || force) {\n        this.$modified = false;\n        if (this.$useWrapMode) return this.screenWidth = this.$wrapLimit;\n        var lines = this.doc.getAllLines();\n        var cache = this.$rowLengthCache;\n        var longestScreenLine = 0;\n        var foldIndex = 0;\n        var foldLine = this.$foldData[foldIndex];\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        var len = lines.length;\n\n        for (var i = 0; i < len; i++) {\n          if (i > foldStart) {\n            i = foldLine.end.row + 1;\n            if (i >= len) break;\n            foldLine = this.$foldData[foldIndex++];\n            foldStart = foldLine ? foldLine.start.row : Infinity;\n          }\n\n          if (cache[i] == null) cache[i] = this.$getStringScreenWidth(lines[i])[0];\n          if (cache[i] > longestScreenLine) longestScreenLine = cache[i];\n        }\n\n        this.screenWidth = longestScreenLine;\n      }\n    };\n\n    this.getLine = function (row) {\n      return this.doc.getLine(row);\n    };\n\n    this.getLines = function (firstRow, lastRow) {\n      return this.doc.getLines(firstRow, lastRow);\n    };\n\n    this.getLength = function () {\n      return this.doc.getLength();\n    };\n\n    this.getTextRange = function (range) {\n      return this.doc.getTextRange(range || this.selection.getRange());\n    };\n\n    this.insert = function (position, text) {\n      return this.doc.insert(position, text);\n    };\n\n    this.remove = function (range) {\n      return this.doc.remove(range);\n    };\n\n    this.removeFullLines = function (firstRow, lastRow) {\n      return this.doc.removeFullLines(firstRow, lastRow);\n    };\n\n    this.undoChanges = function (deltas, dontSelect) {\n      if (!deltas.length) return;\n      this.$fromUndo = true;\n\n      for (var i = deltas.length - 1; i != -1; i--) {\n        var delta = deltas[i];\n\n        if (delta.action == \"insert\" || delta.action == \"remove\") {\n          this.doc.revertDelta(delta);\n        } else if (delta.folds) {\n          this.addFolds(delta.folds);\n        }\n      }\n\n      if (!dontSelect && this.$undoSelect) {\n        if (deltas.selectionBefore) this.selection.fromJSON(deltas.selectionBefore);else this.selection.setRange(this.$getUndoSelection(deltas, true));\n      }\n\n      this.$fromUndo = false;\n    };\n\n    this.redoChanges = function (deltas, dontSelect) {\n      if (!deltas.length) return;\n      this.$fromUndo = true;\n\n      for (var i = 0; i < deltas.length; i++) {\n        var delta = deltas[i];\n\n        if (delta.action == \"insert\" || delta.action == \"remove\") {\n          this.doc.$safeApplyDelta(delta);\n        }\n      }\n\n      if (!dontSelect && this.$undoSelect) {\n        if (deltas.selectionAfter) this.selection.fromJSON(deltas.selectionAfter);else this.selection.setRange(this.$getUndoSelection(deltas, false));\n      }\n\n      this.$fromUndo = false;\n    };\n\n    this.setUndoSelect = function (enable) {\n      this.$undoSelect = enable;\n    };\n\n    this.$getUndoSelection = function (deltas, isUndo) {\n      function isInsert(delta) {\n        return isUndo ? delta.action !== \"insert\" : delta.action === \"insert\";\n      }\n\n      var range, point;\n\n      for (var i = 0; i < deltas.length; i++) {\n        var delta = deltas[i];\n        if (!delta.start) continue; // skip folds\n\n        if (!range) {\n          if (isInsert(delta)) {\n            range = Range.fromPoints(delta.start, delta.end);\n          } else {\n            range = Range.fromPoints(delta.start, delta.start);\n          }\n\n          continue;\n        }\n\n        if (isInsert(delta)) {\n          point = delta.start;\n\n          if (range.compare(point.row, point.column) == -1) {\n            range.setStart(point);\n          }\n\n          point = delta.end;\n\n          if (range.compare(point.row, point.column) == 1) {\n            range.setEnd(point);\n          }\n        } else {\n          point = delta.start;\n\n          if (range.compare(point.row, point.column) == -1) {\n            range = Range.fromPoints(delta.start, delta.start);\n          }\n        }\n      }\n\n      return range;\n    };\n\n    this.replace = function (range, text) {\n      return this.doc.replace(range, text);\n    };\n\n    this.moveText = function (fromRange, toPosition, copy) {\n      var text = this.getTextRange(fromRange);\n      var folds = this.getFoldsInRange(fromRange);\n      var toRange = Range.fromPoints(toPosition, toPosition);\n\n      if (!copy) {\n        this.remove(fromRange);\n        var rowDiff = fromRange.start.row - fromRange.end.row;\n        var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;\n\n        if (collDiff) {\n          if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column) toRange.start.column += collDiff;\n          if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column) toRange.end.column += collDiff;\n        }\n\n        if (rowDiff && toRange.start.row >= fromRange.end.row) {\n          toRange.start.row += rowDiff;\n          toRange.end.row += rowDiff;\n        }\n      }\n\n      toRange.end = this.insert(toRange.start, text);\n\n      if (folds.length) {\n        var oldStart = fromRange.start;\n        var newStart = toRange.start;\n        var rowDiff = newStart.row - oldStart.row;\n        var collDiff = newStart.column - oldStart.column;\n        this.addFolds(folds.map(function (x) {\n          x = x.clone();\n          if (x.start.row == oldStart.row) x.start.column += collDiff;\n          if (x.end.row == oldStart.row) x.end.column += collDiff;\n          x.start.row += rowDiff;\n          x.end.row += rowDiff;\n          return x;\n        }));\n      }\n\n      return toRange;\n    };\n\n    this.indentRows = function (startRow, endRow, indentString) {\n      indentString = indentString.replace(/\\t/g, this.getTabString());\n\n      for (var row = startRow; row <= endRow; row++) {\n        this.doc.insertInLine({\n          row: row,\n          column: 0\n        }, indentString);\n      }\n    };\n\n    this.outdentRows = function (range) {\n      var rowRange = range.collapseRows();\n      var deleteRange = new Range(0, 0, 0, 0);\n      var size = this.getTabSize();\n\n      for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {\n        var line = this.getLine(i);\n        deleteRange.start.row = i;\n        deleteRange.end.row = i;\n\n        for (var j = 0; j < size; ++j) {\n          if (line.charAt(j) != ' ') break;\n        }\n\n        if (j < size && line.charAt(j) == '\\t') {\n          deleteRange.start.column = j;\n          deleteRange.end.column = j + 1;\n        } else {\n          deleteRange.start.column = 0;\n          deleteRange.end.column = j;\n        }\n\n        this.remove(deleteRange);\n      }\n    };\n\n    this.$moveLines = function (firstRow, lastRow, dir) {\n      firstRow = this.getRowFoldStart(firstRow);\n      lastRow = this.getRowFoldEnd(lastRow);\n\n      if (dir < 0) {\n        var row = this.getRowFoldStart(firstRow + dir);\n        if (row < 0) return 0;\n        var diff = row - firstRow;\n      } else if (dir > 0) {\n        var row = this.getRowFoldEnd(lastRow + dir);\n        if (row > this.doc.getLength() - 1) return 0;\n        var diff = row - lastRow;\n      } else {\n        firstRow = this.$clipRowToDocument(firstRow);\n        lastRow = this.$clipRowToDocument(lastRow);\n        var diff = lastRow - firstRow + 1;\n      }\n\n      var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);\n      var folds = this.getFoldsInRange(range).map(function (x) {\n        x = x.clone();\n        x.start.row += diff;\n        x.end.row += diff;\n        return x;\n      });\n      var lines = dir == 0 ? this.doc.getLines(firstRow, lastRow) : this.doc.removeFullLines(firstRow, lastRow);\n      this.doc.insertFullLines(firstRow + diff, lines);\n      folds.length && this.addFolds(folds);\n      return diff;\n    };\n\n    this.moveLinesUp = function (firstRow, lastRow) {\n      return this.$moveLines(firstRow, lastRow, -1);\n    };\n\n    this.moveLinesDown = function (firstRow, lastRow) {\n      return this.$moveLines(firstRow, lastRow, 1);\n    };\n\n    this.duplicateLines = function (firstRow, lastRow) {\n      return this.$moveLines(firstRow, lastRow, 0);\n    };\n\n    this.$clipRowToDocument = function (row) {\n      return Math.max(0, Math.min(row, this.doc.getLength() - 1));\n    };\n\n    this.$clipColumnToRow = function (row, column) {\n      if (column < 0) return 0;\n      return Math.min(this.doc.getLine(row).length, column);\n    };\n\n    this.$clipPositionToDocument = function (row, column) {\n      column = Math.max(0, column);\n\n      if (row < 0) {\n        row = 0;\n        column = 0;\n      } else {\n        var len = this.doc.getLength();\n\n        if (row >= len) {\n          row = len - 1;\n          column = this.doc.getLine(len - 1).length;\n        } else {\n          column = Math.min(this.doc.getLine(row).length, column);\n        }\n      }\n\n      return {\n        row: row,\n        column: column\n      };\n    };\n\n    this.$clipRangeToDocument = function (range) {\n      if (range.start.row < 0) {\n        range.start.row = 0;\n        range.start.column = 0;\n      } else {\n        range.start.column = this.$clipColumnToRow(range.start.row, range.start.column);\n      }\n\n      var len = this.doc.getLength() - 1;\n\n      if (range.end.row > len) {\n        range.end.row = len;\n        range.end.column = this.doc.getLine(len).length;\n      } else {\n        range.end.column = this.$clipColumnToRow(range.end.row, range.end.column);\n      }\n\n      return range;\n    };\n\n    this.$wrapLimit = 80;\n    this.$useWrapMode = false;\n    this.$wrapLimitRange = {\n      min: null,\n      max: null\n    };\n\n    this.setUseWrapMode = function (useWrapMode) {\n      if (useWrapMode != this.$useWrapMode) {\n        this.$useWrapMode = useWrapMode;\n        this.$modified = true;\n        this.$resetRowCache(0);\n\n        if (useWrapMode) {\n          var len = this.getLength();\n          this.$wrapData = Array(len);\n          this.$updateWrapData(0, len - 1);\n        }\n\n        this._signal(\"changeWrapMode\");\n      }\n    };\n\n    this.getUseWrapMode = function () {\n      return this.$useWrapMode;\n    };\n\n    this.setWrapLimitRange = function (min, max) {\n      if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {\n        this.$wrapLimitRange = {\n          min: min,\n          max: max\n        };\n        this.$modified = true;\n        this.$bidiHandler.markAsDirty();\n        if (this.$useWrapMode) this._signal(\"changeWrapMode\");\n      }\n    };\n\n    this.adjustWrapLimit = function (desiredLimit, $printMargin) {\n      var limits = this.$wrapLimitRange;\n      if (limits.max < 0) limits = {\n        min: $printMargin,\n        max: $printMargin\n      };\n      var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);\n\n      if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {\n        this.$wrapLimit = wrapLimit;\n        this.$modified = true;\n\n        if (this.$useWrapMode) {\n          this.$updateWrapData(0, this.getLength() - 1);\n          this.$resetRowCache(0);\n\n          this._signal(\"changeWrapLimit\");\n        }\n\n        return true;\n      }\n\n      return false;\n    };\n\n    this.$constrainWrapLimit = function (wrapLimit, min, max) {\n      if (min) wrapLimit = Math.max(min, wrapLimit);\n      if (max) wrapLimit = Math.min(max, wrapLimit);\n      return wrapLimit;\n    };\n\n    this.getWrapLimit = function () {\n      return this.$wrapLimit;\n    };\n\n    this.setWrapLimit = function (limit) {\n      this.setWrapLimitRange(limit, limit);\n    };\n\n    this.getWrapLimitRange = function () {\n      return {\n        min: this.$wrapLimitRange.min,\n        max: this.$wrapLimitRange.max\n      };\n    };\n\n    this.$updateInternalDataOnChange = function (delta) {\n      var useWrapMode = this.$useWrapMode;\n      var action = delta.action;\n      var start = delta.start;\n      var end = delta.end;\n      var firstRow = start.row;\n      var lastRow = end.row;\n      var len = lastRow - firstRow;\n      var removedFolds = null;\n      this.$updating = true;\n\n      if (len != 0) {\n        if (action === \"remove\") {\n          this[useWrapMode ? \"$wrapData\" : \"$rowLengthCache\"].splice(firstRow, len);\n          var foldLines = this.$foldData;\n          removedFolds = this.getFoldsInRange(delta);\n          this.removeFolds(removedFolds);\n          var foldLine = this.getFoldLine(end.row);\n          var idx = 0;\n\n          if (foldLine) {\n            foldLine.addRemoveChars(end.row, end.column, start.column - end.column);\n            foldLine.shiftRow(-len);\n            var foldLineBefore = this.getFoldLine(firstRow);\n\n            if (foldLineBefore && foldLineBefore !== foldLine) {\n              foldLineBefore.merge(foldLine);\n              foldLine = foldLineBefore;\n            }\n\n            idx = foldLines.indexOf(foldLine) + 1;\n          }\n\n          for (idx; idx < foldLines.length; idx++) {\n            var foldLine = foldLines[idx];\n\n            if (foldLine.start.row >= end.row) {\n              foldLine.shiftRow(-len);\n            }\n          }\n\n          lastRow = firstRow;\n        } else {\n          var args = Array(len);\n          args.unshift(firstRow, 0);\n          var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache;\n          arr.splice.apply(arr, args);\n          var foldLines = this.$foldData;\n          var foldLine = this.getFoldLine(firstRow);\n          var idx = 0;\n\n          if (foldLine) {\n            var cmp = foldLine.range.compareInside(start.row, start.column);\n\n            if (cmp == 0) {\n              foldLine = foldLine.split(start.row, start.column);\n\n              if (foldLine) {\n                foldLine.shiftRow(len);\n                foldLine.addRemoveChars(lastRow, 0, end.column - start.column);\n              }\n            } else if (cmp == -1) {\n              foldLine.addRemoveChars(firstRow, 0, end.column - start.column);\n              foldLine.shiftRow(len);\n            }\n\n            idx = foldLines.indexOf(foldLine) + 1;\n          }\n\n          for (idx; idx < foldLines.length; idx++) {\n            var foldLine = foldLines[idx];\n\n            if (foldLine.start.row >= firstRow) {\n              foldLine.shiftRow(len);\n            }\n          }\n        }\n      } else {\n        len = Math.abs(delta.start.column - delta.end.column);\n\n        if (action === \"remove\") {\n          removedFolds = this.getFoldsInRange(delta);\n          this.removeFolds(removedFolds);\n          len = -len;\n        }\n\n        var foldLine = this.getFoldLine(firstRow);\n\n        if (foldLine) {\n          foldLine.addRemoveChars(firstRow, start.column, len);\n        }\n      }\n\n      if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {\n        console.error(\"doc.getLength() and $wrapData.length have to be the same!\");\n      }\n\n      this.$updating = false;\n      if (useWrapMode) this.$updateWrapData(firstRow, lastRow);else this.$updateRowLengthCache(firstRow, lastRow);\n      return removedFolds;\n    };\n\n    this.$updateRowLengthCache = function (firstRow, lastRow, b) {\n      this.$rowLengthCache[firstRow] = null;\n      this.$rowLengthCache[lastRow] = null;\n    };\n\n    this.$updateWrapData = function (firstRow, lastRow) {\n      var lines = this.doc.getAllLines();\n      var tabSize = this.getTabSize();\n      var wrapData = this.$wrapData;\n      var wrapLimit = this.$wrapLimit;\n      var tokens;\n      var foldLine;\n      var row = firstRow;\n      lastRow = Math.min(lastRow, lines.length - 1);\n\n      while (row <= lastRow) {\n        foldLine = this.getFoldLine(row, foldLine);\n\n        if (!foldLine) {\n          tokens = this.$getDisplayTokens(lines[row]);\n          wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n          row++;\n        } else {\n          tokens = [];\n          foldLine.walk(function (placeholder, row, column, lastColumn) {\n            var walkTokens;\n\n            if (placeholder != null) {\n              walkTokens = this.$getDisplayTokens(placeholder, tokens.length);\n              walkTokens[0] = PLACEHOLDER_START;\n\n              for (var i = 1; i < walkTokens.length; i++) {\n                walkTokens[i] = PLACEHOLDER_BODY;\n              }\n            } else {\n              walkTokens = this.$getDisplayTokens(lines[row].substring(lastColumn, column), tokens.length);\n            }\n\n            tokens = tokens.concat(walkTokens);\n          }.bind(this), foldLine.end.row, lines[foldLine.end.row].length + 1);\n          wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n          row = foldLine.end.row + 1;\n        }\n      }\n    };\n\n    var CHAR = 1,\n        CHAR_EXT = 2,\n        PLACEHOLDER_START = 3,\n        PLACEHOLDER_BODY = 4,\n        PUNCTUATION = 9,\n        SPACE = 10,\n        TAB = 11,\n        TAB_SPACE = 12;\n\n    this.$computeWrapSplits = function (tokens, wrapLimit, tabSize) {\n      if (tokens.length == 0) {\n        return [];\n      }\n\n      var splits = [];\n      var displayLength = tokens.length;\n      var lastSplit = 0,\n          lastDocSplit = 0;\n      var isCode = this.$wrapAsCode;\n      var indentedSoftWrap = this.$indentedSoftWrap;\n      var maxIndent = wrapLimit <= Math.max(2 * tabSize, 8) || indentedSoftWrap === false ? 0 : Math.floor(wrapLimit / 2);\n\n      function getWrapIndent() {\n        var indentation = 0;\n        if (maxIndent === 0) return indentation;\n\n        if (indentedSoftWrap) {\n          for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            if (token == SPACE) indentation += 1;else if (token == TAB) indentation += tabSize;else if (token == TAB_SPACE) continue;else break;\n          }\n        }\n\n        if (isCode && indentedSoftWrap !== false) indentation += tabSize;\n        return Math.min(indentation, maxIndent);\n      }\n\n      function addSplit(screenPos) {\n        var len = screenPos - lastSplit;\n\n        for (var i = lastSplit; i < screenPos; i++) {\n          var ch = tokens[i];\n          if (ch === 12 || ch === 2) len -= 1;\n        }\n\n        if (!splits.length) {\n          indent = getWrapIndent();\n          splits.indent = indent;\n        }\n\n        lastDocSplit += len;\n        splits.push(lastDocSplit);\n        lastSplit = screenPos;\n      }\n\n      var indent = 0;\n\n      while (displayLength - lastSplit > wrapLimit - indent) {\n        var split = lastSplit + wrapLimit - indent;\n\n        if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {\n          addSplit(split);\n          continue;\n        }\n\n        if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {\n          for (split; split != lastSplit - 1; split--) {\n            if (tokens[split] == PLACEHOLDER_START) {\n              break;\n            }\n          }\n\n          if (split > lastSplit) {\n            addSplit(split);\n            continue;\n          }\n\n          split = lastSplit + wrapLimit;\n\n          for (split; split < tokens.length; split++) {\n            if (tokens[split] != PLACEHOLDER_BODY) {\n              break;\n            }\n          }\n\n          if (split == tokens.length) {\n            break; // Breaks the while-loop.\n          }\n\n          addSplit(split);\n          continue;\n        }\n\n        var minSplit = Math.max(split - (wrapLimit - (wrapLimit >> 2)), lastSplit - 1);\n\n        while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n          split--;\n        }\n\n        if (isCode) {\n          while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n            split--;\n          }\n\n          while (split > minSplit && tokens[split] == PUNCTUATION) {\n            split--;\n          }\n        } else {\n          while (split > minSplit && tokens[split] < SPACE) {\n            split--;\n          }\n        }\n\n        if (split > minSplit) {\n          addSplit(++split);\n          continue;\n        }\n\n        split = lastSplit + wrapLimit;\n        if (tokens[split] == CHAR_EXT) split--;\n        addSplit(split - indent);\n      }\n\n      return splits;\n    };\n\n    this.$getDisplayTokens = function (str, offset) {\n      var arr = [];\n      var tabSize;\n      offset = offset || 0;\n\n      for (var i = 0; i < str.length; i++) {\n        var c = str.charCodeAt(i);\n\n        if (c == 9) {\n          tabSize = this.getScreenTabSize(arr.length + offset);\n          arr.push(TAB);\n\n          for (var n = 1; n < tabSize; n++) {\n            arr.push(TAB_SPACE);\n          }\n        } else if (c == 32) {\n          arr.push(SPACE);\n        } else if (c > 39 && c < 48 || c > 57 && c < 64) {\n          arr.push(PUNCTUATION);\n        } else if (c >= 0x1100 && isFullWidth(c)) {\n          arr.push(CHAR, CHAR_EXT);\n        } else {\n          arr.push(CHAR);\n        }\n      }\n\n      return arr;\n    };\n\n    this.$getStringScreenWidth = function (str, maxScreenColumn, screenColumn) {\n      if (maxScreenColumn == 0) return [0, 0];\n      if (maxScreenColumn == null) maxScreenColumn = Infinity;\n      screenColumn = screenColumn || 0;\n      var c, column;\n\n      for (column = 0; column < str.length; column++) {\n        c = str.charCodeAt(column);\n\n        if (c == 9) {\n          screenColumn += this.getScreenTabSize(screenColumn);\n        } else if (c >= 0x1100 && isFullWidth(c)) {\n          screenColumn += 2;\n        } else {\n          screenColumn += 1;\n        }\n\n        if (screenColumn > maxScreenColumn) {\n          break;\n        }\n      }\n\n      return [screenColumn, column];\n    };\n\n    this.lineWidgets = null;\n\n    this.getRowLength = function (row) {\n      var h = 1;\n      if (this.lineWidgets) h += this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n      if (!this.$useWrapMode || !this.$wrapData[row]) return h;else return this.$wrapData[row].length + h;\n    };\n\n    this.getRowLineCount = function (row) {\n      if (!this.$useWrapMode || !this.$wrapData[row]) {\n        return 1;\n      } else {\n        return this.$wrapData[row].length + 1;\n      }\n    };\n\n    this.getRowWrapIndent = function (screenRow) {\n      if (this.$useWrapMode) {\n        var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n        var splits = this.$wrapData[pos.row];\n        return splits.length && splits[0] < pos.column ? splits.indent : 0;\n      } else {\n        return 0;\n      }\n    };\n\n    this.getScreenLastRowColumn = function (screenRow) {\n      var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n      return this.documentToScreenColumn(pos.row, pos.column);\n    };\n\n    this.getDocumentLastRowColumn = function (docRow, docColumn) {\n      var screenRow = this.documentToScreenRow(docRow, docColumn);\n      return this.getScreenLastRowColumn(screenRow);\n    };\n\n    this.getDocumentLastRowColumnPosition = function (docRow, docColumn) {\n      var screenRow = this.documentToScreenRow(docRow, docColumn);\n      return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);\n    };\n\n    this.getRowSplitData = function (row) {\n      if (!this.$useWrapMode) {\n        return undefined;\n      } else {\n        return this.$wrapData[row];\n      }\n    };\n\n    this.getScreenTabSize = function (screenColumn) {\n      return this.$tabSize - (screenColumn % this.$tabSize | 0);\n    };\n\n    this.screenToDocumentRow = function (screenRow, screenColumn) {\n      return this.screenToDocumentPosition(screenRow, screenColumn).row;\n    };\n\n    this.screenToDocumentColumn = function (screenRow, screenColumn) {\n      return this.screenToDocumentPosition(screenRow, screenColumn).column;\n    };\n\n    this.screenToDocumentPosition = function (screenRow, screenColumn, offsetX) {\n      if (screenRow < 0) return {\n        row: 0,\n        column: 0\n      };\n      var line;\n      var docRow = 0;\n      var docColumn = 0;\n      var column;\n      var row = 0;\n      var rowLength = 0;\n      var rowCache = this.$screenRowCache;\n      var i = this.$getRowCacheIndex(rowCache, screenRow);\n      var l = rowCache.length;\n\n      if (l && i >= 0) {\n        var row = rowCache[i];\n        var docRow = this.$docRowCache[i];\n        var doCache = screenRow > rowCache[l - 1];\n      } else {\n        var doCache = !l;\n      }\n\n      var maxRow = this.getLength() - 1;\n      var foldLine = this.getNextFoldLine(docRow);\n      var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n      while (row <= screenRow) {\n        rowLength = this.getRowLength(docRow);\n\n        if (row + rowLength > screenRow || docRow >= maxRow) {\n          break;\n        } else {\n          row += rowLength;\n          docRow++;\n\n          if (docRow > foldStart) {\n            docRow = foldLine.end.row + 1;\n            foldLine = this.getNextFoldLine(docRow, foldLine);\n            foldStart = foldLine ? foldLine.start.row : Infinity;\n          }\n        }\n\n        if (doCache) {\n          this.$docRowCache.push(docRow);\n          this.$screenRowCache.push(row);\n        }\n      }\n\n      if (foldLine && foldLine.start.row <= docRow) {\n        line = this.getFoldDisplayLine(foldLine);\n        docRow = foldLine.start.row;\n      } else if (row + rowLength <= screenRow || docRow > maxRow) {\n        return {\n          row: maxRow,\n          column: this.getLine(maxRow).length\n        };\n      } else {\n        line = this.getLine(docRow);\n        foldLine = null;\n      }\n\n      var wrapIndent = 0,\n          splitIndex = Math.floor(screenRow - row);\n\n      if (this.$useWrapMode) {\n        var splits = this.$wrapData[docRow];\n\n        if (splits) {\n          column = splits[splitIndex];\n\n          if (splitIndex > 0 && splits.length) {\n            wrapIndent = splits.indent;\n            docColumn = splits[splitIndex - 1] || splits[splits.length - 1];\n            line = line.substring(docColumn);\n          }\n        }\n      }\n\n      if (offsetX !== undefined && this.$bidiHandler.isBidiRow(row + splitIndex, docRow, splitIndex)) screenColumn = this.$bidiHandler.offsetToCol(offsetX);\n      docColumn += this.$getStringScreenWidth(line, screenColumn - wrapIndent)[1];\n      if (this.$useWrapMode && docColumn >= column) docColumn = column - 1;\n      if (foldLine) return foldLine.idxToPosition(docColumn);\n      return {\n        row: docRow,\n        column: docColumn\n      };\n    };\n\n    this.documentToScreenPosition = function (docRow, docColumn) {\n      if (typeof docColumn === \"undefined\") var pos = this.$clipPositionToDocument(docRow.row, docRow.column);else pos = this.$clipPositionToDocument(docRow, docColumn);\n      docRow = pos.row;\n      docColumn = pos.column;\n      var screenRow = 0;\n      var foldStartRow = null;\n      var fold = null;\n      fold = this.getFoldAt(docRow, docColumn, 1);\n\n      if (fold) {\n        docRow = fold.start.row;\n        docColumn = fold.start.column;\n      }\n\n      var rowEnd,\n          row = 0;\n      var rowCache = this.$docRowCache;\n      var i = this.$getRowCacheIndex(rowCache, docRow);\n      var l = rowCache.length;\n\n      if (l && i >= 0) {\n        var row = rowCache[i];\n        var screenRow = this.$screenRowCache[i];\n        var doCache = docRow > rowCache[l - 1];\n      } else {\n        var doCache = !l;\n      }\n\n      var foldLine = this.getNextFoldLine(row);\n      var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n      while (row < docRow) {\n        if (row >= foldStart) {\n          rowEnd = foldLine.end.row + 1;\n          if (rowEnd > docRow) break;\n          foldLine = this.getNextFoldLine(rowEnd, foldLine);\n          foldStart = foldLine ? foldLine.start.row : Infinity;\n        } else {\n          rowEnd = row + 1;\n        }\n\n        screenRow += this.getRowLength(row);\n        row = rowEnd;\n\n        if (doCache) {\n          this.$docRowCache.push(row);\n          this.$screenRowCache.push(screenRow);\n        }\n      }\n\n      var textLine = \"\";\n\n      if (foldLine && row >= foldStart) {\n        textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);\n        foldStartRow = foldLine.start.row;\n      } else {\n        textLine = this.getLine(docRow).substring(0, docColumn);\n        foldStartRow = docRow;\n      }\n\n      var wrapIndent = 0;\n\n      if (this.$useWrapMode) {\n        var wrapRow = this.$wrapData[foldStartRow];\n\n        if (wrapRow) {\n          var screenRowOffset = 0;\n\n          while (textLine.length >= wrapRow[screenRowOffset]) {\n            screenRow++;\n            screenRowOffset++;\n          }\n\n          textLine = textLine.substring(wrapRow[screenRowOffset - 1] || 0, textLine.length);\n          wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;\n        }\n      }\n\n      if (this.lineWidgets && this.lineWidgets[row] && this.lineWidgets[row].rowsAbove) screenRow += this.lineWidgets[row].rowsAbove;\n      return {\n        row: screenRow,\n        column: wrapIndent + this.$getStringScreenWidth(textLine)[0]\n      };\n    };\n\n    this.documentToScreenColumn = function (row, docColumn) {\n      return this.documentToScreenPosition(row, docColumn).column;\n    };\n\n    this.documentToScreenRow = function (docRow, docColumn) {\n      return this.documentToScreenPosition(docRow, docColumn).row;\n    };\n\n    this.getScreenLength = function () {\n      var screenRows = 0;\n      var fold = null;\n\n      if (!this.$useWrapMode) {\n        screenRows = this.getLength();\n        var foldData = this.$foldData;\n\n        for (var i = 0; i < foldData.length; i++) {\n          fold = foldData[i];\n          screenRows -= fold.end.row - fold.start.row;\n        }\n      } else {\n        var lastRow = this.$wrapData.length;\n        var row = 0,\n            i = 0;\n        var fold = this.$foldData[i++];\n        var foldStart = fold ? fold.start.row : Infinity;\n\n        while (row < lastRow) {\n          var splits = this.$wrapData[row];\n          screenRows += splits ? splits.length + 1 : 1;\n          row++;\n\n          if (row > foldStart) {\n            row = fold.end.row + 1;\n            fold = this.$foldData[i++];\n            foldStart = fold ? fold.start.row : Infinity;\n          }\n        }\n      }\n\n      if (this.lineWidgets) screenRows += this.$getWidgetScreenLength();\n      return screenRows;\n    };\n\n    this.$setFontMetrics = function (fm) {\n      if (!this.$enableVarChar) return;\n\n      this.$getStringScreenWidth = function (str, maxScreenColumn, screenColumn) {\n        if (maxScreenColumn === 0) return [0, 0];\n        if (!maxScreenColumn) maxScreenColumn = Infinity;\n        screenColumn = screenColumn || 0;\n        var c, column;\n\n        for (column = 0; column < str.length; column++) {\n          c = str.charAt(column);\n\n          if (c === \"\\t\") {\n            screenColumn += this.getScreenTabSize(screenColumn);\n          } else {\n            screenColumn += fm.getCharacterWidth(c);\n          }\n\n          if (screenColumn > maxScreenColumn) {\n            break;\n          }\n        }\n\n        return [screenColumn, column];\n      };\n    };\n\n    this.destroy = function () {\n      if (this.bgTokenizer) {\n        this.bgTokenizer.setDocument(null);\n        this.bgTokenizer = null;\n      }\n\n      this.$stopWorker();\n      this.removeAllListeners();\n      this.selection.detach();\n    };\n\n    this.isFullWidth = isFullWidth;\n\n    function isFullWidth(c) {\n      if (c < 0x1100) return false;\n      return c >= 0x1100 && c <= 0x115F || c >= 0x11A3 && c <= 0x11A7 || c >= 0x11FA && c <= 0x11FF || c >= 0x2329 && c <= 0x232A || c >= 0x2E80 && c <= 0x2E99 || c >= 0x2E9B && c <= 0x2EF3 || c >= 0x2F00 && c <= 0x2FD5 || c >= 0x2FF0 && c <= 0x2FFB || c >= 0x3000 && c <= 0x303E || c >= 0x3041 && c <= 0x3096 || c >= 0x3099 && c <= 0x30FF || c >= 0x3105 && c <= 0x312D || c >= 0x3131 && c <= 0x318E || c >= 0x3190 && c <= 0x31BA || c >= 0x31C0 && c <= 0x31E3 || c >= 0x31F0 && c <= 0x321E || c >= 0x3220 && c <= 0x3247 || c >= 0x3250 && c <= 0x32FE || c >= 0x3300 && c <= 0x4DBF || c >= 0x4E00 && c <= 0xA48C || c >= 0xA490 && c <= 0xA4C6 || c >= 0xA960 && c <= 0xA97C || c >= 0xAC00 && c <= 0xD7A3 || c >= 0xD7B0 && c <= 0xD7C6 || c >= 0xD7CB && c <= 0xD7FB || c >= 0xF900 && c <= 0xFAFF || c >= 0xFE10 && c <= 0xFE19 || c >= 0xFE30 && c <= 0xFE52 || c >= 0xFE54 && c <= 0xFE66 || c >= 0xFE68 && c <= 0xFE6B || c >= 0xFF01 && c <= 0xFF60 || c >= 0xFFE0 && c <= 0xFFE6;\n    }\n  }).call(EditSession.prototype);\n\n  require(\"./edit_session/folding\").Folding.call(EditSession.prototype);\n\n  require(\"./edit_session/bracket_match\").BracketMatch.call(EditSession.prototype);\n\n  config.defineOptions(EditSession.prototype, \"session\", {\n    wrap: {\n      set: function set(value) {\n        if (!value || value == \"off\") value = false;else if (value == \"free\") value = true;else if (value == \"printMargin\") value = -1;else if (typeof value == \"string\") value = parseInt(value, 10) || false;\n        if (this.$wrap == value) return;\n        this.$wrap = value;\n\n        if (!value) {\n          this.setUseWrapMode(false);\n        } else {\n          var col = typeof value == \"number\" ? value : null;\n          this.setWrapLimitRange(col, col);\n          this.setUseWrapMode(true);\n        }\n      },\n      get: function get() {\n        if (this.getUseWrapMode()) {\n          if (this.$wrap == -1) return \"printMargin\";\n          if (!this.getWrapLimitRange().min) return \"free\";\n          return this.$wrap;\n        }\n\n        return \"off\";\n      },\n      handlesSet: true\n    },\n    wrapMethod: {\n      set: function set(val) {\n        val = val == \"auto\" ? this.$mode.type != \"text\" : val != \"text\";\n\n        if (val != this.$wrapAsCode) {\n          this.$wrapAsCode = val;\n\n          if (this.$useWrapMode) {\n            this.$useWrapMode = false;\n            this.setUseWrapMode(true);\n          }\n        }\n      },\n      initialValue: \"auto\"\n    },\n    indentedSoftWrap: {\n      set: function set() {\n        if (this.$useWrapMode) {\n          this.$useWrapMode = false;\n          this.setUseWrapMode(true);\n        }\n      },\n      initialValue: true\n    },\n    firstLineNumber: {\n      set: function set() {\n        this._signal(\"changeBreakpoint\");\n      },\n      initialValue: 1\n    },\n    useWorker: {\n      set: function set(useWorker) {\n        this.$useWorker = useWorker;\n        this.$stopWorker();\n        if (useWorker) this.$startWorker();\n      },\n      initialValue: true\n    },\n    useSoftTabs: {\n      initialValue: true\n    },\n    tabSize: {\n      set: function set(tabSize) {\n        tabSize = parseInt(tabSize);\n\n        if (tabSize > 0 && this.$tabSize !== tabSize) {\n          this.$modified = true;\n          this.$rowLengthCache = [];\n          this.$tabSize = tabSize;\n\n          this._signal(\"changeTabSize\");\n        }\n      },\n      initialValue: 4,\n      handlesSet: true\n    },\n    navigateWithinSoftTabs: {\n      initialValue: false\n    },\n    foldStyle: {\n      set: function set(val) {\n        this.setFoldStyle(val);\n      },\n      handlesSet: true\n    },\n    overwrite: {\n      set: function set(val) {\n        this._signal(\"changeOverwrite\");\n      },\n      initialValue: false\n    },\n    newLineMode: {\n      set: function set(val) {\n        this.doc.setNewLineMode(val);\n      },\n      get: function get() {\n        return this.doc.getNewLineMode();\n      },\n      handlesSet: true\n    },\n    mode: {\n      set: function set(val) {\n        this.setMode(val);\n      },\n      get: function get() {\n        return this.$modeId;\n      },\n      handlesSet: true\n    }\n  });\n  exports.EditSession = EditSession;\n});\nace.define(\"ace/search\", [\"require\", \"exports\", \"module\", \"ace/lib/lang\", \"ace/lib/oop\", \"ace/range\"], function (require, exports, module) {\n  \"use strict\";\n\n  var lang = require(\"./lib/lang\");\n\n  var oop = require(\"./lib/oop\");\n\n  var Range = require(\"./range\").Range;\n\n  var Search = function Search() {\n    this.$options = {};\n  };\n\n  (function () {\n    this.set = function (options) {\n      oop.mixin(this.$options, options);\n      return this;\n    };\n\n    this.getOptions = function () {\n      return lang.copyObject(this.$options);\n    };\n\n    this.setOptions = function (options) {\n      this.$options = options;\n    };\n\n    this.find = function (session) {\n      var options = this.$options;\n      var iterator = this.$matchIterator(session, options);\n      if (!iterator) return false;\n      var firstRange = null;\n      iterator.forEach(function (sr, sc, er, ec) {\n        firstRange = new Range(sr, sc, er, ec);\n\n        if (sc == ec && options.start && options.start.start && options.skipCurrent != false && firstRange.isEqual(options.start)) {\n          firstRange = null;\n          return false;\n        }\n\n        return true;\n      });\n      return firstRange;\n    };\n\n    this.findAll = function (session) {\n      var options = this.$options;\n      if (!options.needle) return [];\n      this.$assembleRegExp(options);\n      var range = options.range;\n      var lines = range ? session.getLines(range.start.row, range.end.row) : session.doc.getAllLines();\n      var ranges = [];\n      var re = options.re;\n\n      if (options.$isMultiLine) {\n        var len = re.length;\n        var maxRow = lines.length - len;\n        var prevRange;\n\n        outer: for (var row = re.offset || 0; row <= maxRow; row++) {\n          for (var j = 0; j < len; j++) {\n            if (lines[row + j].search(re[j]) == -1) continue outer;\n          }\n\n          var startLine = lines[row];\n          var line = lines[row + len - 1];\n          var startIndex = startLine.length - startLine.match(re[0])[0].length;\n          var endIndex = line.match(re[len - 1])[0].length;\n\n          if (prevRange && prevRange.end.row === row && prevRange.end.column > startIndex) {\n            continue;\n          }\n\n          ranges.push(prevRange = new Range(row, startIndex, row + len - 1, endIndex));\n          if (len > 2) row = row + len - 2;\n        }\n      } else {\n        for (var i = 0; i < lines.length; i++) {\n          var matches = lang.getMatchOffsets(lines[i], re);\n\n          for (var j = 0; j < matches.length; j++) {\n            var match = matches[j];\n            ranges.push(new Range(i, match.offset, i, match.offset + match.length));\n          }\n        }\n      }\n\n      if (range) {\n        var startColumn = range.start.column;\n        var endColumn = range.start.column;\n        var i = 0,\n            j = ranges.length - 1;\n\n        while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == range.start.row) {\n          i++;\n        }\n\n        while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == range.end.row) {\n          j--;\n        }\n\n        ranges = ranges.slice(i, j + 1);\n\n        for (i = 0, j = ranges.length; i < j; i++) {\n          ranges[i].start.row += range.start.row;\n          ranges[i].end.row += range.start.row;\n        }\n      }\n\n      return ranges;\n    };\n\n    this.replace = function (input, replacement) {\n      var options = this.$options;\n      var re = this.$assembleRegExp(options);\n      if (options.$isMultiLine) return replacement;\n      if (!re) return;\n      var match = re.exec(input);\n      if (!match || match[0].length != input.length) return null;\n      replacement = input.replace(re, replacement);\n\n      if (options.preserveCase) {\n        replacement = replacement.split(\"\");\n\n        for (var i = Math.min(input.length, input.length); i--;) {\n          var ch = input[i];\n          if (ch && ch.toLowerCase() != ch) replacement[i] = replacement[i].toUpperCase();else replacement[i] = replacement[i].toLowerCase();\n        }\n\n        replacement = replacement.join(\"\");\n      }\n\n      return replacement;\n    };\n\n    this.$assembleRegExp = function (options, $disableFakeMultiline) {\n      if (options.needle instanceof RegExp) return options.re = options.needle;\n      var needle = options.needle;\n      if (!options.needle) return options.re = false;\n      if (!options.regExp) needle = lang.escapeRegExp(needle);\n      if (options.wholeWord) needle = addWordBoundary(needle, options);\n      var modifier = options.caseSensitive ? \"gm\" : \"gmi\";\n      options.$isMultiLine = !$disableFakeMultiline && /[\\n\\r]/.test(needle);\n      if (options.$isMultiLine) return options.re = this.$assembleMultilineRegExp(needle, modifier);\n\n      try {\n        var re = new RegExp(needle, modifier);\n      } catch (e) {\n        re = false;\n      }\n\n      return options.re = re;\n    };\n\n    this.$assembleMultilineRegExp = function (needle, modifier) {\n      var parts = needle.replace(/\\r\\n|\\r|\\n/g, \"$\\n^\").split(\"\\n\");\n      var re = [];\n\n      for (var i = 0; i < parts.length; i++) {\n        try {\n          re.push(new RegExp(parts[i], modifier));\n        } catch (e) {\n          return false;\n        }\n      }\n\n      return re;\n    };\n\n    this.$matchIterator = function (session, options) {\n      var re = this.$assembleRegExp(options);\n      if (!re) return false;\n      var backwards = options.backwards == true;\n      var skipCurrent = options.skipCurrent != false;\n      var range = options.range;\n      var start = options.start;\n      if (!start) start = range ? range[backwards ? \"end\" : \"start\"] : session.selection.getRange();\n      if (start.start) start = start[skipCurrent != backwards ? \"end\" : \"start\"];\n      var firstRow = range ? range.start.row : 0;\n      var lastRow = range ? range.end.row : session.getLength() - 1;\n\n      if (backwards) {\n        var forEach = function forEach(callback) {\n          var row = start.row;\n          if (forEachInLine(row, start.column, callback)) return;\n\n          for (row--; row >= firstRow; row--) {\n            if (forEachInLine(row, Number.MAX_VALUE, callback)) return;\n          }\n\n          if (options.wrap == false) return;\n\n          for (row = lastRow, firstRow = start.row; row >= firstRow; row--) {\n            if (forEachInLine(row, Number.MAX_VALUE, callback)) return;\n          }\n        };\n      } else {\n        var forEach = function forEach(callback) {\n          var row = start.row;\n          if (forEachInLine(row, start.column, callback)) return;\n\n          for (row = row + 1; row <= lastRow; row++) {\n            if (forEachInLine(row, 0, callback)) return;\n          }\n\n          if (options.wrap == false) return;\n\n          for (row = firstRow, lastRow = start.row; row <= lastRow; row++) {\n            if (forEachInLine(row, 0, callback)) return;\n          }\n        };\n      }\n\n      if (options.$isMultiLine) {\n        var len = re.length;\n\n        var forEachInLine = function forEachInLine(row, offset, callback) {\n          var startRow = backwards ? row - len + 1 : row;\n          if (startRow < 0) return;\n          var line = session.getLine(startRow);\n          var startIndex = line.search(re[0]);\n          if (!backwards && startIndex < offset || startIndex === -1) return;\n\n          for (var i = 1; i < len; i++) {\n            line = session.getLine(startRow + i);\n            if (line.search(re[i]) == -1) return;\n          }\n\n          var endIndex = line.match(re[len - 1])[0].length;\n          if (backwards && endIndex > offset) return;\n          if (callback(startRow, startIndex, startRow + len - 1, endIndex)) return true;\n        };\n      } else if (backwards) {\n        var forEachInLine = function forEachInLine(row, endIndex, callback) {\n          var line = session.getLine(row);\n          var matches = [];\n          var m,\n              last = 0;\n          re.lastIndex = 0;\n\n          while (m = re.exec(line)) {\n            var length = m[0].length;\n            last = m.index;\n\n            if (!length) {\n              if (last >= line.length) break;\n              re.lastIndex = last += 1;\n            }\n\n            if (m.index + length > endIndex) break;\n            matches.push(m.index, length);\n          }\n\n          for (var i = matches.length - 1; i >= 0; i -= 2) {\n            var column = matches[i - 1];\n            var length = matches[i];\n            if (callback(row, column, row, column + length)) return true;\n          }\n        };\n      } else {\n        var forEachInLine = function forEachInLine(row, startIndex, callback) {\n          var line = session.getLine(row);\n          var last;\n          var m;\n          re.lastIndex = startIndex;\n\n          while (m = re.exec(line)) {\n            var length = m[0].length;\n            last = m.index;\n            if (callback(row, last, row, last + length)) return true;\n\n            if (!length) {\n              re.lastIndex = last += 1;\n              if (last >= line.length) return false;\n            }\n          }\n        };\n      }\n\n      return {\n        forEach: forEach\n      };\n    };\n  }).call(Search.prototype);\n\n  function addWordBoundary(needle, options) {\n    function wordBoundary(c) {\n      if (/\\w/.test(c) || options.regExp) return \"\\\\b\";\n      return \"\";\n    }\n\n    return wordBoundary(needle[0]) + needle + wordBoundary(needle[needle.length - 1]);\n  }\n\n  exports.Search = Search;\n});\nace.define(\"ace/keyboard/hash_handler\", [\"require\", \"exports\", \"module\", \"ace/lib/keys\", \"ace/lib/useragent\"], function (require, exports, module) {\n  \"use strict\";\n\n  var keyUtil = require(\"../lib/keys\");\n\n  var useragent = require(\"../lib/useragent\");\n\n  var KEY_MODS = keyUtil.KEY_MODS;\n\n  function HashHandler(config, platform) {\n    this.platform = platform || (useragent.isMac ? \"mac\" : \"win\");\n    this.commands = {};\n    this.commandKeyBinding = {};\n    this.addCommands(config);\n    this.$singleCommand = true;\n  }\n\n  function MultiHashHandler(config, platform) {\n    HashHandler.call(this, config, platform);\n    this.$singleCommand = false;\n  }\n\n  MultiHashHandler.prototype = HashHandler.prototype;\n  (function () {\n    this.addCommand = function (command) {\n      if (this.commands[command.name]) this.removeCommand(command);\n      this.commands[command.name] = command;\n      if (command.bindKey) this._buildKeyHash(command);\n    };\n\n    this.removeCommand = function (command, keepCommand) {\n      var name = command && (typeof command === 'string' ? command : command.name);\n      command = this.commands[name];\n      if (!keepCommand) delete this.commands[name];\n      var ckb = this.commandKeyBinding;\n\n      for (var keyId in ckb) {\n        var cmdGroup = ckb[keyId];\n\n        if (cmdGroup == command) {\n          delete ckb[keyId];\n        } else if (Array.isArray(cmdGroup)) {\n          var i = cmdGroup.indexOf(command);\n\n          if (i != -1) {\n            cmdGroup.splice(i, 1);\n            if (cmdGroup.length == 1) ckb[keyId] = cmdGroup[0];\n          }\n        }\n      }\n    };\n\n    this.bindKey = function (key, command, position) {\n      if (typeof key == \"object\" && key) {\n        if (position == undefined) position = key.position;\n        key = key[this.platform];\n      }\n\n      if (!key) return;\n      if (typeof command == \"function\") return this.addCommand({\n        exec: command,\n        bindKey: key,\n        name: command.name || key\n      });\n      key.split(\"|\").forEach(function (keyPart) {\n        var chain = \"\";\n\n        if (keyPart.indexOf(\" \") != -1) {\n          var parts = keyPart.split(/\\s+/);\n          keyPart = parts.pop();\n          parts.forEach(function (keyPart) {\n            var binding = this.parseKeys(keyPart);\n            var id = KEY_MODS[binding.hashId] + binding.key;\n            chain += (chain ? \" \" : \"\") + id;\n\n            this._addCommandToBinding(chain, \"chainKeys\");\n          }, this);\n          chain += \" \";\n        }\n\n        var binding = this.parseKeys(keyPart);\n        var id = KEY_MODS[binding.hashId] + binding.key;\n\n        this._addCommandToBinding(chain + id, command, position);\n      }, this);\n    };\n\n    function getPosition(command) {\n      return typeof command == \"object\" && command.bindKey && command.bindKey.position || (command.isDefault ? -100 : 0);\n    }\n\n    this._addCommandToBinding = function (keyId, command, position) {\n      var ckb = this.commandKeyBinding,\n          i;\n\n      if (!command) {\n        delete ckb[keyId];\n      } else if (!ckb[keyId] || this.$singleCommand) {\n        ckb[keyId] = command;\n      } else {\n        if (!Array.isArray(ckb[keyId])) {\n          ckb[keyId] = [ckb[keyId]];\n        } else if ((i = ckb[keyId].indexOf(command)) != -1) {\n          ckb[keyId].splice(i, 1);\n        }\n\n        if (typeof position != \"number\") {\n          position = getPosition(command);\n        }\n\n        var commands = ckb[keyId];\n\n        for (i = 0; i < commands.length; i++) {\n          var other = commands[i];\n          var otherPos = getPosition(other);\n          if (otherPos > position) break;\n        }\n\n        commands.splice(i, 0, command);\n      }\n    };\n\n    this.addCommands = function (commands) {\n      commands && Object.keys(commands).forEach(function (name) {\n        var command = commands[name];\n        if (!command) return;\n        if (typeof command === \"string\") return this.bindKey(command, name);\n        if (typeof command === \"function\") command = {\n          exec: command\n        };\n        if (typeof command !== \"object\") return;\n        if (!command.name) command.name = name;\n        this.addCommand(command);\n      }, this);\n    };\n\n    this.removeCommands = function (commands) {\n      Object.keys(commands).forEach(function (name) {\n        this.removeCommand(commands[name]);\n      }, this);\n    };\n\n    this.bindKeys = function (keyList) {\n      Object.keys(keyList).forEach(function (key) {\n        this.bindKey(key, keyList[key]);\n      }, this);\n    };\n\n    this._buildKeyHash = function (command) {\n      this.bindKey(command.bindKey, command);\n    };\n\n    this.parseKeys = function (keys) {\n      var parts = keys.toLowerCase().split(/[\\-\\+]([\\-\\+])?/).filter(function (x) {\n        return x;\n      });\n      var key = parts.pop();\n      var keyCode = keyUtil[key];\n      if (keyUtil.FUNCTION_KEYS[keyCode]) key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();else if (!parts.length) return {\n        key: key,\n        hashId: -1\n      };else if (parts.length == 1 && parts[0] == \"shift\") return {\n        key: key.toUpperCase(),\n        hashId: -1\n      };\n      var hashId = 0;\n\n      for (var i = parts.length; i--;) {\n        var modifier = keyUtil.KEY_MODS[parts[i]];\n\n        if (modifier == null) {\n          if (typeof console != \"undefined\") console.error(\"invalid modifier \" + parts[i] + \" in \" + keys);\n          return false;\n        }\n\n        hashId |= modifier;\n      }\n\n      return {\n        key: key,\n        hashId: hashId\n      };\n    };\n\n    this.findKeyCommand = function findKeyCommand(hashId, keyString) {\n      var key = KEY_MODS[hashId] + keyString;\n      return this.commandKeyBinding[key];\n    };\n\n    this.handleKeyboard = function (data, hashId, keyString, keyCode) {\n      if (keyCode < 0) return;\n      var key = KEY_MODS[hashId] + keyString;\n      var command = this.commandKeyBinding[key];\n\n      if (data.$keyChain) {\n        data.$keyChain += \" \" + key;\n        command = this.commandKeyBinding[data.$keyChain] || command;\n      }\n\n      if (command) {\n        if (command == \"chainKeys\" || command[command.length - 1] == \"chainKeys\") {\n          data.$keyChain = data.$keyChain || key;\n          return {\n            command: \"null\"\n          };\n        }\n      }\n\n      if (data.$keyChain) {\n        if ((!hashId || hashId == 4) && keyString.length == 1) data.$keyChain = data.$keyChain.slice(0, -key.length - 1); // wait for input\n        else if (hashId == -1 || keyCode > 0) data.$keyChain = \"\"; // reset keyChain\n      }\n\n      return {\n        command: command\n      };\n    };\n\n    this.getStatusText = function (editor, data) {\n      return data.$keyChain || \"\";\n    };\n  }).call(HashHandler.prototype);\n  exports.HashHandler = HashHandler;\n  exports.MultiHashHandler = MultiHashHandler;\n});\nace.define(\"ace/commands/command_manager\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/keyboard/hash_handler\", \"ace/lib/event_emitter\"], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"../lib/oop\");\n\n  var MultiHashHandler = require(\"../keyboard/hash_handler\").MultiHashHandler;\n\n  var EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\n  var CommandManager = function CommandManager(platform, commands) {\n    MultiHashHandler.call(this, commands, platform);\n    this.byName = this.commands;\n    this.setDefaultHandler(\"exec\", function (e) {\n      return e.command.exec(e.editor, e.args || {});\n    });\n  };\n\n  oop.inherits(CommandManager, MultiHashHandler);\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.exec = function (command, editor, args) {\n      if (Array.isArray(command)) {\n        for (var i = command.length; i--;) {\n          if (this.exec(command[i], editor, args)) return true;\n        }\n\n        return false;\n      }\n\n      if (typeof command === \"string\") command = this.commands[command];\n      if (!command) return false;\n      if (editor && editor.$readOnly && !command.readOnly) return false;\n      if (this.$checkCommandState != false && command.isAvailable && !command.isAvailable(editor)) return false;\n      var e = {\n        editor: editor,\n        command: command,\n        args: args\n      };\n      e.returnValue = this._emit(\"exec\", e);\n\n      this._signal(\"afterExec\", e);\n\n      return e.returnValue === false ? false : true;\n    };\n\n    this.toggleRecording = function (editor) {\n      if (this.$inReplay) return;\n      editor && editor._emit(\"changeStatus\");\n\n      if (this.recording) {\n        this.macro.pop();\n        this.off(\"exec\", this.$addCommandToMacro);\n        if (!this.macro.length) this.macro = this.oldMacro;\n        return this.recording = false;\n      }\n\n      if (!this.$addCommandToMacro) {\n        this.$addCommandToMacro = function (e) {\n          this.macro.push([e.command, e.args]);\n        }.bind(this);\n      }\n\n      this.oldMacro = this.macro;\n      this.macro = [];\n      this.on(\"exec\", this.$addCommandToMacro);\n      return this.recording = true;\n    };\n\n    this.replay = function (editor) {\n      if (this.$inReplay || !this.macro) return;\n      if (this.recording) return this.toggleRecording(editor);\n\n      try {\n        this.$inReplay = true;\n        this.macro.forEach(function (x) {\n          if (typeof x == \"string\") this.exec(x, editor);else this.exec(x[0], editor, x[1]);\n        }, this);\n      } finally {\n        this.$inReplay = false;\n      }\n    };\n\n    this.trimMacro = function (m) {\n      return m.map(function (x) {\n        if (typeof x[0] != \"string\") x[0] = x[0].name;\n        if (!x[1]) x = x[0];\n        return x;\n      });\n    };\n  }).call(CommandManager.prototype);\n  exports.CommandManager = CommandManager;\n});\nace.define(\"ace/commands/default_commands\", [\"require\", \"exports\", \"module\", \"ace/lib/lang\", \"ace/config\", \"ace/range\"], function (require, exports, module) {\n  \"use strict\";\n\n  var lang = require(\"../lib/lang\");\n\n  var config = require(\"../config\");\n\n  var Range = require(\"../range\").Range;\n\n  function bindKey(win, mac) {\n    return {\n      win: win,\n      mac: mac\n    };\n  }\n\n  exports.commands = [{\n    name: \"showSettingsMenu\",\n    bindKey: bindKey(\"Ctrl-,\", \"Command-,\"),\n    exec: function exec(editor) {\n      config.loadModule(\"ace/ext/settings_menu\", function (module) {\n        module.init(editor);\n        editor.showSettingsMenu();\n      });\n    },\n    readOnly: true\n  }, {\n    name: \"goToNextError\",\n    bindKey: bindKey(\"Alt-E\", \"F4\"),\n    exec: function exec(editor) {\n      config.loadModule(\"./ext/error_marker\", function (module) {\n        module.showErrorMarker(editor, 1);\n      });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n  }, {\n    name: \"goToPreviousError\",\n    bindKey: bindKey(\"Alt-Shift-E\", \"Shift-F4\"),\n    exec: function exec(editor) {\n      config.loadModule(\"./ext/error_marker\", function (module) {\n        module.showErrorMarker(editor, -1);\n      });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n  }, {\n    name: \"selectall\",\n    description: \"Select all\",\n    bindKey: bindKey(\"Ctrl-A\", \"Command-A\"),\n    exec: function exec(editor) {\n      editor.selectAll();\n    },\n    readOnly: true\n  }, {\n    name: \"centerselection\",\n    description: \"Center selection\",\n    bindKey: bindKey(null, \"Ctrl-L\"),\n    exec: function exec(editor) {\n      editor.centerSelection();\n    },\n    readOnly: true\n  }, {\n    name: \"gotoline\",\n    description: \"Go to line...\",\n    bindKey: bindKey(\"Ctrl-L\", \"Command-L\"),\n    exec: function exec(editor, line) {\n      if (typeof line === \"number\" && !isNaN(line)) editor.gotoLine(line);\n      editor.prompt({\n        $type: \"gotoLine\"\n      });\n    },\n    readOnly: true\n  }, {\n    name: \"fold\",\n    bindKey: bindKey(\"Alt-L|Ctrl-F1\", \"Command-Alt-L|Command-F1\"),\n    exec: function exec(editor) {\n      editor.session.toggleFold(false);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n  }, {\n    name: \"unfold\",\n    bindKey: bindKey(\"Alt-Shift-L|Ctrl-Shift-F1\", \"Command-Alt-Shift-L|Command-Shift-F1\"),\n    exec: function exec(editor) {\n      editor.session.toggleFold(true);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n  }, {\n    name: \"toggleFoldWidget\",\n    bindKey: bindKey(\"F2\", \"F2\"),\n    exec: function exec(editor) {\n      editor.session.toggleFoldWidget();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n  }, {\n    name: \"toggleParentFoldWidget\",\n    bindKey: bindKey(\"Alt-F2\", \"Alt-F2\"),\n    exec: function exec(editor) {\n      editor.session.toggleFoldWidget(true);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n  }, {\n    name: \"foldall\",\n    description: \"Fold all\",\n    bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n    exec: function exec(editor) {\n      editor.session.foldAll();\n    },\n    scrollIntoView: \"center\",\n    readOnly: true\n  }, {\n    name: \"foldAllComments\",\n    description: \"Fold all comments\",\n    bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n    exec: function exec(editor) {\n      editor.session.foldAllComments();\n    },\n    scrollIntoView: \"center\",\n    readOnly: true\n  }, {\n    name: \"foldOther\",\n    description: \"Fold other\",\n    bindKey: bindKey(\"Alt-0\", \"Command-Option-0\"),\n    exec: function exec(editor) {\n      editor.session.foldAll();\n      editor.session.unfold(editor.selection.getAllRanges());\n    },\n    scrollIntoView: \"center\",\n    readOnly: true\n  }, {\n    name: \"unfoldall\",\n    description: \"Unfold all\",\n    bindKey: bindKey(\"Alt-Shift-0\", \"Command-Option-Shift-0\"),\n    exec: function exec(editor) {\n      editor.session.unfold();\n    },\n    scrollIntoView: \"center\",\n    readOnly: true\n  }, {\n    name: \"findnext\",\n    description: \"Find next\",\n    bindKey: bindKey(\"Ctrl-K\", \"Command-G\"),\n    exec: function exec(editor) {\n      editor.findNext();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n  }, {\n    name: \"findprevious\",\n    description: \"Find previous\",\n    bindKey: bindKey(\"Ctrl-Shift-K\", \"Command-Shift-G\"),\n    exec: function exec(editor) {\n      editor.findPrevious();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n  }, {\n    name: \"selectOrFindNext\",\n    description: \"Select or find next\",\n    bindKey: bindKey(\"Alt-K\", \"Ctrl-G\"),\n    exec: function exec(editor) {\n      if (editor.selection.isEmpty()) editor.selection.selectWord();else editor.findNext();\n    },\n    readOnly: true\n  }, {\n    name: \"selectOrFindPrevious\",\n    description: \"Select or find previous\",\n    bindKey: bindKey(\"Alt-Shift-K\", \"Ctrl-Shift-G\"),\n    exec: function exec(editor) {\n      if (editor.selection.isEmpty()) editor.selection.selectWord();else editor.findPrevious();\n    },\n    readOnly: true\n  }, {\n    name: \"find\",\n    description: \"Find\",\n    bindKey: bindKey(\"Ctrl-F\", \"Command-F\"),\n    exec: function exec(editor) {\n      config.loadModule(\"ace/ext/searchbox\", function (e) {\n        e.Search(editor);\n      });\n    },\n    readOnly: true\n  }, {\n    name: \"overwrite\",\n    description: \"Overwrite\",\n    bindKey: \"Insert\",\n    exec: function exec(editor) {\n      editor.toggleOverwrite();\n    },\n    readOnly: true\n  }, {\n    name: \"selecttostart\",\n    description: \"Select to start\",\n    bindKey: bindKey(\"Ctrl-Shift-Home\", \"Command-Shift-Home|Command-Shift-Up\"),\n    exec: function exec(editor) {\n      editor.getSelection().selectFileStart();\n    },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n  }, {\n    name: \"gotostart\",\n    description: \"Go to start\",\n    bindKey: bindKey(\"Ctrl-Home\", \"Command-Home|Command-Up\"),\n    exec: function exec(editor) {\n      editor.navigateFileStart();\n    },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n  }, {\n    name: \"selectup\",\n    description: \"Select up\",\n    bindKey: bindKey(\"Shift-Up\", \"Shift-Up|Ctrl-Shift-P\"),\n    exec: function exec(editor) {\n      editor.getSelection().selectUp();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"golineup\",\n    description: \"Go line up\",\n    bindKey: bindKey(\"Up\", \"Up|Ctrl-P\"),\n    exec: function exec(editor, args) {\n      editor.navigateUp(args.times);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selecttoend\",\n    description: \"Select to end\",\n    bindKey: bindKey(\"Ctrl-Shift-End\", \"Command-Shift-End|Command-Shift-Down\"),\n    exec: function exec(editor) {\n      editor.getSelection().selectFileEnd();\n    },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n  }, {\n    name: \"gotoend\",\n    description: \"Go to end\",\n    bindKey: bindKey(\"Ctrl-End\", \"Command-End|Command-Down\"),\n    exec: function exec(editor) {\n      editor.navigateFileEnd();\n    },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n  }, {\n    name: \"selectdown\",\n    description: \"Select down\",\n    bindKey: bindKey(\"Shift-Down\", \"Shift-Down|Ctrl-Shift-N\"),\n    exec: function exec(editor) {\n      editor.getSelection().selectDown();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"golinedown\",\n    description: \"Go line down\",\n    bindKey: bindKey(\"Down\", \"Down|Ctrl-N\"),\n    exec: function exec(editor, args) {\n      editor.navigateDown(args.times);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selectwordleft\",\n    description: \"Select word left\",\n    bindKey: bindKey(\"Ctrl-Shift-Left\", \"Option-Shift-Left\"),\n    exec: function exec(editor) {\n      editor.getSelection().selectWordLeft();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"gotowordleft\",\n    description: \"Go to word left\",\n    bindKey: bindKey(\"Ctrl-Left\", \"Option-Left\"),\n    exec: function exec(editor) {\n      editor.navigateWordLeft();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selecttolinestart\",\n    description: \"Select to line start\",\n    bindKey: bindKey(\"Alt-Shift-Left\", \"Command-Shift-Left|Ctrl-Shift-A\"),\n    exec: function exec(editor) {\n      editor.getSelection().selectLineStart();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"gotolinestart\",\n    description: \"Go to line start\",\n    bindKey: bindKey(\"Alt-Left|Home\", \"Command-Left|Home|Ctrl-A\"),\n    exec: function exec(editor) {\n      editor.navigateLineStart();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selectleft\",\n    description: \"Select left\",\n    bindKey: bindKey(\"Shift-Left\", \"Shift-Left|Ctrl-Shift-B\"),\n    exec: function exec(editor) {\n      editor.getSelection().selectLeft();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"gotoleft\",\n    description: \"Go to left\",\n    bindKey: bindKey(\"Left\", \"Left|Ctrl-B\"),\n    exec: function exec(editor, args) {\n      editor.navigateLeft(args.times);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selectwordright\",\n    description: \"Select word right\",\n    bindKey: bindKey(\"Ctrl-Shift-Right\", \"Option-Shift-Right\"),\n    exec: function exec(editor) {\n      editor.getSelection().selectWordRight();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"gotowordright\",\n    description: \"Go to word right\",\n    bindKey: bindKey(\"Ctrl-Right\", \"Option-Right\"),\n    exec: function exec(editor) {\n      editor.navigateWordRight();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selecttolineend\",\n    description: \"Select to line end\",\n    bindKey: bindKey(\"Alt-Shift-Right\", \"Command-Shift-Right|Shift-End|Ctrl-Shift-E\"),\n    exec: function exec(editor) {\n      editor.getSelection().selectLineEnd();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"gotolineend\",\n    description: \"Go to line end\",\n    bindKey: bindKey(\"Alt-Right|End\", \"Command-Right|End|Ctrl-E\"),\n    exec: function exec(editor) {\n      editor.navigateLineEnd();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selectright\",\n    description: \"Select right\",\n    bindKey: bindKey(\"Shift-Right\", \"Shift-Right\"),\n    exec: function exec(editor) {\n      editor.getSelection().selectRight();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"gotoright\",\n    description: \"Go to right\",\n    bindKey: bindKey(\"Right\", \"Right|Ctrl-F\"),\n    exec: function exec(editor, args) {\n      editor.navigateRight(args.times);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selectpagedown\",\n    description: \"Select page down\",\n    bindKey: \"Shift-PageDown\",\n    exec: function exec(editor) {\n      editor.selectPageDown();\n    },\n    readOnly: true\n  }, {\n    name: \"pagedown\",\n    description: \"Page down\",\n    bindKey: bindKey(null, \"Option-PageDown\"),\n    exec: function exec(editor) {\n      editor.scrollPageDown();\n    },\n    readOnly: true\n  }, {\n    name: \"gotopagedown\",\n    description: \"Go to page down\",\n    bindKey: bindKey(\"PageDown\", \"PageDown|Ctrl-V\"),\n    exec: function exec(editor) {\n      editor.gotoPageDown();\n    },\n    readOnly: true\n  }, {\n    name: \"selectpageup\",\n    description: \"Select page up\",\n    bindKey: \"Shift-PageUp\",\n    exec: function exec(editor) {\n      editor.selectPageUp();\n    },\n    readOnly: true\n  }, {\n    name: \"pageup\",\n    description: \"Page up\",\n    bindKey: bindKey(null, \"Option-PageUp\"),\n    exec: function exec(editor) {\n      editor.scrollPageUp();\n    },\n    readOnly: true\n  }, {\n    name: \"gotopageup\",\n    description: \"Go to page up\",\n    bindKey: \"PageUp\",\n    exec: function exec(editor) {\n      editor.gotoPageUp();\n    },\n    readOnly: true\n  }, {\n    name: \"scrollup\",\n    description: \"Scroll up\",\n    bindKey: bindKey(\"Ctrl-Up\", null),\n    exec: function exec(e) {\n      e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight);\n    },\n    readOnly: true\n  }, {\n    name: \"scrolldown\",\n    description: \"Scroll down\",\n    bindKey: bindKey(\"Ctrl-Down\", null),\n    exec: function exec(e) {\n      e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight);\n    },\n    readOnly: true\n  }, {\n    name: \"selectlinestart\",\n    description: \"Select line start\",\n    bindKey: \"Shift-Home\",\n    exec: function exec(editor) {\n      editor.getSelection().selectLineStart();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selectlineend\",\n    description: \"Select line end\",\n    bindKey: \"Shift-End\",\n    exec: function exec(editor) {\n      editor.getSelection().selectLineEnd();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"togglerecording\",\n    description: \"Toggle recording\",\n    bindKey: bindKey(\"Ctrl-Alt-E\", \"Command-Option-E\"),\n    exec: function exec(editor) {\n      editor.commands.toggleRecording(editor);\n    },\n    readOnly: true\n  }, {\n    name: \"replaymacro\",\n    description: \"Replay macro\",\n    bindKey: bindKey(\"Ctrl-Shift-E\", \"Command-Shift-E\"),\n    exec: function exec(editor) {\n      editor.commands.replay(editor);\n    },\n    readOnly: true\n  }, {\n    name: \"jumptomatching\",\n    description: \"Jump to matching\",\n    bindKey: bindKey(\"Ctrl-\\\\|Ctrl-P\", \"Command-\\\\\"),\n    exec: function exec(editor) {\n      editor.jumpToMatching();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n  }, {\n    name: \"selecttomatching\",\n    description: \"Select to matching\",\n    bindKey: bindKey(\"Ctrl-Shift-\\\\|Ctrl-Shift-P\", \"Command-Shift-\\\\\"),\n    exec: function exec(editor) {\n      editor.jumpToMatching(true);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n  }, {\n    name: \"expandToMatching\",\n    description: \"Expand to matching\",\n    bindKey: bindKey(\"Ctrl-Shift-M\", \"Ctrl-Shift-M\"),\n    exec: function exec(editor) {\n      editor.jumpToMatching(true, true);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n  }, {\n    name: \"passKeysToBrowser\",\n    description: \"Pass keys to browser\",\n    bindKey: bindKey(null, null),\n    exec: function exec() {},\n    passEvent: true,\n    readOnly: true\n  }, {\n    name: \"copy\",\n    description: \"Copy\",\n    exec: function exec(editor) {},\n    readOnly: true\n  }, {\n    name: \"cut\",\n    description: \"Cut\",\n    exec: function exec(editor) {\n      var cutLine = editor.$copyWithEmptySelection && editor.selection.isEmpty();\n      var range = cutLine ? editor.selection.getLineRange() : editor.selection.getRange();\n\n      editor._emit(\"cut\", range);\n\n      if (!range.isEmpty()) editor.session.remove(range);\n      editor.clearSelection();\n    },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n  }, {\n    name: \"paste\",\n    description: \"Paste\",\n    exec: function exec(editor, args) {\n      editor.$handlePaste(args);\n    },\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"removeline\",\n    description: \"Remove line\",\n    bindKey: bindKey(\"Ctrl-D\", \"Command-D\"),\n    exec: function exec(editor) {\n      editor.removeLines();\n    },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEachLine\"\n  }, {\n    name: \"duplicateSelection\",\n    description: \"Duplicate selection\",\n    bindKey: bindKey(\"Ctrl-Shift-D\", \"Command-Shift-D\"),\n    exec: function exec(editor) {\n      editor.duplicateSelection();\n    },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n  }, {\n    name: \"sortlines\",\n    description: \"Sort lines\",\n    bindKey: bindKey(\"Ctrl-Alt-S\", \"Command-Alt-S\"),\n    exec: function exec(editor) {\n      editor.sortLines();\n    },\n    scrollIntoView: \"selection\",\n    multiSelectAction: \"forEachLine\"\n  }, {\n    name: \"togglecomment\",\n    description: \"Toggle comment\",\n    bindKey: bindKey(\"Ctrl-/\", \"Command-/\"),\n    exec: function exec(editor) {\n      editor.toggleCommentLines();\n    },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n  }, {\n    name: \"toggleBlockComment\",\n    description: \"Toggle block comment\",\n    bindKey: bindKey(\"Ctrl-Shift-/\", \"Command-Shift-/\"),\n    exec: function exec(editor) {\n      editor.toggleBlockComment();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n  }, {\n    name: \"modifyNumberUp\",\n    description: \"Modify number up\",\n    bindKey: bindKey(\"Ctrl-Shift-Up\", \"Alt-Shift-Up\"),\n    exec: function exec(editor) {\n      editor.modifyNumber(1);\n    },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n  }, {\n    name: \"modifyNumberDown\",\n    description: \"Modify number down\",\n    bindKey: bindKey(\"Ctrl-Shift-Down\", \"Alt-Shift-Down\"),\n    exec: function exec(editor) {\n      editor.modifyNumber(-1);\n    },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n  }, {\n    name: \"replace\",\n    description: \"Replace\",\n    bindKey: bindKey(\"Ctrl-H\", \"Command-Option-F\"),\n    exec: function exec(editor) {\n      config.loadModule(\"ace/ext/searchbox\", function (e) {\n        e.Search(editor, true);\n      });\n    }\n  }, {\n    name: \"undo\",\n    description: \"Undo\",\n    bindKey: bindKey(\"Ctrl-Z\", \"Command-Z\"),\n    exec: function exec(editor) {\n      editor.undo();\n    }\n  }, {\n    name: \"redo\",\n    description: \"Redo\",\n    bindKey: bindKey(\"Ctrl-Shift-Z|Ctrl-Y\", \"Command-Shift-Z|Command-Y\"),\n    exec: function exec(editor) {\n      editor.redo();\n    }\n  }, {\n    name: \"copylinesup\",\n    description: \"Copy lines up\",\n    bindKey: bindKey(\"Alt-Shift-Up\", \"Command-Option-Up\"),\n    exec: function exec(editor) {\n      editor.copyLinesUp();\n    },\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"movelinesup\",\n    description: \"Move lines up\",\n    bindKey: bindKey(\"Alt-Up\", \"Option-Up\"),\n    exec: function exec(editor) {\n      editor.moveLinesUp();\n    },\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"copylinesdown\",\n    description: \"Copy lines down\",\n    bindKey: bindKey(\"Alt-Shift-Down\", \"Command-Option-Down\"),\n    exec: function exec(editor) {\n      editor.copyLinesDown();\n    },\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"movelinesdown\",\n    description: \"Move lines down\",\n    bindKey: bindKey(\"Alt-Down\", \"Option-Down\"),\n    exec: function exec(editor) {\n      editor.moveLinesDown();\n    },\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"del\",\n    description: \"Delete\",\n    bindKey: bindKey(\"Delete\", \"Delete|Ctrl-D|Shift-Delete\"),\n    exec: function exec(editor) {\n      editor.remove(\"right\");\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"backspace\",\n    description: \"Backspace\",\n    bindKey: bindKey(\"Shift-Backspace|Backspace\", \"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"),\n    exec: function exec(editor) {\n      editor.remove(\"left\");\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"cut_or_delete\",\n    description: \"Cut or delete\",\n    bindKey: bindKey(\"Shift-Delete\", null),\n    exec: function exec(editor) {\n      if (editor.selection.isEmpty()) {\n        editor.remove(\"left\");\n      } else {\n        return false;\n      }\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"removetolinestart\",\n    description: \"Remove to line start\",\n    bindKey: bindKey(\"Alt-Backspace\", \"Command-Backspace\"),\n    exec: function exec(editor) {\n      editor.removeToLineStart();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"removetolineend\",\n    description: \"Remove to line end\",\n    bindKey: bindKey(\"Alt-Delete\", \"Ctrl-K|Command-Delete\"),\n    exec: function exec(editor) {\n      editor.removeToLineEnd();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"removetolinestarthard\",\n    description: \"Remove to line start hard\",\n    bindKey: bindKey(\"Ctrl-Shift-Backspace\", null),\n    exec: function exec(editor) {\n      var range = editor.selection.getRange();\n      range.start.column = 0;\n      editor.session.remove(range);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"removetolineendhard\",\n    description: \"Remove to line end hard\",\n    bindKey: bindKey(\"Ctrl-Shift-Delete\", null),\n    exec: function exec(editor) {\n      var range = editor.selection.getRange();\n      range.end.column = Number.MAX_VALUE;\n      editor.session.remove(range);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"removewordleft\",\n    description: \"Remove word left\",\n    bindKey: bindKey(\"Ctrl-Backspace\", \"Alt-Backspace|Ctrl-Alt-Backspace\"),\n    exec: function exec(editor) {\n      editor.removeWordLeft();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"removewordright\",\n    description: \"Remove word right\",\n    bindKey: bindKey(\"Ctrl-Delete\", \"Alt-Delete\"),\n    exec: function exec(editor) {\n      editor.removeWordRight();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"outdent\",\n    description: \"Outdent\",\n    bindKey: bindKey(\"Shift-Tab\", \"Shift-Tab\"),\n    exec: function exec(editor) {\n      editor.blockOutdent();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n  }, {\n    name: \"indent\",\n    description: \"Indent\",\n    bindKey: bindKey(\"Tab\", \"Tab\"),\n    exec: function exec(editor) {\n      editor.indent();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n  }, {\n    name: \"blockoutdent\",\n    description: \"Block outdent\",\n    bindKey: bindKey(\"Ctrl-[\", \"Ctrl-[\"),\n    exec: function exec(editor) {\n      editor.blockOutdent();\n    },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n  }, {\n    name: \"blockindent\",\n    description: \"Block indent\",\n    bindKey: bindKey(\"Ctrl-]\", \"Ctrl-]\"),\n    exec: function exec(editor) {\n      editor.blockIndent();\n    },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n  }, {\n    name: \"insertstring\",\n    description: \"Insert string\",\n    exec: function exec(editor, str) {\n      editor.insert(str);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"inserttext\",\n    description: \"Insert text\",\n    exec: function exec(editor, args) {\n      editor.insert(lang.stringRepeat(args.text || \"\", args.times || 1));\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"splitline\",\n    description: \"Split line\",\n    bindKey: bindKey(null, \"Ctrl-O\"),\n    exec: function exec(editor) {\n      editor.splitLine();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"transposeletters\",\n    description: \"Transpose letters\",\n    bindKey: bindKey(\"Alt-Shift-X\", \"Ctrl-T\"),\n    exec: function exec(editor) {\n      editor.transposeLetters();\n    },\n    multiSelectAction: function multiSelectAction(editor) {\n      editor.transposeSelections(1);\n    },\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"touppercase\",\n    description: \"To uppercase\",\n    bindKey: bindKey(\"Ctrl-U\", \"Ctrl-U\"),\n    exec: function exec(editor) {\n      editor.toUpperCase();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"tolowercase\",\n    description: \"To lowercase\",\n    bindKey: bindKey(\"Ctrl-Shift-U\", \"Ctrl-Shift-U\"),\n    exec: function exec(editor) {\n      editor.toLowerCase();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"autoindent\",\n    description: \"Auto Indent\",\n    bindKey: bindKey(null, null),\n    exec: function exec(editor) {\n      editor.autoIndent();\n    },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"animate\"\n  }, {\n    name: \"expandtoline\",\n    description: \"Expand to line\",\n    bindKey: bindKey(\"Ctrl-Shift-L\", \"Command-Shift-L\"),\n    exec: function exec(editor) {\n      var range = editor.selection.getRange();\n      range.start.column = range.end.column = 0;\n      range.end.row++;\n      editor.selection.setRange(range, false);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"joinlines\",\n    description: \"Join lines\",\n    bindKey: bindKey(null, null),\n    exec: function exec(editor) {\n      var isBackwards = editor.selection.isBackwards();\n      var selectionStart = isBackwards ? editor.selection.getSelectionLead() : editor.selection.getSelectionAnchor();\n      var selectionEnd = isBackwards ? editor.selection.getSelectionAnchor() : editor.selection.getSelectionLead();\n      var firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length;\n      var selectedText = editor.session.doc.getTextRange(editor.selection.getRange());\n      var selectedCount = selectedText.replace(/\\n\\s*/, \" \").length;\n      var insertLine = editor.session.doc.getLine(selectionStart.row);\n\n      for (var i = selectionStart.row + 1; i <= selectionEnd.row + 1; i++) {\n        var curLine = lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));\n\n        if (curLine.length !== 0) {\n          curLine = \" \" + curLine;\n        }\n\n        insertLine += curLine;\n      }\n\n      if (selectionEnd.row + 1 < editor.session.doc.getLength() - 1) {\n        insertLine += editor.session.doc.getNewLineCharacter();\n      }\n\n      editor.clearSelection();\n      editor.session.doc.replace(new Range(selectionStart.row, 0, selectionEnd.row + 2, 0), insertLine);\n\n      if (selectedCount > 0) {\n        editor.selection.moveCursorTo(selectionStart.row, selectionStart.column);\n        editor.selection.selectTo(selectionStart.row, selectionStart.column + selectedCount);\n      } else {\n        firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length > firstLineEndCol ? firstLineEndCol + 1 : firstLineEndCol;\n        editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);\n      }\n    },\n    multiSelectAction: \"forEach\",\n    readOnly: true\n  }, {\n    name: \"invertSelection\",\n    description: \"Invert selection\",\n    bindKey: bindKey(null, null),\n    exec: function exec(editor) {\n      var endRow = editor.session.doc.getLength() - 1;\n      var endCol = editor.session.doc.getLine(endRow).length;\n      var ranges = editor.selection.rangeList.ranges;\n      var newRanges = [];\n\n      if (ranges.length < 1) {\n        ranges = [editor.selection.getRange()];\n      }\n\n      for (var i = 0; i < ranges.length; i++) {\n        if (i == ranges.length - 1) {\n          if (!(ranges[i].end.row === endRow && ranges[i].end.column === endCol)) {\n            newRanges.push(new Range(ranges[i].end.row, ranges[i].end.column, endRow, endCol));\n          }\n        }\n\n        if (i === 0) {\n          if (!(ranges[i].start.row === 0 && ranges[i].start.column === 0)) {\n            newRanges.push(new Range(0, 0, ranges[i].start.row, ranges[i].start.column));\n          }\n        } else {\n          newRanges.push(new Range(ranges[i - 1].end.row, ranges[i - 1].end.column, ranges[i].start.row, ranges[i].start.column));\n        }\n      }\n\n      editor.exitMultiSelectMode();\n      editor.clearSelection();\n\n      for (var i = 0; i < newRanges.length; i++) {\n        editor.selection.addRange(newRanges[i], false);\n      }\n    },\n    readOnly: true,\n    scrollIntoView: \"none\"\n  }, {\n    name: \"addLineAfter\",\n    exec: function exec(editor) {\n      editor.selection.clearSelection();\n      editor.navigateLineEnd();\n      editor.insert(\"\\n\");\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"addLineBefore\",\n    exec: function exec(editor) {\n      editor.selection.clearSelection();\n      var cursor = editor.getCursorPosition();\n      editor.selection.moveTo(cursor.row - 1, Number.MAX_VALUE);\n      editor.insert(\"\\n\");\n      if (cursor.row === 0) editor.navigateUp();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"openCommandPallete\",\n    description: \"Open command pallete\",\n    bindKey: bindKey(\"F1\", \"F1\"),\n    exec: function exec(editor) {\n      editor.prompt({\n        $type: \"commands\"\n      });\n    },\n    readOnly: true\n  }, {\n    name: \"modeSelect\",\n    description: \"Change language mode...\",\n    bindKey: bindKey(null, null),\n    exec: function exec(editor) {\n      editor.prompt({\n        $type: \"modes\"\n      });\n    },\n    readOnly: true\n  }];\n\n  for (var i = 1; i < 9; i++) {\n    exports.commands.push({\n      name: \"foldToLevel\" + i,\n      description: \"Fold To Level \" + i,\n      level: i,\n      exec: function exec(editor) {\n        editor.session.foldToLevel(this.level);\n      },\n      scrollIntoView: \"center\",\n      readOnly: true\n    });\n  }\n});\nace.define(\"ace/editor\", [\"require\", \"exports\", \"module\", \"ace/lib/fixoldbrowsers\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/lib/lang\", \"ace/lib/useragent\", \"ace/keyboard/textinput\", \"ace/mouse/mouse_handler\", \"ace/mouse/fold_handler\", \"ace/keyboard/keybinding\", \"ace/edit_session\", \"ace/search\", \"ace/range\", \"ace/lib/event_emitter\", \"ace/commands/command_manager\", \"ace/commands/default_commands\", \"ace/config\", \"ace/token_iterator\", \"ace/clipboard\"], function (require, exports, module) {\n  \"use strict\";\n\n  require(\"./lib/fixoldbrowsers\");\n\n  var oop = require(\"./lib/oop\");\n\n  var dom = require(\"./lib/dom\");\n\n  var lang = require(\"./lib/lang\");\n\n  var useragent = require(\"./lib/useragent\");\n\n  var TextInput = require(\"./keyboard/textinput\").TextInput;\n\n  var MouseHandler = require(\"./mouse/mouse_handler\").MouseHandler;\n\n  var FoldHandler = require(\"./mouse/fold_handler\").FoldHandler;\n\n  var KeyBinding = require(\"./keyboard/keybinding\").KeyBinding;\n\n  var EditSession = require(\"./edit_session\").EditSession;\n\n  var Search = require(\"./search\").Search;\n\n  var Range = require(\"./range\").Range;\n\n  var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\n  var CommandManager = require(\"./commands/command_manager\").CommandManager;\n\n  var defaultCommands = require(\"./commands/default_commands\").commands;\n\n  var config = require(\"./config\");\n\n  var TokenIterator = require(\"./token_iterator\").TokenIterator;\n\n  var clipboard = require(\"./clipboard\");\n\n  var Editor = function Editor(renderer, session, options) {\n    this.$toDestroy = [];\n    var container = renderer.getContainerElement();\n    this.container = container;\n    this.renderer = renderer;\n    this.id = \"editor\" + ++Editor.$uid;\n    this.commands = new CommandManager(useragent.isMac ? \"mac\" : \"win\", defaultCommands);\n\n    if (typeof document == \"object\") {\n      this.textInput = new TextInput(renderer.getTextAreaContainer(), this);\n      this.renderer.textarea = this.textInput.getElement();\n      this.$mouseHandler = new MouseHandler(this);\n      new FoldHandler(this);\n    }\n\n    this.keyBinding = new KeyBinding(this);\n    this.$search = new Search().set({\n      wrap: true\n    });\n    this.$historyTracker = this.$historyTracker.bind(this);\n    this.commands.on(\"exec\", this.$historyTracker);\n    this.$initOperationListeners();\n    this._$emitInputEvent = lang.delayedCall(function () {\n      this._signal(\"input\", {});\n\n      if (this.session && this.session.bgTokenizer) this.session.bgTokenizer.scheduleStart();\n    }.bind(this));\n    this.on(\"change\", function (_, _self) {\n      _self._$emitInputEvent.schedule(31);\n    });\n    this.setSession(session || options && options.session || new EditSession(\"\"));\n    config.resetOptions(this);\n    if (options) this.setOptions(options);\n\n    config._signal(\"editor\", this);\n  };\n\n  Editor.$uid = 0;\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.$initOperationListeners = function () {\n      this.commands.on(\"exec\", this.startOperation.bind(this), true);\n      this.commands.on(\"afterExec\", this.endOperation.bind(this), true);\n      this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this, true));\n      this.on(\"change\", function () {\n        if (!this.curOp) {\n          this.startOperation();\n          this.curOp.selectionBefore = this.$lastSel;\n        }\n\n        this.curOp.docChanged = true;\n      }.bind(this), true);\n      this.on(\"changeSelection\", function () {\n        if (!this.curOp) {\n          this.startOperation();\n          this.curOp.selectionBefore = this.$lastSel;\n        }\n\n        this.curOp.selectionChanged = true;\n      }.bind(this), true);\n    };\n\n    this.curOp = null;\n    this.prevOp = {};\n\n    this.startOperation = function (commandEvent) {\n      if (this.curOp) {\n        if (!commandEvent || this.curOp.command) return;\n        this.prevOp = this.curOp;\n      }\n\n      if (!commandEvent) {\n        this.previousCommand = null;\n        commandEvent = {};\n      }\n\n      this.$opResetTimer.schedule();\n      this.curOp = this.session.curOp = {\n        command: commandEvent.command || {},\n        args: commandEvent.args,\n        scrollTop: this.renderer.scrollTop\n      };\n      this.curOp.selectionBefore = this.selection.toJSON();\n    };\n\n    this.endOperation = function (e) {\n      if (this.curOp && this.session) {\n        if (e && e.returnValue === false || !this.session) return this.curOp = null;\n        if (e == true && this.curOp.command && this.curOp.command.name == \"mouse\") return;\n\n        this._signal(\"beforeEndOperation\");\n\n        if (!this.curOp) return;\n        var command = this.curOp.command;\n        var scrollIntoView = command && command.scrollIntoView;\n\n        if (scrollIntoView) {\n          switch (scrollIntoView) {\n            case \"center-animate\":\n              scrollIntoView = \"animate\";\n\n            case \"center\":\n              this.renderer.scrollCursorIntoView(null, 0.5);\n              break;\n\n            case \"animate\":\n            case \"cursor\":\n              this.renderer.scrollCursorIntoView();\n              break;\n\n            case \"selectionPart\":\n              var range = this.selection.getRange();\n              var config = this.renderer.layerConfig;\n\n              if (range.start.row >= config.lastRow || range.end.row <= config.firstRow) {\n                this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);\n              }\n\n              break;\n\n            default:\n              break;\n          }\n\n          if (scrollIntoView == \"animate\") this.renderer.animateScrolling(this.curOp.scrollTop);\n        }\n\n        var sel = this.selection.toJSON();\n        this.curOp.selectionAfter = sel;\n        this.$lastSel = this.selection.toJSON();\n        this.session.getUndoManager().addSelection(sel);\n        this.prevOp = this.curOp;\n        this.curOp = null;\n      }\n    };\n\n    this.$mergeableCommands = [\"backspace\", \"del\", \"insertstring\"];\n\n    this.$historyTracker = function (e) {\n      if (!this.$mergeUndoDeltas) return;\n      var prev = this.prevOp;\n      var mergeableCommands = this.$mergeableCommands;\n      var shouldMerge = prev.command && e.command.name == prev.command.name;\n\n      if (e.command.name == \"insertstring\") {\n        var text = e.args;\n        if (this.mergeNextCommand === undefined) this.mergeNextCommand = true;\n        shouldMerge = shouldMerge && this.mergeNextCommand // previous command allows to coalesce with\n        && (!/\\s/.test(text) || /\\s/.test(prev.args)); // previous insertion was of same type\n\n        this.mergeNextCommand = true;\n      } else {\n        shouldMerge = shouldMerge && mergeableCommands.indexOf(e.command.name) !== -1; // the command is mergeable\n      }\n\n      if (this.$mergeUndoDeltas != \"always\" && Date.now() - this.sequenceStartTime > 2000) {\n        shouldMerge = false; // the sequence is too long\n      }\n\n      if (shouldMerge) this.session.mergeUndoDeltas = true;else if (mergeableCommands.indexOf(e.command.name) !== -1) this.sequenceStartTime = Date.now();\n    };\n\n    this.setKeyboardHandler = function (keyboardHandler, cb) {\n      if (keyboardHandler && typeof keyboardHandler === \"string\" && keyboardHandler != \"ace\") {\n        this.$keybindingId = keyboardHandler;\n\n        var _self = this;\n\n        config.loadModule([\"keybinding\", keyboardHandler], function (module) {\n          if (_self.$keybindingId == keyboardHandler) _self.keyBinding.setKeyboardHandler(module && module.handler);\n          cb && cb();\n        });\n      } else {\n        this.$keybindingId = null;\n        this.keyBinding.setKeyboardHandler(keyboardHandler);\n        cb && cb();\n      }\n    };\n\n    this.getKeyboardHandler = function () {\n      return this.keyBinding.getKeyboardHandler();\n    };\n\n    this.setSession = function (session) {\n      if (this.session == session) return;\n      if (this.curOp) this.endOperation();\n      this.curOp = {};\n      var oldSession = this.session;\n\n      if (oldSession) {\n        this.session.off(\"change\", this.$onDocumentChange);\n        this.session.off(\"changeMode\", this.$onChangeMode);\n        this.session.off(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n        this.session.off(\"changeTabSize\", this.$onChangeTabSize);\n        this.session.off(\"changeWrapLimit\", this.$onChangeWrapLimit);\n        this.session.off(\"changeWrapMode\", this.$onChangeWrapMode);\n        this.session.off(\"changeFold\", this.$onChangeFold);\n        this.session.off(\"changeFrontMarker\", this.$onChangeFrontMarker);\n        this.session.off(\"changeBackMarker\", this.$onChangeBackMarker);\n        this.session.off(\"changeBreakpoint\", this.$onChangeBreakpoint);\n        this.session.off(\"changeAnnotation\", this.$onChangeAnnotation);\n        this.session.off(\"changeOverwrite\", this.$onCursorChange);\n        this.session.off(\"changeScrollTop\", this.$onScrollTopChange);\n        this.session.off(\"changeScrollLeft\", this.$onScrollLeftChange);\n        var selection = this.session.getSelection();\n        selection.off(\"changeCursor\", this.$onCursorChange);\n        selection.off(\"changeSelection\", this.$onSelectionChange);\n      }\n\n      this.session = session;\n\n      if (session) {\n        this.$onDocumentChange = this.onDocumentChange.bind(this);\n        session.on(\"change\", this.$onDocumentChange);\n        this.renderer.setSession(session);\n        this.$onChangeMode = this.onChangeMode.bind(this);\n        session.on(\"changeMode\", this.$onChangeMode);\n        this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);\n        session.on(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n        this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);\n        session.on(\"changeTabSize\", this.$onChangeTabSize);\n        this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);\n        session.on(\"changeWrapLimit\", this.$onChangeWrapLimit);\n        this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);\n        session.on(\"changeWrapMode\", this.$onChangeWrapMode);\n        this.$onChangeFold = this.onChangeFold.bind(this);\n        session.on(\"changeFold\", this.$onChangeFold);\n        this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);\n        this.session.on(\"changeFrontMarker\", this.$onChangeFrontMarker);\n        this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);\n        this.session.on(\"changeBackMarker\", this.$onChangeBackMarker);\n        this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);\n        this.session.on(\"changeBreakpoint\", this.$onChangeBreakpoint);\n        this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);\n        this.session.on(\"changeAnnotation\", this.$onChangeAnnotation);\n        this.$onCursorChange = this.onCursorChange.bind(this);\n        this.session.on(\"changeOverwrite\", this.$onCursorChange);\n        this.$onScrollTopChange = this.onScrollTopChange.bind(this);\n        this.session.on(\"changeScrollTop\", this.$onScrollTopChange);\n        this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);\n        this.session.on(\"changeScrollLeft\", this.$onScrollLeftChange);\n        this.selection = session.getSelection();\n        this.selection.on(\"changeCursor\", this.$onCursorChange);\n        this.$onSelectionChange = this.onSelectionChange.bind(this);\n        this.selection.on(\"changeSelection\", this.$onSelectionChange);\n        this.onChangeMode();\n        this.onCursorChange();\n        this.onScrollTopChange();\n        this.onScrollLeftChange();\n        this.onSelectionChange();\n        this.onChangeFrontMarker();\n        this.onChangeBackMarker();\n        this.onChangeBreakpoint();\n        this.onChangeAnnotation();\n        this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();\n        this.renderer.updateFull();\n      } else {\n        this.selection = null;\n        this.renderer.setSession(session);\n      }\n\n      this._signal(\"changeSession\", {\n        session: session,\n        oldSession: oldSession\n      });\n\n      this.curOp = null;\n      oldSession && oldSession._signal(\"changeEditor\", {\n        oldEditor: this\n      });\n      session && session._signal(\"changeEditor\", {\n        editor: this\n      });\n      if (session && session.bgTokenizer) session.bgTokenizer.scheduleStart();\n    };\n\n    this.getSession = function () {\n      return this.session;\n    };\n\n    this.setValue = function (val, cursorPos) {\n      this.session.doc.setValue(val);\n      if (!cursorPos) this.selectAll();else if (cursorPos == 1) this.navigateFileEnd();else if (cursorPos == -1) this.navigateFileStart();\n      return val;\n    };\n\n    this.getValue = function () {\n      return this.session.getValue();\n    };\n\n    this.getSelection = function () {\n      return this.selection;\n    };\n\n    this.resize = function (force) {\n      this.renderer.onResize(force);\n    };\n\n    this.setTheme = function (theme, cb) {\n      this.renderer.setTheme(theme, cb);\n    };\n\n    this.getTheme = function () {\n      return this.renderer.getTheme();\n    };\n\n    this.setStyle = function (style) {\n      this.renderer.setStyle(style);\n    };\n\n    this.unsetStyle = function (style) {\n      this.renderer.unsetStyle(style);\n    };\n\n    this.getFontSize = function () {\n      return this.getOption(\"fontSize\") || dom.computedStyle(this.container).fontSize;\n    };\n\n    this.setFontSize = function (size) {\n      this.setOption(\"fontSize\", size);\n    };\n\n    this.$highlightBrackets = function () {\n      if (this.$highlightPending) {\n        return;\n      }\n\n      var self = this;\n      this.$highlightPending = true;\n      setTimeout(function () {\n        self.$highlightPending = false;\n        var session = self.session;\n        if (!session || !session.bgTokenizer) return;\n\n        if (session.$bracketHighlight) {\n          session.$bracketHighlight.markerIds.forEach(function (id) {\n            session.removeMarker(id);\n          });\n          session.$bracketHighlight = null;\n        }\n\n        var ranges = session.getMatchingBracketRanges(self.getCursorPosition());\n        if (!ranges && session.$mode.getMatching) ranges = session.$mode.getMatching(self.session);\n        if (!ranges) return;\n        var markerType = \"ace_bracket\";\n\n        if (!Array.isArray(ranges)) {\n          ranges = [ranges];\n        } else if (ranges.length == 1) {\n          markerType = \"ace_error_bracket\";\n        }\n\n        if (ranges.length == 2) {\n          if (Range.comparePoints(ranges[0].end, ranges[1].start) == 0) ranges = [Range.fromPoints(ranges[0].start, ranges[1].end)];else if (Range.comparePoints(ranges[0].start, ranges[1].end) == 0) ranges = [Range.fromPoints(ranges[1].start, ranges[0].end)];\n        }\n\n        session.$bracketHighlight = {\n          ranges: ranges,\n          markerIds: ranges.map(function (range) {\n            return session.addMarker(range, markerType, \"text\");\n          })\n        };\n      }, 50);\n    };\n\n    this.$highlightTags = function () {\n      if (this.$highlightTagPending) return;\n      var self = this;\n      this.$highlightTagPending = true;\n      setTimeout(function () {\n        self.$highlightTagPending = false;\n        var session = self.session;\n        if (!session || !session.bgTokenizer) return;\n        var pos = self.getCursorPosition();\n        var iterator = new TokenIterator(self.session, pos.row, pos.column);\n        var token = iterator.getCurrentToken();\n\n        if (!token || !/\\b(?:tag-open|tag-name)/.test(token.type)) {\n          session.removeMarker(session.$tagHighlight);\n          session.$tagHighlight = null;\n          return;\n        }\n\n        if (token.type.indexOf(\"tag-open\") !== -1) {\n          token = iterator.stepForward();\n          if (!token) return;\n        }\n\n        var tag = token.value;\n        var currentTag = token.value;\n        var depth = 0;\n        var prevToken = iterator.stepBackward();\n\n        if (prevToken.value === '<') {\n          do {\n            prevToken = token;\n            token = iterator.stepForward();\n\n            if (token) {\n              if (token.type.indexOf('tag-name') !== -1) {\n                currentTag = token.value;\n\n                if (tag === currentTag) {\n                  if (prevToken.value === '<') {\n                    depth++;\n                  } else if (prevToken.value === '</') {\n                    depth--;\n                  }\n                }\n              } else if (tag === currentTag && token.value === '/>') {\n                // self closing tag\n                depth--;\n              }\n            }\n          } while (token && depth >= 0);\n        } else {\n          do {\n            token = prevToken;\n            prevToken = iterator.stepBackward();\n\n            if (token) {\n              if (token.type.indexOf('tag-name') !== -1) {\n                if (tag === token.value) {\n                  if (prevToken.value === '<') {\n                    depth++;\n                  } else if (prevToken.value === '</') {\n                    depth--;\n                  }\n                }\n              } else if (token.value === '/>') {\n                // self closing tag\n                var stepCount = 0;\n                var tmpToken = prevToken;\n\n                while (tmpToken) {\n                  if (tmpToken.type.indexOf('tag-name') !== -1 && tmpToken.value === tag) {\n                    depth--;\n                    break;\n                  } else if (tmpToken.value === '<') {\n                    break;\n                  }\n\n                  tmpToken = iterator.stepBackward();\n                  stepCount++;\n                }\n\n                for (var i = 0; i < stepCount; i++) {\n                  iterator.stepForward();\n                }\n              }\n            }\n          } while (prevToken && depth <= 0);\n\n          iterator.stepForward();\n        }\n\n        if (!token) {\n          session.removeMarker(session.$tagHighlight);\n          session.$tagHighlight = null;\n          return;\n        }\n\n        var row = iterator.getCurrentTokenRow();\n        var column = iterator.getCurrentTokenColumn();\n        var range = new Range(row, column, row, column + token.value.length);\n        var sbm = session.$backMarkers[session.$tagHighlight];\n\n        if (session.$tagHighlight && sbm != undefined && range.compareRange(sbm.range) !== 0) {\n          session.removeMarker(session.$tagHighlight);\n          session.$tagHighlight = null;\n        }\n\n        if (!session.$tagHighlight) session.$tagHighlight = session.addMarker(range, \"ace_bracket\", \"text\");\n      }, 50);\n    };\n\n    this.focus = function () {\n      var _self = this;\n\n      setTimeout(function () {\n        if (!_self.isFocused()) _self.textInput.focus();\n      });\n      this.textInput.focus();\n    };\n\n    this.isFocused = function () {\n      return this.textInput.isFocused();\n    };\n\n    this.blur = function () {\n      this.textInput.blur();\n    };\n\n    this.onFocus = function (e) {\n      if (this.$isFocused) return;\n      this.$isFocused = true;\n      this.renderer.showCursor();\n      this.renderer.visualizeFocus();\n\n      this._emit(\"focus\", e);\n    };\n\n    this.onBlur = function (e) {\n      if (!this.$isFocused) return;\n      this.$isFocused = false;\n      this.renderer.hideCursor();\n      this.renderer.visualizeBlur();\n\n      this._emit(\"blur\", e);\n    };\n\n    this.$cursorChange = function () {\n      this.renderer.updateCursor();\n      this.$highlightBrackets();\n      this.$highlightTags();\n      this.$updateHighlightActiveLine();\n    };\n\n    this.onDocumentChange = function (delta) {\n      var wrap = this.session.$useWrapMode;\n      var lastRow = delta.start.row == delta.end.row ? delta.end.row : Infinity;\n      this.renderer.updateLines(delta.start.row, lastRow, wrap);\n\n      this._signal(\"change\", delta);\n\n      this.$cursorChange();\n    };\n\n    this.onTokenizerUpdate = function (e) {\n      var rows = e.data;\n      this.renderer.updateLines(rows.first, rows.last);\n    };\n\n    this.onScrollTopChange = function () {\n      this.renderer.scrollToY(this.session.getScrollTop());\n    };\n\n    this.onScrollLeftChange = function () {\n      this.renderer.scrollToX(this.session.getScrollLeft());\n    };\n\n    this.onCursorChange = function () {\n      this.$cursorChange();\n\n      this._signal(\"changeSelection\");\n    };\n\n    this.$updateHighlightActiveLine = function () {\n      var session = this.getSession();\n      var highlight;\n\n      if (this.$highlightActiveLine) {\n        if (this.$selectionStyle != \"line\" || !this.selection.isMultiLine()) highlight = this.getCursorPosition();\n        if (this.renderer.theme && this.renderer.theme.$selectionColorConflict && !this.selection.isEmpty()) highlight = false;\n        if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1)) highlight = false;\n      }\n\n      if (session.$highlightLineMarker && !highlight) {\n        session.removeMarker(session.$highlightLineMarker.id);\n        session.$highlightLineMarker = null;\n      } else if (!session.$highlightLineMarker && highlight) {\n        var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);\n        range.id = session.addMarker(range, \"ace_active-line\", \"screenLine\");\n        session.$highlightLineMarker = range;\n      } else if (highlight) {\n        session.$highlightLineMarker.start.row = highlight.row;\n        session.$highlightLineMarker.end.row = highlight.row;\n        session.$highlightLineMarker.start.column = highlight.column;\n\n        session._signal(\"changeBackMarker\");\n      }\n    };\n\n    this.onSelectionChange = function (e) {\n      var session = this.session;\n\n      if (session.$selectionMarker) {\n        session.removeMarker(session.$selectionMarker);\n      }\n\n      session.$selectionMarker = null;\n\n      if (!this.selection.isEmpty()) {\n        var range = this.selection.getRange();\n        var style = this.getSelectionStyle();\n        session.$selectionMarker = session.addMarker(range, \"ace_selection\", style);\n      } else {\n        this.$updateHighlightActiveLine();\n      }\n\n      var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();\n      this.session.highlight(re);\n\n      this._signal(\"changeSelection\");\n    };\n\n    this.$getSelectionHighLightRegexp = function () {\n      var session = this.session;\n      var selection = this.getSelectionRange();\n      if (selection.isEmpty() || selection.isMultiLine()) return;\n      var startColumn = selection.start.column;\n      var endColumn = selection.end.column;\n      var line = session.getLine(selection.start.row);\n      var needle = line.substring(startColumn, endColumn);\n      if (needle.length > 5000 || !/[\\w\\d]/.test(needle)) return;\n      var re = this.$search.$assembleRegExp({\n        wholeWord: true,\n        caseSensitive: true,\n        needle: needle\n      });\n      var wordWithBoundary = line.substring(startColumn - 1, endColumn + 1);\n      if (!re.test(wordWithBoundary)) return;\n      return re;\n    };\n\n    this.onChangeFrontMarker = function () {\n      this.renderer.updateFrontMarkers();\n    };\n\n    this.onChangeBackMarker = function () {\n      this.renderer.updateBackMarkers();\n    };\n\n    this.onChangeBreakpoint = function () {\n      this.renderer.updateBreakpoints();\n    };\n\n    this.onChangeAnnotation = function () {\n      this.renderer.setAnnotations(this.session.getAnnotations());\n    };\n\n    this.onChangeMode = function (e) {\n      this.renderer.updateText();\n\n      this._emit(\"changeMode\", e);\n    };\n\n    this.onChangeWrapLimit = function () {\n      this.renderer.updateFull();\n    };\n\n    this.onChangeWrapMode = function () {\n      this.renderer.onResize(true);\n    };\n\n    this.onChangeFold = function () {\n      this.$updateHighlightActiveLine();\n      this.renderer.updateFull();\n    };\n\n    this.getSelectedText = function () {\n      return this.session.getTextRange(this.getSelectionRange());\n    };\n\n    this.getCopyText = function () {\n      var text = this.getSelectedText();\n      var nl = this.session.doc.getNewLineCharacter();\n      var copyLine = false;\n\n      if (!text && this.$copyWithEmptySelection) {\n        copyLine = true;\n        var ranges = this.selection.getAllRanges();\n\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n          if (i && ranges[i - 1].start.row == range.start.row) continue;\n          text += this.session.getLine(range.start.row) + nl;\n        }\n      }\n\n      var e = {\n        text: text\n      };\n\n      this._signal(\"copy\", e);\n\n      clipboard.lineMode = copyLine ? e.text : \"\";\n      return e.text;\n    };\n\n    this.onCopy = function () {\n      this.commands.exec(\"copy\", this);\n    };\n\n    this.onCut = function () {\n      this.commands.exec(\"cut\", this);\n    };\n\n    this.onPaste = function (text, event) {\n      var e = {\n        text: text,\n        event: event\n      };\n      this.commands.exec(\"paste\", this, e);\n    };\n\n    this.$handlePaste = function (e) {\n      if (typeof e == \"string\") e = {\n        text: e\n      };\n\n      this._signal(\"paste\", e);\n\n      var text = e.text;\n      var lineMode = text == clipboard.lineMode;\n      var session = this.session;\n\n      if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {\n        if (lineMode) session.insert({\n          row: this.selection.lead.row,\n          column: 0\n        }, text);else this.insert(text);\n      } else if (lineMode) {\n        this.selection.rangeList.ranges.forEach(function (range) {\n          session.insert({\n            row: range.start.row,\n            column: 0\n          }, text);\n        });\n      } else {\n        var lines = text.split(/\\r\\n|\\r|\\n/);\n        var ranges = this.selection.rangeList.ranges;\n        var isFullLine = lines.length == 2 && (!lines[0] || !lines[1]);\n        if (lines.length != ranges.length || isFullLine) return this.commands.exec(\"insertstring\", this, text);\n\n        for (var i = ranges.length; i--;) {\n          var range = ranges[i];\n          if (!range.isEmpty()) session.remove(range);\n          session.insert(range.start, lines[i]);\n        }\n      }\n    };\n\n    this.execCommand = function (command, args) {\n      return this.commands.exec(command, this, args);\n    };\n\n    this.insert = function (text, pasted) {\n      var session = this.session;\n      var mode = session.getMode();\n      var cursor = this.getCursorPosition();\n\n      if (this.getBehavioursEnabled() && !pasted) {\n        var transform = mode.transformAction(session.getState(cursor.row), 'insertion', this, session, text);\n\n        if (transform) {\n          if (text !== transform.text) {\n            if (!this.inVirtualSelectionMode) {\n              this.session.mergeUndoDeltas = false;\n              this.mergeNextCommand = false;\n            }\n          }\n\n          text = transform.text;\n        }\n      }\n\n      if (text == \"\\t\") text = this.session.getTabString();\n\n      if (!this.selection.isEmpty()) {\n        var range = this.getSelectionRange();\n        cursor = this.session.remove(range);\n        this.clearSelection();\n      } else if (this.session.getOverwrite() && text.indexOf(\"\\n\") == -1) {\n        var range = new Range.fromPoints(cursor, cursor);\n        range.end.column += text.length;\n        this.session.remove(range);\n      }\n\n      if (text == \"\\n\" || text == \"\\r\\n\") {\n        var line = session.getLine(cursor.row);\n\n        if (cursor.column > line.search(/\\S|$/)) {\n          var d = line.substr(cursor.column).search(/\\S|$/);\n          session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d);\n        }\n      }\n\n      this.clearSelection();\n      var start = cursor.column;\n      var lineState = session.getState(cursor.row);\n      var line = session.getLine(cursor.row);\n      var shouldOutdent = mode.checkOutdent(lineState, line, text);\n      session.insert(cursor, text);\n\n      if (transform && transform.selection) {\n        if (transform.selection.length == 2) {\n          // Transform relative to the current column\n          this.selection.setSelectionRange(new Range(cursor.row, start + transform.selection[0], cursor.row, start + transform.selection[1]));\n        } else {\n          // Transform relative to the current row.\n          this.selection.setSelectionRange(new Range(cursor.row + transform.selection[0], transform.selection[1], cursor.row + transform.selection[2], transform.selection[3]));\n        }\n      }\n\n      if (this.$enableAutoIndent) {\n        if (session.getDocument().isNewLine(text)) {\n          var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());\n          session.insert({\n            row: cursor.row + 1,\n            column: 0\n          }, lineIndent);\n        }\n\n        if (shouldOutdent) mode.autoOutdent(lineState, session, cursor.row);\n      }\n    };\n\n    this.autoIndent = function () {\n      var session = this.session;\n      var mode = session.getMode();\n      var startRow, endRow;\n\n      if (this.selection.isEmpty()) {\n        startRow = 0;\n        endRow = session.doc.getLength() - 1;\n      } else {\n        var selectedRange = this.getSelectionRange();\n        startRow = selectedRange.start.row;\n        endRow = selectedRange.end.row;\n      }\n\n      var prevLineState = \"\";\n      var prevLine = \"\";\n      var lineIndent = \"\";\n      var line, currIndent, range;\n      var tab = session.getTabString();\n\n      for (var row = startRow; row <= endRow; row++) {\n        if (row > 0) {\n          prevLineState = session.getState(row - 1);\n          prevLine = session.getLine(row - 1);\n          lineIndent = mode.getNextLineIndent(prevLineState, prevLine, tab);\n        }\n\n        line = session.getLine(row);\n        currIndent = mode.$getIndent(line);\n\n        if (lineIndent !== currIndent) {\n          if (currIndent.length > 0) {\n            range = new Range(row, 0, row, currIndent.length);\n            session.remove(range);\n          }\n\n          if (lineIndent.length > 0) {\n            session.insert({\n              row: row,\n              column: 0\n            }, lineIndent);\n          }\n        }\n\n        mode.autoOutdent(prevLineState, session, row);\n      }\n    };\n\n    this.onTextInput = function (text, composition) {\n      if (!composition) return this.keyBinding.onTextInput(text);\n      this.startOperation({\n        command: {\n          name: \"insertstring\"\n        }\n      });\n      var applyComposition = this.applyComposition.bind(this, text, composition);\n      if (this.selection.rangeCount) this.forEachSelection(applyComposition);else applyComposition();\n      this.endOperation();\n    };\n\n    this.applyComposition = function (text, composition) {\n      if (composition.extendLeft || composition.extendRight) {\n        var r = this.selection.getRange();\n        r.start.column -= composition.extendLeft;\n        r.end.column += composition.extendRight;\n\n        if (r.start.column < 0) {\n          r.start.row--;\n          r.start.column += this.session.getLine(r.start.row).length + 1;\n        }\n\n        this.selection.setRange(r);\n        if (!text && !r.isEmpty()) this.remove();\n      }\n\n      if (text || !this.selection.isEmpty()) this.insert(text, true);\n\n      if (composition.restoreStart || composition.restoreEnd) {\n        var r = this.selection.getRange();\n        r.start.column -= composition.restoreStart;\n        r.end.column -= composition.restoreEnd;\n        this.selection.setRange(r);\n      }\n    };\n\n    this.onCommandKey = function (e, hashId, keyCode) {\n      return this.keyBinding.onCommandKey(e, hashId, keyCode);\n    };\n\n    this.setOverwrite = function (overwrite) {\n      this.session.setOverwrite(overwrite);\n    };\n\n    this.getOverwrite = function () {\n      return this.session.getOverwrite();\n    };\n\n    this.toggleOverwrite = function () {\n      this.session.toggleOverwrite();\n    };\n\n    this.setScrollSpeed = function (speed) {\n      this.setOption(\"scrollSpeed\", speed);\n    };\n\n    this.getScrollSpeed = function () {\n      return this.getOption(\"scrollSpeed\");\n    };\n\n    this.setDragDelay = function (dragDelay) {\n      this.setOption(\"dragDelay\", dragDelay);\n    };\n\n    this.getDragDelay = function () {\n      return this.getOption(\"dragDelay\");\n    };\n\n    this.setSelectionStyle = function (val) {\n      this.setOption(\"selectionStyle\", val);\n    };\n\n    this.getSelectionStyle = function () {\n      return this.getOption(\"selectionStyle\");\n    };\n\n    this.setHighlightActiveLine = function (shouldHighlight) {\n      this.setOption(\"highlightActiveLine\", shouldHighlight);\n    };\n\n    this.getHighlightActiveLine = function () {\n      return this.getOption(\"highlightActiveLine\");\n    };\n\n    this.setHighlightGutterLine = function (shouldHighlight) {\n      this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function () {\n      return this.getOption(\"highlightGutterLine\");\n    };\n\n    this.setHighlightSelectedWord = function (shouldHighlight) {\n      this.setOption(\"highlightSelectedWord\", shouldHighlight);\n    };\n\n    this.getHighlightSelectedWord = function () {\n      return this.$highlightSelectedWord;\n    };\n\n    this.setAnimatedScroll = function (shouldAnimate) {\n      this.renderer.setAnimatedScroll(shouldAnimate);\n    };\n\n    this.getAnimatedScroll = function () {\n      return this.renderer.getAnimatedScroll();\n    };\n\n    this.setShowInvisibles = function (showInvisibles) {\n      this.renderer.setShowInvisibles(showInvisibles);\n    };\n\n    this.getShowInvisibles = function () {\n      return this.renderer.getShowInvisibles();\n    };\n\n    this.setDisplayIndentGuides = function (display) {\n      this.renderer.setDisplayIndentGuides(display);\n    };\n\n    this.getDisplayIndentGuides = function () {\n      return this.renderer.getDisplayIndentGuides();\n    };\n\n    this.setShowPrintMargin = function (showPrintMargin) {\n      this.renderer.setShowPrintMargin(showPrintMargin);\n    };\n\n    this.getShowPrintMargin = function () {\n      return this.renderer.getShowPrintMargin();\n    };\n\n    this.setPrintMarginColumn = function (showPrintMargin) {\n      this.renderer.setPrintMarginColumn(showPrintMargin);\n    };\n\n    this.getPrintMarginColumn = function () {\n      return this.renderer.getPrintMarginColumn();\n    };\n\n    this.setReadOnly = function (readOnly) {\n      this.setOption(\"readOnly\", readOnly);\n    };\n\n    this.getReadOnly = function () {\n      return this.getOption(\"readOnly\");\n    };\n\n    this.setBehavioursEnabled = function (enabled) {\n      this.setOption(\"behavioursEnabled\", enabled);\n    };\n\n    this.getBehavioursEnabled = function () {\n      return this.getOption(\"behavioursEnabled\");\n    };\n\n    this.setWrapBehavioursEnabled = function (enabled) {\n      this.setOption(\"wrapBehavioursEnabled\", enabled);\n    };\n\n    this.getWrapBehavioursEnabled = function () {\n      return this.getOption(\"wrapBehavioursEnabled\");\n    };\n\n    this.setShowFoldWidgets = function (show) {\n      this.setOption(\"showFoldWidgets\", show);\n    };\n\n    this.getShowFoldWidgets = function () {\n      return this.getOption(\"showFoldWidgets\");\n    };\n\n    this.setFadeFoldWidgets = function (fade) {\n      this.setOption(\"fadeFoldWidgets\", fade);\n    };\n\n    this.getFadeFoldWidgets = function () {\n      return this.getOption(\"fadeFoldWidgets\");\n    };\n\n    this.remove = function (dir) {\n      if (this.selection.isEmpty()) {\n        if (dir == \"left\") this.selection.selectLeft();else this.selection.selectRight();\n      }\n\n      var range = this.getSelectionRange();\n\n      if (this.getBehavioursEnabled()) {\n        var session = this.session;\n        var state = session.getState(range.start.row);\n        var new_range = session.getMode().transformAction(state, 'deletion', this, session, range);\n\n        if (range.end.column === 0) {\n          var text = session.getTextRange(range);\n\n          if (text[text.length - 1] == \"\\n\") {\n            var line = session.getLine(range.end.row);\n\n            if (/^\\s+$/.test(line)) {\n              range.end.column = line.length;\n            }\n          }\n        }\n\n        if (new_range) range = new_range;\n      }\n\n      this.session.remove(range);\n      this.clearSelection();\n    };\n\n    this.removeWordRight = function () {\n      if (this.selection.isEmpty()) this.selection.selectWordRight();\n      this.session.remove(this.getSelectionRange());\n      this.clearSelection();\n    };\n\n    this.removeWordLeft = function () {\n      if (this.selection.isEmpty()) this.selection.selectWordLeft();\n      this.session.remove(this.getSelectionRange());\n      this.clearSelection();\n    };\n\n    this.removeToLineStart = function () {\n      if (this.selection.isEmpty()) this.selection.selectLineStart();\n      if (this.selection.isEmpty()) this.selection.selectLeft();\n      this.session.remove(this.getSelectionRange());\n      this.clearSelection();\n    };\n\n    this.removeToLineEnd = function () {\n      if (this.selection.isEmpty()) this.selection.selectLineEnd();\n      var range = this.getSelectionRange();\n\n      if (range.start.column == range.end.column && range.start.row == range.end.row) {\n        range.end.column = 0;\n        range.end.row++;\n      }\n\n      this.session.remove(range);\n      this.clearSelection();\n    };\n\n    this.splitLine = function () {\n      if (!this.selection.isEmpty()) {\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n      }\n\n      var cursor = this.getCursorPosition();\n      this.insert(\"\\n\");\n      this.moveCursorToPosition(cursor);\n    };\n\n    this.transposeLetters = function () {\n      if (!this.selection.isEmpty()) {\n        return;\n      }\n\n      var cursor = this.getCursorPosition();\n      var column = cursor.column;\n      if (column === 0) return;\n      var line = this.session.getLine(cursor.row);\n      var swap, range;\n\n      if (column < line.length) {\n        swap = line.charAt(column) + line.charAt(column - 1);\n        range = new Range(cursor.row, column - 1, cursor.row, column + 1);\n      } else {\n        swap = line.charAt(column - 1) + line.charAt(column - 2);\n        range = new Range(cursor.row, column - 2, cursor.row, column);\n      }\n\n      this.session.replace(range, swap);\n      this.session.selection.moveToPosition(range.end);\n    };\n\n    this.toLowerCase = function () {\n      var originalRange = this.getSelectionRange();\n\n      if (this.selection.isEmpty()) {\n        this.selection.selectWord();\n      }\n\n      var range = this.getSelectionRange();\n      var text = this.session.getTextRange(range);\n      this.session.replace(range, text.toLowerCase());\n      this.selection.setSelectionRange(originalRange);\n    };\n\n    this.toUpperCase = function () {\n      var originalRange = this.getSelectionRange();\n\n      if (this.selection.isEmpty()) {\n        this.selection.selectWord();\n      }\n\n      var range = this.getSelectionRange();\n      var text = this.session.getTextRange(range);\n      this.session.replace(range, text.toUpperCase());\n      this.selection.setSelectionRange(originalRange);\n    };\n\n    this.indent = function () {\n      var session = this.session;\n      var range = this.getSelectionRange();\n\n      if (range.start.row < range.end.row) {\n        var rows = this.$getSelectedRows();\n        session.indentRows(rows.first, rows.last, \"\\t\");\n        return;\n      } else if (range.start.column < range.end.column) {\n        var text = session.getTextRange(range);\n\n        if (!/^\\s+$/.test(text)) {\n          var rows = this.$getSelectedRows();\n          session.indentRows(rows.first, rows.last, \"\\t\");\n          return;\n        }\n      }\n\n      var line = session.getLine(range.start.row);\n      var position = range.start;\n      var size = session.getTabSize();\n      var column = session.documentToScreenColumn(position.row, position.column);\n\n      if (this.session.getUseSoftTabs()) {\n        var count = size - column % size;\n        var indentString = lang.stringRepeat(\" \", count);\n      } else {\n        var count = column % size;\n\n        while (line[range.start.column - 1] == \" \" && count) {\n          range.start.column--;\n          count--;\n        }\n\n        this.selection.setSelectionRange(range);\n        indentString = \"\\t\";\n      }\n\n      return this.insert(indentString);\n    };\n\n    this.blockIndent = function () {\n      var rows = this.$getSelectedRows();\n      this.session.indentRows(rows.first, rows.last, \"\\t\");\n    };\n\n    this.blockOutdent = function () {\n      var selection = this.session.getSelection();\n      this.session.outdentRows(selection.getRange());\n    };\n\n    this.sortLines = function () {\n      var rows = this.$getSelectedRows();\n      var session = this.session;\n      var lines = [];\n\n      for (var i = rows.first; i <= rows.last; i++) {\n        lines.push(session.getLine(i));\n      }\n\n      lines.sort(function (a, b) {\n        if (a.toLowerCase() < b.toLowerCase()) return -1;\n        if (a.toLowerCase() > b.toLowerCase()) return 1;\n        return 0;\n      });\n      var deleteRange = new Range(0, 0, 0, 0);\n\n      for (var i = rows.first; i <= rows.last; i++) {\n        var line = session.getLine(i);\n        deleteRange.start.row = i;\n        deleteRange.end.row = i;\n        deleteRange.end.column = line.length;\n        session.replace(deleteRange, lines[i - rows.first]);\n      }\n    };\n\n    this.toggleCommentLines = function () {\n      var state = this.session.getState(this.getCursorPosition().row);\n      var rows = this.$getSelectedRows();\n      this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);\n    };\n\n    this.toggleBlockComment = function () {\n      var cursor = this.getCursorPosition();\n      var state = this.session.getState(cursor.row);\n      var range = this.getSelectionRange();\n      this.session.getMode().toggleBlockComment(state, this.session, range, cursor);\n    };\n\n    this.getNumberAt = function (row, column) {\n      var _numberRx = /[\\-]?[0-9]+(?:\\.[0-9]+)?/g;\n      _numberRx.lastIndex = 0;\n      var s = this.session.getLine(row);\n\n      while (_numberRx.lastIndex < column) {\n        var m = _numberRx.exec(s);\n\n        if (m.index <= column && m.index + m[0].length >= column) {\n          var number = {\n            value: m[0],\n            start: m.index,\n            end: m.index + m[0].length\n          };\n          return number;\n        }\n      }\n\n      return null;\n    };\n\n    this.modifyNumber = function (amount) {\n      var row = this.selection.getCursor().row;\n      var column = this.selection.getCursor().column;\n      var charRange = new Range(row, column - 1, row, column);\n      var c = this.session.getTextRange(charRange);\n\n      if (!isNaN(parseFloat(c)) && isFinite(c)) {\n        var nr = this.getNumberAt(row, column);\n\n        if (nr) {\n          var fp = nr.value.indexOf(\".\") >= 0 ? nr.start + nr.value.indexOf(\".\") + 1 : nr.end;\n          var decimals = nr.start + nr.value.length - fp;\n          var t = parseFloat(nr.value);\n          t *= Math.pow(10, decimals);\n\n          if (fp !== nr.end && column < fp) {\n            amount *= Math.pow(10, nr.end - column - 1);\n          } else {\n            amount *= Math.pow(10, nr.end - column);\n          }\n\n          t += amount;\n          t /= Math.pow(10, decimals);\n          var nnr = t.toFixed(decimals);\n          var replaceRange = new Range(row, nr.start, row, nr.end);\n          this.session.replace(replaceRange, nnr);\n          this.moveCursorTo(row, Math.max(nr.start + 1, column + nnr.length - nr.value.length));\n        }\n      } else {\n        this.toggleWord();\n      }\n    };\n\n    this.$toggleWordPairs = [[\"first\", \"last\"], [\"true\", \"false\"], [\"yes\", \"no\"], [\"width\", \"height\"], [\"top\", \"bottom\"], [\"right\", \"left\"], [\"on\", \"off\"], [\"x\", \"y\"], [\"get\", \"set\"], [\"max\", \"min\"], [\"horizontal\", \"vertical\"], [\"show\", \"hide\"], [\"add\", \"remove\"], [\"up\", \"down\"], [\"before\", \"after\"], [\"even\", \"odd\"], [\"in\", \"out\"], [\"inside\", \"outside\"], [\"next\", \"previous\"], [\"increase\", \"decrease\"], [\"attach\", \"detach\"], [\"&&\", \"||\"], [\"==\", \"!=\"]];\n\n    this.toggleWord = function () {\n      var row = this.selection.getCursor().row;\n      var column = this.selection.getCursor().column;\n      this.selection.selectWord();\n      var currentState = this.getSelectedText();\n      var currWordStart = this.selection.getWordRange().start.column;\n      var wordParts = currentState.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g, '$1 ').split(/\\s/);\n      var delta = column - currWordStart - 1;\n      if (delta < 0) delta = 0;\n      var curLength = 0,\n          itLength = 0;\n      var that = this;\n\n      if (currentState.match(/[A-Za-z0-9_]+/)) {\n        wordParts.forEach(function (item, i) {\n          itLength = curLength + item.length;\n\n          if (delta >= curLength && delta <= itLength) {\n            currentState = item;\n            that.selection.clearSelection();\n            that.moveCursorTo(row, curLength + currWordStart);\n            that.selection.selectTo(row, itLength + currWordStart);\n          }\n\n          curLength = itLength;\n        });\n      }\n\n      var wordPairs = this.$toggleWordPairs;\n      var reg;\n\n      for (var i = 0; i < wordPairs.length; i++) {\n        var item = wordPairs[i];\n\n        for (var j = 0; j <= 1; j++) {\n          var negate = +!j;\n          var firstCondition = currentState.match(new RegExp('^\\\\s?_?(' + lang.escapeRegExp(item[j]) + ')\\\\s?$', 'i'));\n\n          if (firstCondition) {\n            var secondCondition = currentState.match(new RegExp('([_]|^|\\\\s)(' + lang.escapeRegExp(firstCondition[1]) + ')($|\\\\s)', 'g'));\n\n            if (secondCondition) {\n              reg = currentState.replace(new RegExp(lang.escapeRegExp(item[j]), 'i'), function (result) {\n                var res = item[negate];\n\n                if (result.toUpperCase() == result) {\n                  res = res.toUpperCase();\n                } else if (result.charAt(0).toUpperCase() == result.charAt(0)) {\n                  res = res.substr(0, 0) + item[negate].charAt(0).toUpperCase() + res.substr(1);\n                }\n\n                return res;\n              });\n              this.insert(reg);\n              reg = \"\";\n            }\n          }\n        }\n      }\n    };\n\n    this.removeLines = function () {\n      var rows = this.$getSelectedRows();\n      this.session.removeFullLines(rows.first, rows.last);\n      this.clearSelection();\n    };\n\n    this.duplicateSelection = function () {\n      var sel = this.selection;\n      var doc = this.session;\n      var range = sel.getRange();\n      var reverse = sel.isBackwards();\n\n      if (range.isEmpty()) {\n        var row = range.start.row;\n        doc.duplicateLines(row, row);\n      } else {\n        var point = reverse ? range.start : range.end;\n        var endPoint = doc.insert(point, doc.getTextRange(range), false);\n        range.start = point;\n        range.end = endPoint;\n        sel.setSelectionRange(range, reverse);\n      }\n    };\n\n    this.moveLinesDown = function () {\n      this.$moveLines(1, false);\n    };\n\n    this.moveLinesUp = function () {\n      this.$moveLines(-1, false);\n    };\n\n    this.moveText = function (range, toPosition, copy) {\n      return this.session.moveText(range, toPosition, copy);\n    };\n\n    this.copyLinesUp = function () {\n      this.$moveLines(-1, true);\n    };\n\n    this.copyLinesDown = function () {\n      this.$moveLines(1, true);\n    };\n\n    this.$moveLines = function (dir, copy) {\n      var rows, moved;\n      var selection = this.selection;\n\n      if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {\n        var range = selection.toOrientedRange();\n        rows = this.$getSelectedRows(range);\n        moved = this.session.$moveLines(rows.first, rows.last, copy ? 0 : dir);\n        if (copy && dir == -1) moved = 0;\n        range.moveBy(moved, 0);\n        selection.fromOrientedRange(range);\n      } else {\n        var ranges = selection.rangeList.ranges;\n        selection.rangeList.detach(this.session);\n        this.inVirtualSelectionMode = true;\n        var diff = 0;\n        var totalDiff = 0;\n        var l = ranges.length;\n\n        for (var i = 0; i < l; i++) {\n          var rangeIndex = i;\n          ranges[i].moveBy(diff, 0);\n          rows = this.$getSelectedRows(ranges[i]);\n          var first = rows.first;\n          var last = rows.last;\n\n          while (++i < l) {\n            if (totalDiff) ranges[i].moveBy(totalDiff, 0);\n            var subRows = this.$getSelectedRows(ranges[i]);\n            if (copy && subRows.first != last) break;else if (!copy && subRows.first > last + 1) break;\n            last = subRows.last;\n          }\n\n          i--;\n          diff = this.session.$moveLines(first, last, copy ? 0 : dir);\n          if (copy && dir == -1) rangeIndex = i + 1;\n\n          while (rangeIndex <= i) {\n            ranges[rangeIndex].moveBy(diff, 0);\n            rangeIndex++;\n          }\n\n          if (!copy) diff = 0;\n          totalDiff += diff;\n        }\n\n        selection.fromOrientedRange(selection.ranges[0]);\n        selection.rangeList.attach(this.session);\n        this.inVirtualSelectionMode = false;\n      }\n    };\n\n    this.$getSelectedRows = function (range) {\n      range = (range || this.getSelectionRange()).collapseRows();\n      return {\n        first: this.session.getRowFoldStart(range.start.row),\n        last: this.session.getRowFoldEnd(range.end.row)\n      };\n    };\n\n    this.onCompositionStart = function (compositionState) {\n      this.renderer.showComposition(compositionState);\n    };\n\n    this.onCompositionUpdate = function (text) {\n      this.renderer.setCompositionText(text);\n    };\n\n    this.onCompositionEnd = function () {\n      this.renderer.hideComposition();\n    };\n\n    this.getFirstVisibleRow = function () {\n      return this.renderer.getFirstVisibleRow();\n    };\n\n    this.getLastVisibleRow = function () {\n      return this.renderer.getLastVisibleRow();\n    };\n\n    this.isRowVisible = function (row) {\n      return row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow();\n    };\n\n    this.isRowFullyVisible = function (row) {\n      return row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow();\n    };\n\n    this.$getVisibleRowCount = function () {\n      return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;\n    };\n\n    this.$moveByPage = function (dir, select) {\n      var renderer = this.renderer;\n      var config = this.renderer.layerConfig;\n      var rows = dir * Math.floor(config.height / config.lineHeight);\n\n      if (select === true) {\n        this.selection.$moveSelection(function () {\n          this.moveCursorBy(rows, 0);\n        });\n      } else if (select === false) {\n        this.selection.moveCursorBy(rows, 0);\n        this.selection.clearSelection();\n      }\n\n      var scrollTop = renderer.scrollTop;\n      renderer.scrollBy(0, rows * config.lineHeight);\n      if (select != null) renderer.scrollCursorIntoView(null, 0.5);\n      renderer.animateScrolling(scrollTop);\n    };\n\n    this.selectPageDown = function () {\n      this.$moveByPage(1, true);\n    };\n\n    this.selectPageUp = function () {\n      this.$moveByPage(-1, true);\n    };\n\n    this.gotoPageDown = function () {\n      this.$moveByPage(1, false);\n    };\n\n    this.gotoPageUp = function () {\n      this.$moveByPage(-1, false);\n    };\n\n    this.scrollPageDown = function () {\n      this.$moveByPage(1);\n    };\n\n    this.scrollPageUp = function () {\n      this.$moveByPage(-1);\n    };\n\n    this.scrollToRow = function (row) {\n      this.renderer.scrollToRow(row);\n    };\n\n    this.scrollToLine = function (line, center, animate, callback) {\n      this.renderer.scrollToLine(line, center, animate, callback);\n    };\n\n    this.centerSelection = function () {\n      var range = this.getSelectionRange();\n      var pos = {\n        row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),\n        column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)\n      };\n      this.renderer.alignCursor(pos, 0.5);\n    };\n\n    this.getCursorPosition = function () {\n      return this.selection.getCursor();\n    };\n\n    this.getCursorPositionScreen = function () {\n      return this.session.documentToScreenPosition(this.getCursorPosition());\n    };\n\n    this.getSelectionRange = function () {\n      return this.selection.getRange();\n    };\n\n    this.selectAll = function () {\n      this.selection.selectAll();\n    };\n\n    this.clearSelection = function () {\n      this.selection.clearSelection();\n    };\n\n    this.moveCursorTo = function (row, column) {\n      this.selection.moveCursorTo(row, column);\n    };\n\n    this.moveCursorToPosition = function (pos) {\n      this.selection.moveCursorToPosition(pos);\n    };\n\n    this.jumpToMatching = function (select, expand) {\n      var cursor = this.getCursorPosition();\n      var iterator = new TokenIterator(this.session, cursor.row, cursor.column);\n      var prevToken = iterator.getCurrentToken();\n      var token = prevToken || iterator.stepForward();\n      if (!token) return;\n      var matchType;\n      var found = false;\n      var depth = {};\n      var i = cursor.column - token.start;\n      var bracketType;\n      var brackets = {\n        \")\": \"(\",\n        \"(\": \"(\",\n        \"]\": \"[\",\n        \"[\": \"[\",\n        \"{\": \"{\",\n        \"}\": \"{\"\n      };\n\n      do {\n        if (token.value.match(/[{}()\\[\\]]/g)) {\n          for (; i < token.value.length && !found; i++) {\n            if (!brackets[token.value[i]]) {\n              continue;\n            }\n\n            bracketType = brackets[token.value[i]] + '.' + token.type.replace(\"rparen\", \"lparen\");\n\n            if (isNaN(depth[bracketType])) {\n              depth[bracketType] = 0;\n            }\n\n            switch (token.value[i]) {\n              case '(':\n              case '[':\n              case '{':\n                depth[bracketType]++;\n                break;\n\n              case ')':\n              case ']':\n              case '}':\n                depth[bracketType]--;\n\n                if (depth[bracketType] === -1) {\n                  matchType = 'bracket';\n                  found = true;\n                }\n\n                break;\n            }\n          }\n        } else if (token.type.indexOf('tag-name') !== -1) {\n          if (isNaN(depth[token.value])) {\n            depth[token.value] = 0;\n          }\n\n          if (prevToken.value === '<') {\n            depth[token.value]++;\n          } else if (prevToken.value === '</') {\n            depth[token.value]--;\n          }\n\n          if (depth[token.value] === -1) {\n            matchType = 'tag';\n            found = true;\n          }\n        }\n\n        if (!found) {\n          prevToken = token;\n          token = iterator.stepForward();\n          i = 0;\n        }\n      } while (token && !found);\n\n      if (!matchType) return;\n      var range, pos;\n\n      if (matchType === 'bracket') {\n        range = this.session.getBracketRange(cursor);\n\n        if (!range) {\n          range = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + i - 1, iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + i - 1);\n          pos = range.start;\n          if (expand || pos.row === cursor.row && Math.abs(pos.column - cursor.column) < 2) range = this.session.getBracketRange(pos);\n        }\n      } else if (matchType === 'tag') {\n        if (token && token.type.indexOf('tag-name') !== -1) var tag = token.value;else return;\n        range = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() - 2, iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() - 2);\n\n        if (range.compare(cursor.row, cursor.column) === 0) {\n          found = false;\n\n          do {\n            token = prevToken;\n            prevToken = iterator.stepBackward();\n\n            if (prevToken) {\n              if (prevToken.type.indexOf('tag-close') !== -1) {\n                range.setEnd(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);\n              }\n\n              if (token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                if (prevToken.value === '<') {\n                  depth[tag]++;\n                } else if (prevToken.value === '</') {\n                  depth[tag]--;\n                }\n\n                if (depth[tag] === 0) found = true;\n              }\n            }\n          } while (prevToken && !found);\n        }\n\n        if (token && token.type.indexOf('tag-name')) {\n          pos = range.start;\n          if (pos.row == cursor.row && Math.abs(pos.column - cursor.column) < 2) pos = range.end;\n        }\n      }\n\n      pos = range && range.cursor || pos;\n\n      if (pos) {\n        if (select) {\n          if (range && expand) {\n            this.selection.setRange(range);\n          } else if (range && range.isEqual(this.getSelectionRange())) {\n            this.clearSelection();\n          } else {\n            this.selection.selectTo(pos.row, pos.column);\n          }\n        } else {\n          this.selection.moveTo(pos.row, pos.column);\n        }\n      }\n    };\n\n    this.gotoLine = function (lineNumber, column, animate) {\n      this.selection.clearSelection();\n      this.session.unfold({\n        row: lineNumber - 1,\n        column: column || 0\n      });\n      this.exitMultiSelectMode && this.exitMultiSelectMode();\n      this.moveCursorTo(lineNumber - 1, column || 0);\n      if (!this.isRowFullyVisible(lineNumber - 1)) this.scrollToLine(lineNumber - 1, true, animate);\n    };\n\n    this.navigateTo = function (row, column) {\n      this.selection.moveTo(row, column);\n    };\n\n    this.navigateUp = function (times) {\n      if (this.selection.isMultiLine() && !this.selection.isBackwards()) {\n        var selectionStart = this.selection.anchor.getPosition();\n        return this.moveCursorToPosition(selectionStart);\n      }\n\n      this.selection.clearSelection();\n      this.selection.moveCursorBy(-times || -1, 0);\n    };\n\n    this.navigateDown = function (times) {\n      if (this.selection.isMultiLine() && this.selection.isBackwards()) {\n        var selectionEnd = this.selection.anchor.getPosition();\n        return this.moveCursorToPosition(selectionEnd);\n      }\n\n      this.selection.clearSelection();\n      this.selection.moveCursorBy(times || 1, 0);\n    };\n\n    this.navigateLeft = function (times) {\n      if (!this.selection.isEmpty()) {\n        var selectionStart = this.getSelectionRange().start;\n        this.moveCursorToPosition(selectionStart);\n      } else {\n        times = times || 1;\n\n        while (times--) {\n          this.selection.moveCursorLeft();\n        }\n      }\n\n      this.clearSelection();\n    };\n\n    this.navigateRight = function (times) {\n      if (!this.selection.isEmpty()) {\n        var selectionEnd = this.getSelectionRange().end;\n        this.moveCursorToPosition(selectionEnd);\n      } else {\n        times = times || 1;\n\n        while (times--) {\n          this.selection.moveCursorRight();\n        }\n      }\n\n      this.clearSelection();\n    };\n\n    this.navigateLineStart = function () {\n      this.selection.moveCursorLineStart();\n      this.clearSelection();\n    };\n\n    this.navigateLineEnd = function () {\n      this.selection.moveCursorLineEnd();\n      this.clearSelection();\n    };\n\n    this.navigateFileEnd = function () {\n      this.selection.moveCursorFileEnd();\n      this.clearSelection();\n    };\n\n    this.navigateFileStart = function () {\n      this.selection.moveCursorFileStart();\n      this.clearSelection();\n    };\n\n    this.navigateWordRight = function () {\n      this.selection.moveCursorWordRight();\n      this.clearSelection();\n    };\n\n    this.navigateWordLeft = function () {\n      this.selection.moveCursorWordLeft();\n      this.clearSelection();\n    };\n\n    this.replace = function (replacement, options) {\n      if (options) this.$search.set(options);\n      var range = this.$search.find(this.session);\n      var replaced = 0;\n      if (!range) return replaced;\n\n      if (this.$tryReplace(range, replacement)) {\n        replaced = 1;\n      }\n\n      this.selection.setSelectionRange(range);\n      this.renderer.scrollSelectionIntoView(range.start, range.end);\n      return replaced;\n    };\n\n    this.replaceAll = function (replacement, options) {\n      if (options) {\n        this.$search.set(options);\n      }\n\n      var ranges = this.$search.findAll(this.session);\n      var replaced = 0;\n      if (!ranges.length) return replaced;\n      var selection = this.getSelectionRange();\n      this.selection.moveTo(0, 0);\n\n      for (var i = ranges.length - 1; i >= 0; --i) {\n        if (this.$tryReplace(ranges[i], replacement)) {\n          replaced++;\n        }\n      }\n\n      this.selection.setSelectionRange(selection);\n      return replaced;\n    };\n\n    this.$tryReplace = function (range, replacement) {\n      var input = this.session.getTextRange(range);\n      replacement = this.$search.replace(input, replacement);\n\n      if (replacement !== null) {\n        range.end = this.session.replace(range, replacement);\n        return range;\n      } else {\n        return null;\n      }\n    };\n\n    this.getLastSearchOptions = function () {\n      return this.$search.getOptions();\n    };\n\n    this.find = function (needle, options, animate) {\n      if (!options) options = {};\n      if (typeof needle == \"string\" || needle instanceof RegExp) options.needle = needle;else if (typeof needle == \"object\") oop.mixin(options, needle);\n      var range = this.selection.getRange();\n\n      if (options.needle == null) {\n        needle = this.session.getTextRange(range) || this.$search.$options.needle;\n\n        if (!needle) {\n          range = this.session.getWordRange(range.start.row, range.start.column);\n          needle = this.session.getTextRange(range);\n        }\n\n        this.$search.set({\n          needle: needle\n        });\n      }\n\n      this.$search.set(options);\n      if (!options.start) this.$search.set({\n        start: range\n      });\n      var newRange = this.$search.find(this.session);\n      if (options.preventScroll) return newRange;\n\n      if (newRange) {\n        this.revealRange(newRange, animate);\n        return newRange;\n      }\n\n      if (options.backwards) range.start = range.end;else range.end = range.start;\n      this.selection.setRange(range);\n    };\n\n    this.findNext = function (options, animate) {\n      this.find({\n        skipCurrent: true,\n        backwards: false\n      }, options, animate);\n    };\n\n    this.findPrevious = function (options, animate) {\n      this.find(options, {\n        skipCurrent: true,\n        backwards: true\n      }, animate);\n    };\n\n    this.revealRange = function (range, animate) {\n      this.session.unfold(range);\n      this.selection.setSelectionRange(range);\n      var scrollTop = this.renderer.scrollTop;\n      this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);\n      if (animate !== false) this.renderer.animateScrolling(scrollTop);\n    };\n\n    this.undo = function () {\n      this.session.getUndoManager().undo(this.session);\n      this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n\n    this.redo = function () {\n      this.session.getUndoManager().redo(this.session);\n      this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n\n    this.destroy = function () {\n      if (this.$toDestroy) {\n        this.$toDestroy.forEach(function (el) {\n          el.destroy();\n        });\n        this.$toDestroy = null;\n      }\n\n      if (this.$mouseHandler) this.$mouseHandler.destroy();\n      this.renderer.destroy();\n\n      this._signal(\"destroy\", this);\n\n      if (this.session) this.session.destroy();\n      if (this._$emitInputEvent) this._$emitInputEvent.cancel();\n      this.removeAllListeners();\n    };\n\n    this.setAutoScrollEditorIntoView = function (enable) {\n      if (!enable) return;\n      var rect;\n      var self = this;\n      var shouldScroll = false;\n      if (!this.$scrollAnchor) this.$scrollAnchor = document.createElement(\"div\");\n      var scrollAnchor = this.$scrollAnchor;\n      scrollAnchor.style.cssText = \"position:absolute\";\n      this.container.insertBefore(scrollAnchor, this.container.firstChild);\n      var onChangeSelection = this.on(\"changeSelection\", function () {\n        shouldScroll = true;\n      });\n      var onBeforeRender = this.renderer.on(\"beforeRender\", function () {\n        if (shouldScroll) rect = self.renderer.container.getBoundingClientRect();\n      });\n      var onAfterRender = this.renderer.on(\"afterRender\", function () {\n        if (shouldScroll && rect && (self.isFocused() || self.searchBox && self.searchBox.isFocused())) {\n          var renderer = self.renderer;\n          var pos = renderer.$cursorLayer.$pixelPos;\n          var config = renderer.layerConfig;\n          var top = pos.top - config.offset;\n\n          if (pos.top >= 0 && top + rect.top < 0) {\n            shouldScroll = true;\n          } else if (pos.top < config.height && pos.top + rect.top + config.lineHeight > window.innerHeight) {\n            shouldScroll = false;\n          } else {\n            shouldScroll = null;\n          }\n\n          if (shouldScroll != null) {\n            scrollAnchor.style.top = top + \"px\";\n            scrollAnchor.style.left = pos.left + \"px\";\n            scrollAnchor.style.height = config.lineHeight + \"px\";\n            scrollAnchor.scrollIntoView(shouldScroll);\n          }\n\n          shouldScroll = rect = null;\n        }\n      });\n\n      this.setAutoScrollEditorIntoView = function (enable) {\n        if (enable) return;\n        delete this.setAutoScrollEditorIntoView;\n        this.off(\"changeSelection\", onChangeSelection);\n        this.renderer.off(\"afterRender\", onAfterRender);\n        this.renderer.off(\"beforeRender\", onBeforeRender);\n      };\n    };\n\n    this.$resetCursorStyle = function () {\n      var style = this.$cursorStyle || \"ace\";\n      var cursorLayer = this.renderer.$cursorLayer;\n      if (!cursorLayer) return;\n      cursorLayer.setSmoothBlinking(/smooth/.test(style));\n      cursorLayer.isBlinking = !this.$readOnly && style != \"wide\";\n      dom.setCssClass(cursorLayer.element, \"ace_slim-cursors\", /slim/.test(style));\n    };\n\n    this.prompt = function (message, options, callback) {\n      var editor = this;\n      config.loadModule(\"./ext/prompt\", function (module) {\n        module.prompt(editor, message, options, callback);\n      });\n    };\n  }).call(Editor.prototype);\n  config.defineOptions(Editor.prototype, \"editor\", {\n    selectionStyle: {\n      set: function set(style) {\n        this.onSelectionChange();\n\n        this._signal(\"changeSelectionStyle\", {\n          data: style\n        });\n      },\n      initialValue: \"line\"\n    },\n    highlightActiveLine: {\n      set: function set() {\n        this.$updateHighlightActiveLine();\n      },\n      initialValue: true\n    },\n    highlightSelectedWord: {\n      set: function set(shouldHighlight) {\n        this.$onSelectionChange();\n      },\n      initialValue: true\n    },\n    readOnly: {\n      set: function set(readOnly) {\n        this.textInput.setReadOnly(readOnly);\n        this.$resetCursorStyle();\n      },\n      initialValue: false\n    },\n    copyWithEmptySelection: {\n      set: function set(value) {\n        this.textInput.setCopyWithEmptySelection(value);\n      },\n      initialValue: false\n    },\n    cursorStyle: {\n      set: function set(val) {\n        this.$resetCursorStyle();\n      },\n      values: [\"ace\", \"slim\", \"smooth\", \"wide\"],\n      initialValue: \"ace\"\n    },\n    mergeUndoDeltas: {\n      values: [false, true, \"always\"],\n      initialValue: true\n    },\n    behavioursEnabled: {\n      initialValue: true\n    },\n    wrapBehavioursEnabled: {\n      initialValue: true\n    },\n    enableAutoIndent: {\n      initialValue: true\n    },\n    autoScrollEditorIntoView: {\n      set: function set(val) {\n        this.setAutoScrollEditorIntoView(val);\n      }\n    },\n    keyboardHandler: {\n      set: function set(val) {\n        this.setKeyboardHandler(val);\n      },\n      get: function get() {\n        return this.$keybindingId;\n      },\n      handlesSet: true\n    },\n    value: {\n      set: function set(val) {\n        this.session.setValue(val);\n      },\n      get: function get() {\n        return this.getValue();\n      },\n      handlesSet: true,\n      hidden: true\n    },\n    session: {\n      set: function set(val) {\n        this.setSession(val);\n      },\n      get: function get() {\n        return this.session;\n      },\n      handlesSet: true,\n      hidden: true\n    },\n    showLineNumbers: {\n      set: function set(show) {\n        this.renderer.$gutterLayer.setShowLineNumbers(show);\n        this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER);\n        if (show && this.$relativeLineNumbers) relativeNumberRenderer.attach(this);else relativeNumberRenderer.detach(this);\n      },\n      initialValue: true\n    },\n    relativeLineNumbers: {\n      set: function set(value) {\n        if (this.$showLineNumbers && value) relativeNumberRenderer.attach(this);else relativeNumberRenderer.detach(this);\n      }\n    },\n    placeholder: {\n      set: function set(message) {\n        if (!this.$updatePlaceholder) {\n          this.$updatePlaceholder = function () {\n            var value = this.session && (this.renderer.$composition || this.getValue());\n\n            if (value && this.renderer.placeholderNode) {\n              this.renderer.off(\"afterRender\", this.$updatePlaceholder);\n              dom.removeCssClass(this.container, \"ace_hasPlaceholder\");\n              this.renderer.placeholderNode.remove();\n              this.renderer.placeholderNode = null;\n            } else if (!value && !this.renderer.placeholderNode) {\n              this.renderer.on(\"afterRender\", this.$updatePlaceholder);\n              dom.addCssClass(this.container, \"ace_hasPlaceholder\");\n              var el = dom.createElement(\"div\");\n              el.className = \"ace_placeholder\";\n              el.textContent = this.$placeholder || \"\";\n              this.renderer.placeholderNode = el;\n              this.renderer.content.appendChild(this.renderer.placeholderNode);\n            } else if (!value && this.renderer.placeholderNode) {\n              this.renderer.placeholderNode.textContent = this.$placeholder || \"\";\n            }\n          }.bind(this);\n\n          this.on(\"input\", this.$updatePlaceholder);\n        }\n\n        this.$updatePlaceholder();\n      }\n    },\n    hScrollBarAlwaysVisible: \"renderer\",\n    vScrollBarAlwaysVisible: \"renderer\",\n    highlightGutterLine: \"renderer\",\n    animatedScroll: \"renderer\",\n    showInvisibles: \"renderer\",\n    showPrintMargin: \"renderer\",\n    printMarginColumn: \"renderer\",\n    printMargin: \"renderer\",\n    fadeFoldWidgets: \"renderer\",\n    showFoldWidgets: \"renderer\",\n    displayIndentGuides: \"renderer\",\n    showGutter: \"renderer\",\n    fontSize: \"renderer\",\n    fontFamily: \"renderer\",\n    maxLines: \"renderer\",\n    minLines: \"renderer\",\n    scrollPastEnd: \"renderer\",\n    fixedWidthGutter: \"renderer\",\n    theme: \"renderer\",\n    hasCssTransforms: \"renderer\",\n    maxPixelHeight: \"renderer\",\n    useTextareaForIME: \"renderer\",\n    scrollSpeed: \"$mouseHandler\",\n    dragDelay: \"$mouseHandler\",\n    dragEnabled: \"$mouseHandler\",\n    focusTimeout: \"$mouseHandler\",\n    tooltipFollowsMouse: \"$mouseHandler\",\n    firstLineNumber: \"session\",\n    overwrite: \"session\",\n    newLineMode: \"session\",\n    useWorker: \"session\",\n    useSoftTabs: \"session\",\n    navigateWithinSoftTabs: \"session\",\n    tabSize: \"session\",\n    wrap: \"session\",\n    indentedSoftWrap: \"session\",\n    foldStyle: \"session\",\n    mode: \"session\"\n  });\n  var relativeNumberRenderer = {\n    getText: function getText(session, row) {\n      return (Math.abs(session.selection.lead.row - row) || row + 1 + (row < 9 ? \"\\xb7\" : \"\")) + \"\";\n    },\n    getWidth: function getWidth(session, lastLineNumber, config) {\n      return Math.max(lastLineNumber.toString().length, (config.lastRow + 1).toString().length, 2) * config.characterWidth;\n    },\n    update: function update(e, editor) {\n      editor.renderer.$loop.schedule(editor.renderer.CHANGE_GUTTER);\n    },\n    attach: function attach(editor) {\n      editor.renderer.$gutterLayer.$renderer = this;\n      editor.on(\"changeSelection\", this.update);\n      this.update(null, editor);\n    },\n    detach: function detach(editor) {\n      if (editor.renderer.$gutterLayer.$renderer == this) editor.renderer.$gutterLayer.$renderer = null;\n      editor.off(\"changeSelection\", this.update);\n      this.update(null, editor);\n    }\n  };\n  exports.Editor = Editor;\n});\nace.define(\"ace/undomanager\", [\"require\", \"exports\", \"module\", \"ace/range\"], function (require, exports, module) {\n  \"use strict\";\n\n  var UndoManager = function UndoManager() {\n    this.$maxRev = 0;\n    this.$fromUndo = false;\n    this.reset();\n  };\n\n  (function () {\n    this.addSession = function (session) {\n      this.$session = session;\n    };\n\n    this.add = function (delta, allowMerge, session) {\n      if (this.$fromUndo) return;\n      if (delta == this.$lastDelta) return;\n      if (!this.$keepRedoStack) this.$redoStack.length = 0;\n\n      if (allowMerge === false || !this.lastDeltas) {\n        this.lastDeltas = [];\n        this.$undoStack.push(this.lastDeltas);\n        delta.id = this.$rev = ++this.$maxRev;\n      }\n\n      if (delta.action == \"remove\" || delta.action == \"insert\") this.$lastDelta = delta;\n      this.lastDeltas.push(delta);\n    };\n\n    this.addSelection = function (selection, rev) {\n      this.selections.push({\n        value: selection,\n        rev: rev || this.$rev\n      });\n    };\n\n    this.startNewGroup = function () {\n      this.lastDeltas = null;\n      return this.$rev;\n    };\n\n    this.markIgnored = function (from, to) {\n      if (to == null) to = this.$rev + 1;\n      var stack = this.$undoStack;\n\n      for (var i = stack.length; i--;) {\n        var delta = stack[i][0];\n        if (delta.id <= from) break;\n        if (delta.id < to) delta.ignore = true;\n      }\n\n      this.lastDeltas = null;\n    };\n\n    this.getSelection = function (rev, after) {\n      var stack = this.selections;\n\n      for (var i = stack.length; i--;) {\n        var selection = stack[i];\n\n        if (selection.rev < rev) {\n          if (after) selection = stack[i + 1];\n          return selection;\n        }\n      }\n    };\n\n    this.getRevision = function () {\n      return this.$rev;\n    };\n\n    this.getDeltas = function (from, to) {\n      if (to == null) to = this.$rev + 1;\n      var stack = this.$undoStack;\n      var end = null,\n          start = 0;\n\n      for (var i = stack.length; i--;) {\n        var delta = stack[i][0];\n        if (delta.id < to && !end) end = i + 1;\n\n        if (delta.id <= from) {\n          start = i + 1;\n          break;\n        }\n      }\n\n      return stack.slice(start, end);\n    };\n\n    this.getChangedRanges = function (from, to) {\n      if (to == null) to = this.$rev + 1;\n    };\n\n    this.getChangedLines = function (from, to) {\n      if (to == null) to = this.$rev + 1;\n    };\n\n    this.undo = function (session, dontSelect) {\n      this.lastDeltas = null;\n      var stack = this.$undoStack;\n      if (!rearrangeUndoStack(stack, stack.length)) return;\n      if (!session) session = this.$session;\n      if (this.$redoStackBaseRev !== this.$rev && this.$redoStack.length) this.$redoStack = [];\n      this.$fromUndo = true;\n      var deltaSet = stack.pop();\n      var undoSelectionRange = null;\n\n      if (deltaSet) {\n        undoSelectionRange = session.undoChanges(deltaSet, dontSelect);\n        this.$redoStack.push(deltaSet);\n        this.$syncRev();\n      }\n\n      this.$fromUndo = false;\n      return undoSelectionRange;\n    };\n\n    this.redo = function (session, dontSelect) {\n      this.lastDeltas = null;\n      if (!session) session = this.$session;\n      this.$fromUndo = true;\n\n      if (this.$redoStackBaseRev != this.$rev) {\n        var diff = this.getDeltas(this.$redoStackBaseRev, this.$rev + 1);\n        rebaseRedoStack(this.$redoStack, diff);\n        this.$redoStackBaseRev = this.$rev;\n        this.$redoStack.forEach(function (x) {\n          x[0].id = ++this.$maxRev;\n        }, this);\n      }\n\n      var deltaSet = this.$redoStack.pop();\n      var redoSelectionRange = null;\n\n      if (deltaSet) {\n        redoSelectionRange = session.redoChanges(deltaSet, dontSelect);\n        this.$undoStack.push(deltaSet);\n        this.$syncRev();\n      }\n\n      this.$fromUndo = false;\n      return redoSelectionRange;\n    };\n\n    this.$syncRev = function () {\n      var stack = this.$undoStack;\n      var nextDelta = stack[stack.length - 1];\n      var id = nextDelta && nextDelta[0].id || 0;\n      this.$redoStackBaseRev = id;\n      this.$rev = id;\n    };\n\n    this.reset = function () {\n      this.lastDeltas = null;\n      this.$lastDelta = null;\n      this.$undoStack = [];\n      this.$redoStack = [];\n      this.$rev = 0;\n      this.mark = 0;\n      this.$redoStackBaseRev = this.$rev;\n      this.selections = [];\n    };\n\n    this.canUndo = function () {\n      return this.$undoStack.length > 0;\n    };\n\n    this.canRedo = function () {\n      return this.$redoStack.length > 0;\n    };\n\n    this.bookmark = function (rev) {\n      if (rev == undefined) rev = this.$rev;\n      this.mark = rev;\n    };\n\n    this.isAtBookmark = function () {\n      return this.$rev === this.mark;\n    };\n\n    this.toJSON = function () {};\n\n    this.fromJSON = function () {};\n\n    this.hasUndo = this.canUndo;\n    this.hasRedo = this.canRedo;\n    this.isClean = this.isAtBookmark;\n    this.markClean = this.bookmark;\n\n    this.$prettyPrint = function (delta) {\n      if (delta) return stringifyDelta(delta);\n      return stringifyDelta(this.$undoStack) + \"\\n---\\n\" + stringifyDelta(this.$redoStack);\n    };\n  }).call(UndoManager.prototype);\n\n  function rearrangeUndoStack(stack, pos) {\n    for (var i = pos; i--;) {\n      var deltaSet = stack[i];\n\n      if (deltaSet && !deltaSet[0].ignore) {\n        while (i < pos - 1) {\n          var swapped = swapGroups(stack[i], stack[i + 1]);\n          stack[i] = swapped[0];\n          stack[i + 1] = swapped[1];\n          i++;\n        }\n\n        return true;\n      }\n    }\n  }\n\n  var Range = require(\"./range\").Range;\n\n  var cmp = Range.comparePoints;\n  var comparePoints = Range.comparePoints;\n\n  function $updateMarkers(delta) {\n    var isInsert = delta.action == \"insert\";\n    var start = delta.start;\n    var end = delta.end;\n    var rowShift = (end.row - start.row) * (isInsert ? 1 : -1);\n    var colShift = (end.column - start.column) * (isInsert ? 1 : -1);\n    if (isInsert) end = start;\n\n    for (var i in this.marks) {\n      var point = this.marks[i];\n      var cmp = comparePoints(point, start);\n\n      if (cmp < 0) {\n        continue; // delta starts after the range\n      }\n\n      if (cmp === 0) {\n        if (isInsert) {\n          if (point.bias == 1) {\n            cmp = 1;\n          } else {\n            point.bias == -1;\n            continue;\n          }\n        }\n      }\n\n      var cmp2 = isInsert ? cmp : comparePoints(point, end);\n\n      if (cmp2 > 0) {\n        point.row += rowShift;\n        point.column += point.row == end.row ? colShift : 0;\n        continue;\n      }\n\n      if (!isInsert && cmp2 <= 0) {\n        point.row = start.row;\n        point.column = start.column;\n        if (cmp2 === 0) point.bias = 1;\n      }\n    }\n  }\n\n  function clonePos(pos) {\n    return {\n      row: pos.row,\n      column: pos.column\n    };\n  }\n\n  function cloneDelta(d) {\n    return {\n      start: clonePos(d.start),\n      end: clonePos(d.end),\n      action: d.action,\n      lines: d.lines.slice()\n    };\n  }\n\n  function stringifyDelta(d) {\n    d = d || this;\n\n    if (Array.isArray(d)) {\n      return d.map(stringifyDelta).join(\"\\n\");\n    }\n\n    var type = \"\";\n\n    if (d.action) {\n      type = d.action == \"insert\" ? \"+\" : \"-\";\n      type += \"[\" + d.lines + \"]\";\n    } else if (d.value) {\n      if (Array.isArray(d.value)) {\n        type = d.value.map(stringifyRange).join(\"\\n\");\n      } else {\n        type = stringifyRange(d.value);\n      }\n    }\n\n    if (d.start) {\n      type += stringifyRange(d);\n    }\n\n    if (d.id || d.rev) {\n      type += \"\\t(\" + (d.id || d.rev) + \")\";\n    }\n\n    return type;\n  }\n\n  function stringifyRange(r) {\n    return r.start.row + \":\" + r.start.column + \"=>\" + r.end.row + \":\" + r.end.column;\n  }\n\n  function swap(d1, d2) {\n    var i1 = d1.action == \"insert\";\n    var i2 = d2.action == \"insert\";\n\n    if (i1 && i2) {\n      if (cmp(d2.start, d1.end) >= 0) {\n        shift(d2, d1, -1);\n      } else if (cmp(d2.start, d1.start) <= 0) {\n        shift(d1, d2, +1);\n      } else {\n        return null;\n      }\n    } else if (i1 && !i2) {\n      if (cmp(d2.start, d1.end) >= 0) {\n        shift(d2, d1, -1);\n      } else if (cmp(d2.end, d1.start) <= 0) {\n        shift(d1, d2, -1);\n      } else {\n        return null;\n      }\n    } else if (!i1 && i2) {\n      if (cmp(d2.start, d1.start) >= 0) {\n        shift(d2, d1, +1);\n      } else if (cmp(d2.start, d1.start) <= 0) {\n        shift(d1, d2, +1);\n      } else {\n        return null;\n      }\n    } else if (!i1 && !i2) {\n      if (cmp(d2.start, d1.start) >= 0) {\n        shift(d2, d1, +1);\n      } else if (cmp(d2.end, d1.start) <= 0) {\n        shift(d1, d2, -1);\n      } else {\n        return null;\n      }\n    }\n\n    return [d2, d1];\n  }\n\n  function swapGroups(ds1, ds2) {\n    for (var i = ds1.length; i--;) {\n      for (var j = 0; j < ds2.length; j++) {\n        if (!swap(ds1[i], ds2[j])) {\n          while (i < ds1.length) {\n            while (j--) {\n              swap(ds2[j], ds1[i]);\n            }\n\n            j = ds2.length;\n            i++;\n          }\n\n          return [ds1, ds2];\n        }\n      }\n    }\n\n    ds1.selectionBefore = ds2.selectionBefore = ds1.selectionAfter = ds2.selectionAfter = null;\n    return [ds2, ds1];\n  }\n\n  function xform(d1, c1) {\n    var i1 = d1.action == \"insert\";\n    var i2 = c1.action == \"insert\";\n\n    if (i1 && i2) {\n      if (cmp(d1.start, c1.start) < 0) {\n        shift(c1, d1, 1);\n      } else {\n        shift(d1, c1, 1);\n      }\n    } else if (i1 && !i2) {\n      if (cmp(d1.start, c1.end) >= 0) {\n        shift(d1, c1, -1);\n      } else if (cmp(d1.start, c1.start) <= 0) {\n        shift(c1, d1, +1);\n      } else {\n        shift(d1, Range.fromPoints(c1.start, d1.start), -1);\n        shift(c1, d1, +1);\n      }\n    } else if (!i1 && i2) {\n      if (cmp(c1.start, d1.end) >= 0) {\n        shift(c1, d1, -1);\n      } else if (cmp(c1.start, d1.start) <= 0) {\n        shift(d1, c1, +1);\n      } else {\n        shift(c1, Range.fromPoints(d1.start, c1.start), -1);\n        shift(d1, c1, +1);\n      }\n    } else if (!i1 && !i2) {\n      if (cmp(c1.start, d1.end) >= 0) {\n        shift(c1, d1, -1);\n      } else if (cmp(c1.end, d1.start) <= 0) {\n        shift(d1, c1, -1);\n      } else {\n        var before, after;\n\n        if (cmp(d1.start, c1.start) < 0) {\n          before = d1;\n          d1 = splitDelta(d1, c1.start);\n        }\n\n        if (cmp(d1.end, c1.end) > 0) {\n          after = splitDelta(d1, c1.end);\n        }\n\n        shiftPos(c1.end, d1.start, d1.end, -1);\n\n        if (after && !before) {\n          d1.lines = after.lines;\n          d1.start = after.start;\n          d1.end = after.end;\n          after = d1;\n        }\n\n        return [c1, before, after].filter(Boolean);\n      }\n    }\n\n    return [c1, d1];\n  }\n\n  function shift(d1, d2, dir) {\n    shiftPos(d1.start, d2.start, d2.end, dir);\n    shiftPos(d1.end, d2.start, d2.end, dir);\n  }\n\n  function shiftPos(pos, start, end, dir) {\n    if (pos.row == (dir == 1 ? start : end).row) {\n      pos.column += dir * (end.column - start.column);\n    }\n\n    pos.row += dir * (end.row - start.row);\n  }\n\n  function splitDelta(c, pos) {\n    var lines = c.lines;\n    var end = c.end;\n    c.end = clonePos(pos);\n    var rowsBefore = c.end.row - c.start.row;\n    var otherLines = lines.splice(rowsBefore, lines.length);\n    var col = rowsBefore ? pos.column : pos.column - c.start.column;\n    lines.push(otherLines[0].substring(0, col));\n    otherLines[0] = otherLines[0].substr(col);\n    var rest = {\n      start: clonePos(pos),\n      end: end,\n      lines: otherLines,\n      action: c.action\n    };\n    return rest;\n  }\n\n  function moveDeltasByOne(redoStack, d) {\n    d = cloneDelta(d);\n\n    for (var j = redoStack.length; j--;) {\n      var deltaSet = redoStack[j];\n\n      for (var i = 0; i < deltaSet.length; i++) {\n        var x = deltaSet[i];\n        var xformed = xform(x, d);\n        d = xformed[0];\n\n        if (xformed.length != 2) {\n          if (xformed[2]) {\n            deltaSet.splice(i + 1, 1, xformed[1], xformed[2]);\n            i++;\n          } else if (!xformed[1]) {\n            deltaSet.splice(i, 1);\n            i--;\n          }\n        }\n      }\n\n      if (!deltaSet.length) {\n        redoStack.splice(j, 1);\n      }\n    }\n\n    return redoStack;\n  }\n\n  function rebaseRedoStack(redoStack, deltaSets) {\n    for (var i = 0; i < deltaSets.length; i++) {\n      var deltas = deltaSets[i];\n\n      for (var j = 0; j < deltas.length; j++) {\n        moveDeltasByOne(redoStack, deltas[j]);\n      }\n    }\n  }\n\n  exports.UndoManager = UndoManager;\n});\nace.define(\"ace/layer/lines\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\"], function (require, exports, module) {\n  \"use strict\";\n\n  var dom = require(\"../lib/dom\");\n\n  var Lines = function Lines(element, canvasHeight) {\n    this.element = element;\n    this.canvasHeight = canvasHeight || 500000;\n    this.element.style.height = this.canvasHeight * 2 + \"px\";\n    this.cells = [];\n    this.cellCache = [];\n    this.$offsetCoefficient = 0;\n  };\n\n  (function () {\n    this.moveContainer = function (config) {\n      dom.translate(this.element, 0, -(config.firstRowScreen * config.lineHeight % this.canvasHeight) - config.offset * this.$offsetCoefficient);\n    };\n\n    this.pageChanged = function (oldConfig, newConfig) {\n      return Math.floor(oldConfig.firstRowScreen * oldConfig.lineHeight / this.canvasHeight) !== Math.floor(newConfig.firstRowScreen * newConfig.lineHeight / this.canvasHeight);\n    };\n\n    this.computeLineTop = function (row, config, session) {\n      var screenTop = config.firstRowScreen * config.lineHeight;\n      var screenPage = Math.floor(screenTop / this.canvasHeight);\n      var lineTop = session.documentToScreenRow(row, 0) * config.lineHeight;\n      return lineTop - screenPage * this.canvasHeight;\n    };\n\n    this.computeLineHeight = function (row, config, session) {\n      return config.lineHeight * session.getRowLineCount(row);\n    };\n\n    this.getLength = function () {\n      return this.cells.length;\n    };\n\n    this.get = function (index) {\n      return this.cells[index];\n    };\n\n    this.shift = function () {\n      this.$cacheCell(this.cells.shift());\n    };\n\n    this.pop = function () {\n      this.$cacheCell(this.cells.pop());\n    };\n\n    this.push = function (cell) {\n      if (Array.isArray(cell)) {\n        this.cells.push.apply(this.cells, cell);\n        var fragment = dom.createFragment(this.element);\n\n        for (var i = 0; i < cell.length; i++) {\n          fragment.appendChild(cell[i].element);\n        }\n\n        this.element.appendChild(fragment);\n      } else {\n        this.cells.push(cell);\n        this.element.appendChild(cell.element);\n      }\n    };\n\n    this.unshift = function (cell) {\n      if (Array.isArray(cell)) {\n        this.cells.unshift.apply(this.cells, cell);\n        var fragment = dom.createFragment(this.element);\n\n        for (var i = 0; i < cell.length; i++) {\n          fragment.appendChild(cell[i].element);\n        }\n\n        if (this.element.firstChild) this.element.insertBefore(fragment, this.element.firstChild);else this.element.appendChild(fragment);\n      } else {\n        this.cells.unshift(cell);\n        this.element.insertAdjacentElement(\"afterbegin\", cell.element);\n      }\n    };\n\n    this.last = function () {\n      if (this.cells.length) return this.cells[this.cells.length - 1];else return null;\n    };\n\n    this.$cacheCell = function (cell) {\n      if (!cell) return;\n      cell.element.remove();\n      this.cellCache.push(cell);\n    };\n\n    this.createCell = function (row, config, session, initElement) {\n      var cell = this.cellCache.pop();\n\n      if (!cell) {\n        var element = dom.createElement(\"div\");\n        if (initElement) initElement(element);\n        this.element.appendChild(element);\n        cell = {\n          element: element,\n          text: \"\",\n          row: row\n        };\n      }\n\n      cell.row = row;\n      return cell;\n    };\n  }).call(Lines.prototype);\n  exports.Lines = Lines;\n});\nace.define(\"ace/layer/gutter\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/lib/oop\", \"ace/lib/lang\", \"ace/lib/event_emitter\", \"ace/layer/lines\"], function (require, exports, module) {\n  \"use strict\";\n\n  var dom = require(\"../lib/dom\");\n\n  var oop = require(\"../lib/oop\");\n\n  var lang = require(\"../lib/lang\");\n\n  var EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\n  var Lines = require(\"./lines\").Lines;\n\n  var Gutter = function Gutter(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_gutter-layer\";\n    parentEl.appendChild(this.element);\n    this.setShowFoldWidgets(this.$showFoldWidgets);\n    this.gutterWidth = 0;\n    this.$annotations = [];\n    this.$updateAnnotations = this.$updateAnnotations.bind(this);\n    this.$lines = new Lines(this.element);\n    this.$lines.$offsetCoefficient = 1;\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.setSession = function (session) {\n      if (this.session) this.session.off(\"change\", this.$updateAnnotations);\n      this.session = session;\n      if (session) session.on(\"change\", this.$updateAnnotations);\n    };\n\n    this.addGutterDecoration = function (row, className) {\n      if (window.console) console.warn && console.warn(\"deprecated use session.addGutterDecoration\");\n      this.session.addGutterDecoration(row, className);\n    };\n\n    this.removeGutterDecoration = function (row, className) {\n      if (window.console) console.warn && console.warn(\"deprecated use session.removeGutterDecoration\");\n      this.session.removeGutterDecoration(row, className);\n    };\n\n    this.setAnnotations = function (annotations) {\n      this.$annotations = [];\n\n      for (var i = 0; i < annotations.length; i++) {\n        var annotation = annotations[i];\n        var row = annotation.row;\n        var rowInfo = this.$annotations[row];\n        if (!rowInfo) rowInfo = this.$annotations[row] = {\n          text: []\n        };\n        var annoText = annotation.text;\n        annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || \"\";\n        if (rowInfo.text.indexOf(annoText) === -1) rowInfo.text.push(annoText);\n        var type = annotation.type;\n        if (type == \"error\") rowInfo.className = \" ace_error\";else if (type == \"warning\" && rowInfo.className != \" ace_error\") rowInfo.className = \" ace_warning\";else if (type == \"info\" && !rowInfo.className) rowInfo.className = \" ace_info\";\n      }\n    };\n\n    this.$updateAnnotations = function (delta) {\n      if (!this.$annotations.length) return;\n      var firstRow = delta.start.row;\n      var len = delta.end.row - firstRow;\n\n      if (len === 0) {} else if (delta.action == 'remove') {\n        this.$annotations.splice(firstRow, len + 1, null);\n      } else {\n        var args = new Array(len + 1);\n        args.unshift(firstRow, 1);\n        this.$annotations.splice.apply(this.$annotations, args);\n      }\n    };\n\n    this.update = function (config) {\n      this.config = config;\n      var session = this.session;\n      var firstRow = config.firstRow;\n      var lastRow = Math.min(config.lastRow + config.gutterOffset, // needed to compensate for hor scollbar\n      session.getLength() - 1);\n      this.oldLastRow = lastRow;\n      this.config = config;\n      this.$lines.moveContainer(config);\n      this.$updateCursorRow();\n      var fold = session.getNextFoldLine(firstRow);\n      var foldStart = fold ? fold.start.row : Infinity;\n      var cell = null;\n      var index = -1;\n      var row = firstRow;\n\n      while (true) {\n        if (row > foldStart) {\n          row = fold.end.row + 1;\n          fold = session.getNextFoldLine(row, fold);\n          foldStart = fold ? fold.start.row : Infinity;\n        }\n\n        if (row > lastRow) {\n          while (this.$lines.getLength() > index + 1) {\n            this.$lines.pop();\n          }\n\n          break;\n        }\n\n        cell = this.$lines.get(++index);\n\n        if (cell) {\n          cell.row = row;\n        } else {\n          cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n          this.$lines.push(cell);\n        }\n\n        this.$renderCell(cell, config, fold, row);\n        row++;\n      }\n\n      this._signal(\"afterRender\");\n\n      this.$updateGutterWidth(config);\n    };\n\n    this.$updateGutterWidth = function (config) {\n      var session = this.session;\n      var gutterRenderer = session.gutterRenderer || this.$renderer;\n      var firstLineNumber = session.$firstLineNumber;\n      var lastLineText = this.$lines.last() ? this.$lines.last().text : \"\";\n      if (this.$fixedWidth || session.$useWrapMode) lastLineText = session.getLength() + firstLineNumber - 1;\n      var gutterWidth = gutterRenderer ? gutterRenderer.getWidth(session, lastLineText, config) : lastLineText.toString().length * config.characterWidth;\n      var padding = this.$padding || this.$computePadding();\n      gutterWidth += padding.left + padding.right;\n\n      if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {\n        this.gutterWidth = gutterWidth;\n        this.element.parentNode.style.width = this.element.style.width = Math.ceil(this.gutterWidth) + \"px\";\n\n        this._signal(\"changeGutterWidth\", gutterWidth);\n      }\n    };\n\n    this.$updateCursorRow = function () {\n      if (!this.$highlightGutterLine) return;\n      var position = this.session.selection.getCursor();\n      if (this.$cursorRow === position.row) return;\n      this.$cursorRow = position.row;\n    };\n\n    this.updateLineHighlight = function () {\n      if (!this.$highlightGutterLine) return;\n      var row = this.session.selection.cursor.row;\n      this.$cursorRow = row;\n      if (this.$cursorCell && this.$cursorCell.row == row) return;\n      if (this.$cursorCell) this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n      var cells = this.$lines.cells;\n      this.$cursorCell = null;\n\n      for (var i = 0; i < cells.length; i++) {\n        var cell = cells[i];\n\n        if (cell.row >= this.$cursorRow) {\n          if (cell.row > this.$cursorRow) {\n            var fold = this.session.getFoldLine(this.$cursorRow);\n            if (i > 0 && fold && fold.start.row == cells[i - 1].row) cell = cells[i - 1];else break;\n          }\n\n          cell.element.className = \"ace_gutter-active-line \" + cell.element.className;\n          this.$cursorCell = cell;\n          break;\n        }\n      }\n    };\n\n    this.scrollLines = function (config) {\n      var oldConfig = this.config;\n      this.config = config;\n      this.$updateCursorRow();\n      if (this.$lines.pageChanged(oldConfig, config)) return this.update(config);\n      this.$lines.moveContainer(config);\n      var lastRow = Math.min(config.lastRow + config.gutterOffset, // needed to compensate for hor scollbar\n      this.session.getLength() - 1);\n      var oldLastRow = this.oldLastRow;\n      this.oldLastRow = lastRow;\n      if (!oldConfig || oldLastRow < config.firstRow) return this.update(config);\n      if (lastRow < oldConfig.firstRow) return this.update(config);\n      if (oldConfig.firstRow < config.firstRow) for (var row = this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row > 0; row--) {\n        this.$lines.shift();\n      }\n      if (oldLastRow > lastRow) for (var row = this.session.getFoldedRowCount(lastRow + 1, oldLastRow); row > 0; row--) {\n        this.$lines.pop();\n      }\n\n      if (config.firstRow < oldConfig.firstRow) {\n        this.$lines.unshift(this.$renderLines(config, config.firstRow, oldConfig.firstRow - 1));\n      }\n\n      if (lastRow > oldLastRow) {\n        this.$lines.push(this.$renderLines(config, oldLastRow + 1, lastRow));\n      }\n\n      this.updateLineHighlight();\n\n      this._signal(\"afterRender\");\n\n      this.$updateGutterWidth(config);\n    };\n\n    this.$renderLines = function (config, firstRow, lastRow) {\n      var fragment = [];\n      var row = firstRow;\n      var foldLine = this.session.getNextFoldLine(row);\n      var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n      while (true) {\n        if (row > foldStart) {\n          row = foldLine.end.row + 1;\n          foldLine = this.session.getNextFoldLine(row, foldLine);\n          foldStart = foldLine ? foldLine.start.row : Infinity;\n        }\n\n        if (row > lastRow) break;\n        var cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n        this.$renderCell(cell, config, foldLine, row);\n        fragment.push(cell);\n        row++;\n      }\n\n      return fragment;\n    };\n\n    this.$renderCell = function (cell, config, fold, row) {\n      var element = cell.element;\n      var session = this.session;\n      var textNode = element.childNodes[0];\n      var foldWidget = element.childNodes[1];\n      var firstLineNumber = session.$firstLineNumber;\n      var breakpoints = session.$breakpoints;\n      var decorations = session.$decorations;\n      var gutterRenderer = session.gutterRenderer || this.$renderer;\n      var foldWidgets = this.$showFoldWidgets && session.foldWidgets;\n      var foldStart = fold ? fold.start.row : Number.MAX_VALUE;\n      var className = \"ace_gutter-cell \";\n\n      if (this.$highlightGutterLine) {\n        if (row == this.$cursorRow || fold && row < this.$cursorRow && row >= foldStart && this.$cursorRow <= fold.end.row) {\n          className += \"ace_gutter-active-line \";\n\n          if (this.$cursorCell != cell) {\n            if (this.$cursorCell) this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n            this.$cursorCell = cell;\n          }\n        }\n      }\n\n      if (breakpoints[row]) className += breakpoints[row];\n      if (decorations[row]) className += decorations[row];\n      if (this.$annotations[row]) className += this.$annotations[row].className;\n      if (element.className != className) element.className = className;\n\n      if (foldWidgets) {\n        var c = foldWidgets[row];\n        if (c == null) c = foldWidgets[row] = session.getFoldWidget(row);\n      }\n\n      if (c) {\n        var className = \"ace_fold-widget ace_\" + c;\n        if (c == \"start\" && row == foldStart && row < fold.end.row) className += \" ace_closed\";else className += \" ace_open\";\n        if (foldWidget.className != className) foldWidget.className = className;\n        var foldHeight = config.lineHeight + \"px\";\n        dom.setStyle(foldWidget.style, \"height\", foldHeight);\n        dom.setStyle(foldWidget.style, \"display\", \"inline-block\");\n      } else {\n        if (foldWidget) {\n          dom.setStyle(foldWidget.style, \"display\", \"none\");\n        }\n      }\n\n      var text = (gutterRenderer ? gutterRenderer.getText(session, row) : row + firstLineNumber).toString();\n\n      if (text !== textNode.data) {\n        textNode.data = text;\n      }\n\n      dom.setStyle(cell.element.style, \"height\", this.$lines.computeLineHeight(row, config, session) + \"px\");\n      dom.setStyle(cell.element.style, \"top\", this.$lines.computeLineTop(row, config, session) + \"px\");\n      cell.text = text;\n      return cell;\n    };\n\n    this.$fixedWidth = false;\n    this.$highlightGutterLine = true;\n    this.$renderer = \"\";\n\n    this.setHighlightGutterLine = function (highlightGutterLine) {\n      this.$highlightGutterLine = highlightGutterLine;\n    };\n\n    this.$showLineNumbers = true;\n    this.$renderer = \"\";\n\n    this.setShowLineNumbers = function (show) {\n      this.$renderer = !show && {\n        getWidth: function getWidth() {\n          return 0;\n        },\n        getText: function getText() {\n          return \"\";\n        }\n      };\n    };\n\n    this.getShowLineNumbers = function () {\n      return this.$showLineNumbers;\n    };\n\n    this.$showFoldWidgets = true;\n\n    this.setShowFoldWidgets = function (show) {\n      if (show) dom.addCssClass(this.element, \"ace_folding-enabled\");else dom.removeCssClass(this.element, \"ace_folding-enabled\");\n      this.$showFoldWidgets = show;\n      this.$padding = null;\n    };\n\n    this.getShowFoldWidgets = function () {\n      return this.$showFoldWidgets;\n    };\n\n    this.$computePadding = function () {\n      if (!this.element.firstChild) return {\n        left: 0,\n        right: 0\n      };\n      var style = dom.computedStyle(this.element.firstChild);\n      this.$padding = {};\n      this.$padding.left = (parseInt(style.borderLeftWidth) || 0) + (parseInt(style.paddingLeft) || 0) + 1;\n      this.$padding.right = (parseInt(style.borderRightWidth) || 0) + (parseInt(style.paddingRight) || 0);\n      return this.$padding;\n    };\n\n    this.getRegion = function (point) {\n      var padding = this.$padding || this.$computePadding();\n      var rect = this.element.getBoundingClientRect();\n      if (point.x < padding.left + rect.left) return \"markers\";\n      if (this.$showFoldWidgets && point.x > rect.right - padding.right) return \"foldWidgets\";\n    };\n  }).call(Gutter.prototype);\n\n  function onCreateCell(element) {\n    var textNode = document.createTextNode('');\n    element.appendChild(textNode);\n    var foldWidget = dom.createElement(\"span\");\n    element.appendChild(foldWidget);\n    return element;\n  }\n\n  exports.Gutter = Gutter;\n});\nace.define(\"ace/layer/marker\", [\"require\", \"exports\", \"module\", \"ace/range\", \"ace/lib/dom\"], function (require, exports, module) {\n  \"use strict\";\n\n  var Range = require(\"../range\").Range;\n\n  var dom = require(\"../lib/dom\");\n\n  var Marker = function Marker(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_marker-layer\";\n    parentEl.appendChild(this.element);\n  };\n\n  (function () {\n    this.$padding = 0;\n\n    this.setPadding = function (padding) {\n      this.$padding = padding;\n    };\n\n    this.setSession = function (session) {\n      this.session = session;\n    };\n\n    this.setMarkers = function (markers) {\n      this.markers = markers;\n    };\n\n    this.elt = function (className, css) {\n      var x = this.i != -1 && this.element.childNodes[this.i];\n\n      if (!x) {\n        x = document.createElement(\"div\");\n        this.element.appendChild(x);\n        this.i = -1;\n      } else {\n        this.i++;\n      }\n\n      x.style.cssText = css;\n      x.className = className;\n    };\n\n    this.update = function (config) {\n      if (!config) return;\n      this.config = config;\n      this.i = 0;\n      var html;\n\n      for (var key in this.markers) {\n        var marker = this.markers[key];\n\n        if (!marker.range) {\n          marker.update(html, this, this.session, config);\n          continue;\n        }\n\n        var range = marker.range.clipRows(config.firstRow, config.lastRow);\n        if (range.isEmpty()) continue;\n        range = range.toScreenRange(this.session);\n\n        if (marker.renderer) {\n          var top = this.$getTop(range.start.row, config);\n          var left = this.$padding + range.start.column * config.characterWidth;\n          marker.renderer(html, range, left, top, config);\n        } else if (marker.type == \"fullLine\") {\n          this.drawFullLineMarker(html, range, marker.clazz, config);\n        } else if (marker.type == \"screenLine\") {\n          this.drawScreenLineMarker(html, range, marker.clazz, config);\n        } else if (range.isMultiLine()) {\n          if (marker.type == \"text\") this.drawTextMarker(html, range, marker.clazz, config);else this.drawMultiLineMarker(html, range, marker.clazz, config);\n        } else {\n          this.drawSingleLineMarker(html, range, marker.clazz + \" ace_start\" + \" ace_br15\", config);\n        }\n      }\n\n      if (this.i != -1) {\n        while (this.i < this.element.childElementCount) {\n          this.element.removeChild(this.element.lastChild);\n        }\n      }\n    };\n\n    this.$getTop = function (row, layerConfig) {\n      return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;\n    };\n\n    function getBorderClass(tl, tr, br, bl) {\n      return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);\n    }\n\n    this.drawTextMarker = function (stringBuilder, range, clazz, layerConfig, extraStyle) {\n      var session = this.session;\n      var start = range.start.row;\n      var end = range.end.row;\n      var row = start;\n      var prev = 0;\n      var curr = 0;\n      var next = session.getScreenLastRowColumn(row);\n      var lineRange = new Range(row, range.start.column, row, curr);\n\n      for (; row <= end; row++) {\n        lineRange.start.row = lineRange.end.row = row;\n        lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);\n        lineRange.end.column = next;\n        prev = curr;\n        curr = next;\n        next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;\n        this.drawSingleLineMarker(stringBuilder, lineRange, clazz + (row == start ? \" ace_start\" : \"\") + \" ace_br\" + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end), layerConfig, row == end ? 0 : 1, extraStyle);\n      }\n    };\n\n    this.drawMultiLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n      var padding = this.$padding;\n      var height = config.lineHeight;\n      var top = this.$getTop(range.start.row, config);\n      var left = padding + range.start.column * config.characterWidth;\n      extraStyle = extraStyle || \"\";\n\n      if (this.session.$bidiHandler.isBidiRow(range.start.row)) {\n        var range1 = range.clone();\n        range1.end.row = range1.start.row;\n        range1.end.column = this.session.getLine(range1.start.row).length;\n        this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br1 ace_start\", config, null, extraStyle);\n      } else {\n        this.elt(clazz + \" ace_br1 ace_start\", \"height:\" + height + \"px;\" + \"right:0;\" + \"top:\" + top + \"px;left:\" + left + \"px;\" + (extraStyle || \"\"));\n      }\n\n      if (this.session.$bidiHandler.isBidiRow(range.end.row)) {\n        var range1 = range.clone();\n        range1.start.row = range1.end.row;\n        range1.start.column = 0;\n        this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br12\", config, null, extraStyle);\n      } else {\n        top = this.$getTop(range.end.row, config);\n        var width = range.end.column * config.characterWidth;\n        this.elt(clazz + \" ace_br12\", \"height:\" + height + \"px;\" + \"width:\" + width + \"px;\" + \"top:\" + top + \"px;\" + \"left:\" + padding + \"px;\" + (extraStyle || \"\"));\n      }\n\n      height = (range.end.row - range.start.row - 1) * config.lineHeight;\n      if (height <= 0) return;\n      top = this.$getTop(range.start.row + 1, config);\n      var radiusClass = (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);\n      this.elt(clazz + (radiusClass ? \" ace_br\" + radiusClass : \"\"), \"height:\" + height + \"px;\" + \"right:0;\" + \"top:\" + top + \"px;\" + \"left:\" + padding + \"px;\" + (extraStyle || \"\"));\n    };\n\n    this.drawSingleLineMarker = function (stringBuilder, range, clazz, config, extraLength, extraStyle) {\n      if (this.session.$bidiHandler.isBidiRow(range.start.row)) return this.drawBidiSingleLineMarker(stringBuilder, range, clazz, config, extraLength, extraStyle);\n      var height = config.lineHeight;\n      var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;\n      var top = this.$getTop(range.start.row, config);\n      var left = this.$padding + range.start.column * config.characterWidth;\n      this.elt(clazz, \"height:\" + height + \"px;\" + \"width:\" + width + \"px;\" + \"top:\" + top + \"px;\" + \"left:\" + left + \"px;\" + (extraStyle || \"\"));\n    };\n\n    this.drawBidiSingleLineMarker = function (stringBuilder, range, clazz, config, extraLength, extraStyle) {\n      var height = config.lineHeight,\n          top = this.$getTop(range.start.row, config),\n          padding = this.$padding;\n      var selections = this.session.$bidiHandler.getSelections(range.start.column, range.end.column);\n      selections.forEach(function (selection) {\n        this.elt(clazz, \"height:\" + height + \"px;\" + \"width:\" + selection.width + (extraLength || 0) + \"px;\" + \"top:\" + top + \"px;\" + \"left:\" + (padding + selection.left) + \"px;\" + (extraStyle || \"\"));\n      }, this);\n    };\n\n    this.drawFullLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n      var top = this.$getTop(range.start.row, config);\n      var height = config.lineHeight;\n      if (range.start.row != range.end.row) height += this.$getTop(range.end.row, config) - top;\n      this.elt(clazz, \"height:\" + height + \"px;\" + \"top:\" + top + \"px;\" + \"left:0;right:0;\" + (extraStyle || \"\"));\n    };\n\n    this.drawScreenLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n      var top = this.$getTop(range.start.row, config);\n      var height = config.lineHeight;\n      this.elt(clazz, \"height:\" + height + \"px;\" + \"top:\" + top + \"px;\" + \"left:0;right:0;\" + (extraStyle || \"\"));\n    };\n  }).call(Marker.prototype);\n  exports.Marker = Marker;\n});\nace.define(\"ace/layer/text\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/lib/lang\", \"ace/layer/lines\", \"ace/lib/event_emitter\"], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"../lib/oop\");\n\n  var dom = require(\"../lib/dom\");\n\n  var lang = require(\"../lib/lang\");\n\n  var Lines = require(\"./lines\").Lines;\n\n  var EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\n  var Text = function Text(parentEl) {\n    this.dom = dom;\n    this.element = this.dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_text-layer\";\n    parentEl.appendChild(this.element);\n    this.$updateEolChar = this.$updateEolChar.bind(this);\n    this.$lines = new Lines(this.element);\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n    this.EOF_CHAR = \"\\xB6\";\n    this.EOL_CHAR_LF = \"\\xAC\";\n    this.EOL_CHAR_CRLF = \"\\xa4\";\n    this.EOL_CHAR = this.EOL_CHAR_LF;\n    this.TAB_CHAR = \"\\u2014\"; //\"\\u21E5\";\n\n    this.SPACE_CHAR = \"\\xB7\";\n    this.$padding = 0;\n    this.MAX_LINE_LENGTH = 10000;\n\n    this.$updateEolChar = function () {\n      var doc = this.session.doc;\n      var unixMode = doc.getNewLineCharacter() == \"\\n\" && doc.getNewLineMode() != \"windows\";\n      var EOL_CHAR = unixMode ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;\n\n      if (this.EOL_CHAR != EOL_CHAR) {\n        this.EOL_CHAR = EOL_CHAR;\n        return true;\n      }\n    };\n\n    this.setPadding = function (padding) {\n      this.$padding = padding;\n      this.element.style.margin = \"0 \" + padding + \"px\";\n    };\n\n    this.getLineHeight = function () {\n      return this.$fontMetrics.$characterSize.height || 0;\n    };\n\n    this.getCharacterWidth = function () {\n      return this.$fontMetrics.$characterSize.width || 0;\n    };\n\n    this.$setFontMetrics = function (measure) {\n      this.$fontMetrics = measure;\n      this.$fontMetrics.on(\"changeCharacterSize\", function (e) {\n        this._signal(\"changeCharacterSize\", e);\n      }.bind(this));\n      this.$pollSizeChanges();\n    };\n\n    this.checkForSizeChanges = function () {\n      this.$fontMetrics.checkForSizeChanges();\n    };\n\n    this.$pollSizeChanges = function () {\n      return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();\n    };\n\n    this.setSession = function (session) {\n      this.session = session;\n      if (session) this.$computeTabString();\n    };\n\n    this.showInvisibles = false;\n    this.showSpaces = false;\n    this.showTabs = false;\n    this.showEOL = false;\n\n    this.setShowInvisibles = function (showInvisibles) {\n      if (this.showInvisibles == showInvisibles) return false;\n      this.showInvisibles = showInvisibles;\n\n      if (typeof showInvisibles == \"string\") {\n        this.showSpaces = /tab/i.test(showInvisibles);\n        this.showTabs = /space/i.test(showInvisibles);\n        this.showEOL = /eol/i.test(showInvisibles);\n      } else {\n        this.showSpaces = this.showTabs = this.showEOL = showInvisibles;\n      }\n\n      this.$computeTabString();\n      return true;\n    };\n\n    this.displayIndentGuides = true;\n\n    this.setDisplayIndentGuides = function (display) {\n      if (this.displayIndentGuides == display) return false;\n      this.displayIndentGuides = display;\n      this.$computeTabString();\n      return true;\n    };\n\n    this.$tabStrings = [];\n\n    this.onChangeTabSize = this.$computeTabString = function () {\n      var tabSize = this.session.getTabSize();\n      this.tabSize = tabSize;\n      var tabStr = this.$tabStrings = [0];\n\n      for (var i = 1; i < tabSize + 1; i++) {\n        if (this.showTabs) {\n          var span = this.dom.createElement(\"span\");\n          span.className = \"ace_invisible ace_invisible_tab\";\n          span.textContent = lang.stringRepeat(this.TAB_CHAR, i);\n          tabStr.push(span);\n        } else {\n          tabStr.push(this.dom.createTextNode(lang.stringRepeat(\" \", i), this.element));\n        }\n      }\n\n      if (this.displayIndentGuides) {\n        this.$indentGuideRe = /\\s\\S| \\t|\\t |\\s$/;\n        var className = \"ace_indent-guide\";\n        var spaceClass = this.showSpaces ? \" ace_invisible ace_invisible_space\" : \"\";\n        var spaceContent = this.showSpaces ? lang.stringRepeat(this.SPACE_CHAR, this.tabSize) : lang.stringRepeat(\" \", this.tabSize);\n        var tabClass = this.showTabs ? \" ace_invisible ace_invisible_tab\" : \"\";\n        var tabContent = this.showTabs ? lang.stringRepeat(this.TAB_CHAR, this.tabSize) : spaceContent;\n        var span = this.dom.createElement(\"span\");\n        span.className = className + spaceClass;\n        span.textContent = spaceContent;\n        this.$tabStrings[\" \"] = span;\n        var span = this.dom.createElement(\"span\");\n        span.className = className + tabClass;\n        span.textContent = tabContent;\n        this.$tabStrings[\"\\t\"] = span;\n      }\n    };\n\n    this.updateLines = function (config, firstRow, lastRow) {\n      if (this.config.lastRow != config.lastRow || this.config.firstRow != config.firstRow) {\n        return this.update(config);\n      }\n\n      this.config = config;\n      var first = Math.max(firstRow, config.firstRow);\n      var last = Math.min(lastRow, config.lastRow);\n      var lineElements = this.element.childNodes;\n      var lineElementsIdx = 0;\n\n      for (var row = config.firstRow; row < first; row++) {\n        var foldLine = this.session.getFoldLine(row);\n\n        if (foldLine) {\n          if (foldLine.containsRow(first)) {\n            first = foldLine.start.row;\n            break;\n          } else {\n            row = foldLine.end.row;\n          }\n        }\n\n        lineElementsIdx++;\n      }\n\n      var heightChanged = false;\n      var row = first;\n      var foldLine = this.session.getNextFoldLine(row);\n      var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n      while (true) {\n        if (row > foldStart) {\n          row = foldLine.end.row + 1;\n          foldLine = this.session.getNextFoldLine(row, foldLine);\n          foldStart = foldLine ? foldLine.start.row : Infinity;\n        }\n\n        if (row > last) break;\n        var lineElement = lineElements[lineElementsIdx++];\n\n        if (lineElement) {\n          this.dom.removeChildren(lineElement);\n          this.$renderLine(lineElement, row, row == foldStart ? foldLine : false);\n          if (heightChanged) lineElement.style.top = this.$lines.computeLineTop(row, config, this.session) + \"px\";\n          var height = config.lineHeight * this.session.getRowLength(row) + \"px\";\n\n          if (lineElement.style.height != height) {\n            heightChanged = true;\n            lineElement.style.height = height;\n          }\n        }\n\n        row++;\n      }\n\n      if (heightChanged) {\n        while (lineElementsIdx < this.$lines.cells.length) {\n          var cell = this.$lines.cells[lineElementsIdx++];\n          cell.element.style.top = this.$lines.computeLineTop(cell.row, config, this.session) + \"px\";\n        }\n      }\n    };\n\n    this.scrollLines = function (config) {\n      var oldConfig = this.config;\n      this.config = config;\n      if (this.$lines.pageChanged(oldConfig, config)) return this.update(config);\n      this.$lines.moveContainer(config);\n      var lastRow = config.lastRow;\n      var oldLastRow = oldConfig ? oldConfig.lastRow : -1;\n      if (!oldConfig || oldLastRow < config.firstRow) return this.update(config);\n      if (lastRow < oldConfig.firstRow) return this.update(config);\n      if (!oldConfig || oldConfig.lastRow < config.firstRow) return this.update(config);\n      if (config.lastRow < oldConfig.firstRow) return this.update(config);\n      if (oldConfig.firstRow < config.firstRow) for (var row = this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row > 0; row--) {\n        this.$lines.shift();\n      }\n      if (oldConfig.lastRow > config.lastRow) for (var row = this.session.getFoldedRowCount(config.lastRow + 1, oldConfig.lastRow); row > 0; row--) {\n        this.$lines.pop();\n      }\n\n      if (config.firstRow < oldConfig.firstRow) {\n        this.$lines.unshift(this.$renderLinesFragment(config, config.firstRow, oldConfig.firstRow - 1));\n      }\n\n      if (config.lastRow > oldConfig.lastRow) {\n        this.$lines.push(this.$renderLinesFragment(config, oldConfig.lastRow + 1, config.lastRow));\n      }\n    };\n\n    this.$renderLinesFragment = function (config, firstRow, lastRow) {\n      var fragment = [];\n      var row = firstRow;\n      var foldLine = this.session.getNextFoldLine(row);\n      var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n      while (true) {\n        if (row > foldStart) {\n          row = foldLine.end.row + 1;\n          foldLine = this.session.getNextFoldLine(row, foldLine);\n          foldStart = foldLine ? foldLine.start.row : Infinity;\n        }\n\n        if (row > lastRow) break;\n        var line = this.$lines.createCell(row, config, this.session);\n        var lineEl = line.element;\n        this.dom.removeChildren(lineEl);\n        dom.setStyle(lineEl.style, \"height\", this.$lines.computeLineHeight(row, config, this.session) + \"px\");\n        dom.setStyle(lineEl.style, \"top\", this.$lines.computeLineTop(row, config, this.session) + \"px\");\n        this.$renderLine(lineEl, row, row == foldStart ? foldLine : false);\n\n        if (this.$useLineGroups()) {\n          lineEl.className = \"ace_line_group\";\n        } else {\n          lineEl.className = \"ace_line\";\n        }\n\n        fragment.push(line);\n        row++;\n      }\n\n      return fragment;\n    };\n\n    this.update = function (config) {\n      this.$lines.moveContainer(config);\n      this.config = config;\n      var firstRow = config.firstRow;\n      var lastRow = config.lastRow;\n      var lines = this.$lines;\n\n      while (lines.getLength()) {\n        lines.pop();\n      }\n\n      lines.push(this.$renderLinesFragment(config, firstRow, lastRow));\n    };\n\n    this.$textToken = {\n      \"text\": true,\n      \"rparen\": true,\n      \"lparen\": true\n    };\n\n    this.$renderToken = function (parent, screenColumn, token, value) {\n      var self = this;\n      var re = /(\\t)|( +)|([\\x00-\\x1f\\x80-\\xa0\\xad\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\uFEFF\\uFFF9-\\uFFFC]+)|(\\u3000)|([\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3001-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/g;\n      var valueFragment = this.dom.createFragment(this.element);\n      var m;\n      var i = 0;\n\n      while (m = re.exec(value)) {\n        var tab = m[1];\n        var simpleSpace = m[2];\n        var controlCharacter = m[3];\n        var cjkSpace = m[4];\n        var cjk = m[5];\n        if (!self.showSpaces && simpleSpace) continue;\n        var before = i != m.index ? value.slice(i, m.index) : \"\";\n        i = m.index + m[0].length;\n\n        if (before) {\n          valueFragment.appendChild(this.dom.createTextNode(before, this.element));\n        }\n\n        if (tab) {\n          var tabSize = self.session.getScreenTabSize(screenColumn + m.index);\n          valueFragment.appendChild(self.$tabStrings[tabSize].cloneNode(true));\n          screenColumn += tabSize - 1;\n        } else if (simpleSpace) {\n          if (self.showSpaces) {\n            var span = this.dom.createElement(\"span\");\n            span.className = \"ace_invisible ace_invisible_space\";\n            span.textContent = lang.stringRepeat(self.SPACE_CHAR, simpleSpace.length);\n            valueFragment.appendChild(span);\n          } else {\n            valueFragment.appendChild(this.com.createTextNode(simpleSpace, this.element));\n          }\n        } else if (controlCharacter) {\n          var span = this.dom.createElement(\"span\");\n          span.className = \"ace_invisible ace_invisible_space ace_invalid\";\n          span.textContent = lang.stringRepeat(self.SPACE_CHAR, controlCharacter.length);\n          valueFragment.appendChild(span);\n        } else if (cjkSpace) {\n          screenColumn += 1;\n          var span = this.dom.createElement(\"span\");\n          span.style.width = self.config.characterWidth * 2 + \"px\";\n          span.className = self.showSpaces ? \"ace_cjk ace_invisible ace_invisible_space\" : \"ace_cjk\";\n          span.textContent = self.showSpaces ? self.SPACE_CHAR : cjkSpace;\n          valueFragment.appendChild(span);\n        } else if (cjk) {\n          screenColumn += 1;\n          var span = this.dom.createElement(\"span\");\n          span.style.width = self.config.characterWidth * 2 + \"px\";\n          span.className = \"ace_cjk\";\n          span.textContent = cjk;\n          valueFragment.appendChild(span);\n        }\n      }\n\n      valueFragment.appendChild(this.dom.createTextNode(i ? value.slice(i) : value, this.element));\n\n      if (!this.$textToken[token.type]) {\n        var classes = \"ace_\" + token.type.replace(/\\./g, \" ace_\");\n        var span = this.dom.createElement(\"span\");\n        if (token.type == \"fold\") span.style.width = token.value.length * this.config.characterWidth + \"px\";\n        span.className = classes;\n        span.appendChild(valueFragment);\n        parent.appendChild(span);\n      } else {\n        parent.appendChild(valueFragment);\n      }\n\n      return screenColumn + value.length;\n    };\n\n    this.renderIndentGuide = function (parent, value, max) {\n      var cols = value.search(this.$indentGuideRe);\n      if (cols <= 0 || cols >= max) return value;\n\n      if (value[0] == \" \") {\n        cols -= cols % this.tabSize;\n        var count = cols / this.tabSize;\n\n        for (var i = 0; i < count; i++) {\n          parent.appendChild(this.$tabStrings[\" \"].cloneNode(true));\n        }\n\n        return value.substr(cols);\n      } else if (value[0] == \"\\t\") {\n        for (var i = 0; i < cols; i++) {\n          parent.appendChild(this.$tabStrings[\"\\t\"].cloneNode(true));\n        }\n\n        return value.substr(cols);\n      }\n\n      return value;\n    };\n\n    this.$createLineElement = function (parent) {\n      var lineEl = this.dom.createElement(\"div\");\n      lineEl.className = \"ace_line\";\n      lineEl.style.height = this.config.lineHeight + \"px\";\n      return lineEl;\n    };\n\n    this.$renderWrappedLine = function (parent, tokens, splits) {\n      var chars = 0;\n      var split = 0;\n      var splitChars = splits[0];\n      var screenColumn = 0;\n      var lineEl = this.$createLineElement();\n      parent.appendChild(lineEl);\n\n      for (var i = 0; i < tokens.length; i++) {\n        var token = tokens[i];\n        var value = token.value;\n\n        if (i == 0 && this.displayIndentGuides) {\n          chars = value.length;\n          value = this.renderIndentGuide(lineEl, value, splitChars);\n          if (!value) continue;\n          chars -= value.length;\n        }\n\n        if (chars + value.length < splitChars) {\n          screenColumn = this.$renderToken(lineEl, screenColumn, token, value);\n          chars += value.length;\n        } else {\n          while (chars + value.length >= splitChars) {\n            screenColumn = this.$renderToken(lineEl, screenColumn, token, value.substring(0, splitChars - chars));\n            value = value.substring(splitChars - chars);\n            chars = splitChars;\n            lineEl = this.$createLineElement();\n            parent.appendChild(lineEl);\n            lineEl.appendChild(this.dom.createTextNode(lang.stringRepeat(\"\\xa0\", splits.indent), this.element));\n            split++;\n            screenColumn = 0;\n            splitChars = splits[split] || Number.MAX_VALUE;\n          }\n\n          if (value.length != 0) {\n            chars += value.length;\n            screenColumn = this.$renderToken(lineEl, screenColumn, token, value);\n          }\n        }\n      }\n\n      if (splits[splits.length - 1] > this.MAX_LINE_LENGTH) this.$renderOverflowMessage(lineEl, screenColumn, null, \"\", true);\n    };\n\n    this.$renderSimpleLine = function (parent, tokens) {\n      var screenColumn = 0;\n      var token = tokens[0];\n      var value = token.value;\n      if (this.displayIndentGuides) value = this.renderIndentGuide(parent, value);\n      if (value) screenColumn = this.$renderToken(parent, screenColumn, token, value);\n\n      for (var i = 1; i < tokens.length; i++) {\n        token = tokens[i];\n        value = token.value;\n        if (screenColumn + value.length > this.MAX_LINE_LENGTH) return this.$renderOverflowMessage(parent, screenColumn, token, value);\n        screenColumn = this.$renderToken(parent, screenColumn, token, value);\n      }\n    };\n\n    this.$renderOverflowMessage = function (parent, screenColumn, token, value, hide) {\n      token && this.$renderToken(parent, screenColumn, token, value.slice(0, this.MAX_LINE_LENGTH - screenColumn));\n      var overflowEl = this.dom.createElement(\"span\");\n      overflowEl.className = \"ace_inline_button ace_keyword ace_toggle_wrap\";\n      overflowEl.textContent = hide ? \"<hide>\" : \"<click to see more...>\";\n      parent.appendChild(overflowEl);\n    };\n\n    this.$renderLine = function (parent, row, foldLine) {\n      if (!foldLine && foldLine != false) foldLine = this.session.getFoldLine(row);\n      if (foldLine) var tokens = this.$getFoldLineTokens(row, foldLine);else var tokens = this.session.getTokens(row);\n      var lastLineEl = parent;\n\n      if (tokens.length) {\n        var splits = this.session.getRowSplitData(row);\n\n        if (splits && splits.length) {\n          this.$renderWrappedLine(parent, tokens, splits);\n          var lastLineEl = parent.lastChild;\n        } else {\n          var lastLineEl = parent;\n\n          if (this.$useLineGroups()) {\n            lastLineEl = this.$createLineElement();\n            parent.appendChild(lastLineEl);\n          }\n\n          this.$renderSimpleLine(lastLineEl, tokens);\n        }\n      } else if (this.$useLineGroups()) {\n        lastLineEl = this.$createLineElement();\n        parent.appendChild(lastLineEl);\n      }\n\n      if (this.showEOL && lastLineEl) {\n        if (foldLine) row = foldLine.end.row;\n        var invisibleEl = this.dom.createElement(\"span\");\n        invisibleEl.className = \"ace_invisible ace_invisible_eol\";\n        invisibleEl.textContent = row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR;\n        lastLineEl.appendChild(invisibleEl);\n      }\n    };\n\n    this.$getFoldLineTokens = function (row, foldLine) {\n      var session = this.session;\n      var renderTokens = [];\n\n      function addTokens(tokens, from, to) {\n        var idx = 0,\n            col = 0;\n\n        while (col + tokens[idx].value.length < from) {\n          col += tokens[idx].value.length;\n          idx++;\n          if (idx == tokens.length) return;\n        }\n\n        if (col != from) {\n          var value = tokens[idx].value.substring(from - col);\n          if (value.length > to - from) value = value.substring(0, to - from);\n          renderTokens.push({\n            type: tokens[idx].type,\n            value: value\n          });\n          col = from + value.length;\n          idx += 1;\n        }\n\n        while (col < to && idx < tokens.length) {\n          var value = tokens[idx].value;\n\n          if (value.length + col > to) {\n            renderTokens.push({\n              type: tokens[idx].type,\n              value: value.substring(0, to - col)\n            });\n          } else renderTokens.push(tokens[idx]);\n\n          col += value.length;\n          idx += 1;\n        }\n      }\n\n      var tokens = session.getTokens(row);\n      foldLine.walk(function (placeholder, row, column, lastColumn, isNewRow) {\n        if (placeholder != null) {\n          renderTokens.push({\n            type: \"fold\",\n            value: placeholder\n          });\n        } else {\n          if (isNewRow) tokens = session.getTokens(row);\n          if (tokens.length) addTokens(tokens, lastColumn, column);\n        }\n      }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);\n      return renderTokens;\n    };\n\n    this.$useLineGroups = function () {\n      return this.session.getUseWrapMode();\n    };\n\n    this.destroy = function () {};\n  }).call(Text.prototype);\n  exports.Text = Text;\n});\nace.define(\"ace/layer/cursor\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\"], function (require, exports, module) {\n  \"use strict\";\n\n  var dom = require(\"../lib/dom\");\n\n  var Cursor = function Cursor(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_cursor-layer\";\n    parentEl.appendChild(this.element);\n    this.isVisible = false;\n    this.isBlinking = true;\n    this.blinkInterval = 1000;\n    this.smoothBlinking = false;\n    this.cursors = [];\n    this.cursor = this.addCursor();\n    dom.addCssClass(this.element, \"ace_hidden-cursors\");\n    this.$updateCursors = this.$updateOpacity.bind(this);\n  };\n\n  (function () {\n    this.$updateOpacity = function (val) {\n      var cursors = this.cursors;\n\n      for (var i = cursors.length; i--;) {\n        dom.setStyle(cursors[i].style, \"opacity\", val ? \"\" : \"0\");\n      }\n    };\n\n    this.$startCssAnimation = function () {\n      var cursors = this.cursors;\n\n      for (var i = cursors.length; i--;) {\n        cursors[i].style.animationDuration = this.blinkInterval + \"ms\";\n      }\n\n      setTimeout(function () {\n        dom.addCssClass(this.element, \"ace_animate-blinking\");\n      }.bind(this));\n    };\n\n    this.$stopCssAnimation = function () {\n      dom.removeCssClass(this.element, \"ace_animate-blinking\");\n    };\n\n    this.$padding = 0;\n\n    this.setPadding = function (padding) {\n      this.$padding = padding;\n    };\n\n    this.setSession = function (session) {\n      this.session = session;\n    };\n\n    this.setBlinking = function (blinking) {\n      if (blinking != this.isBlinking) {\n        this.isBlinking = blinking;\n        this.restartTimer();\n      }\n    };\n\n    this.setBlinkInterval = function (blinkInterval) {\n      if (blinkInterval != this.blinkInterval) {\n        this.blinkInterval = blinkInterval;\n        this.restartTimer();\n      }\n    };\n\n    this.setSmoothBlinking = function (smoothBlinking) {\n      if (smoothBlinking != this.smoothBlinking) {\n        this.smoothBlinking = smoothBlinking;\n        dom.setCssClass(this.element, \"ace_smooth-blinking\", smoothBlinking);\n        this.$updateCursors(true);\n        this.restartTimer();\n      }\n    };\n\n    this.addCursor = function () {\n      var el = dom.createElement(\"div\");\n      el.className = \"ace_cursor\";\n      this.element.appendChild(el);\n      this.cursors.push(el);\n      return el;\n    };\n\n    this.removeCursor = function () {\n      if (this.cursors.length > 1) {\n        var el = this.cursors.pop();\n        el.parentNode.removeChild(el);\n        return el;\n      }\n    };\n\n    this.hideCursor = function () {\n      this.isVisible = false;\n      dom.addCssClass(this.element, \"ace_hidden-cursors\");\n      this.restartTimer();\n    };\n\n    this.showCursor = function () {\n      this.isVisible = true;\n      dom.removeCssClass(this.element, \"ace_hidden-cursors\");\n      this.restartTimer();\n    };\n\n    this.restartTimer = function () {\n      var update = this.$updateCursors;\n      clearInterval(this.intervalId);\n      clearTimeout(this.timeoutId);\n      this.$stopCssAnimation();\n\n      if (this.smoothBlinking) {\n        dom.removeCssClass(this.element, \"ace_smooth-blinking\");\n      }\n\n      update(true);\n\n      if (!this.isBlinking || !this.blinkInterval || !this.isVisible) {\n        this.$stopCssAnimation();\n        return;\n      }\n\n      if (this.smoothBlinking) {\n        setTimeout(function () {\n          dom.addCssClass(this.element, \"ace_smooth-blinking\");\n        }.bind(this));\n      }\n\n      if (dom.HAS_CSS_ANIMATION) {\n        this.$startCssAnimation();\n      } else {\n        var blink = function () {\n          this.timeoutId = setTimeout(function () {\n            update(false);\n          }, 0.6 * this.blinkInterval);\n        }.bind(this);\n\n        this.intervalId = setInterval(function () {\n          update(true);\n          blink();\n        }, this.blinkInterval);\n        blink();\n      }\n    };\n\n    this.getPixelPosition = function (position, onScreen) {\n      if (!this.config || !this.session) return {\n        left: 0,\n        top: 0\n      };\n      if (!position) position = this.session.selection.getCursor();\n      var pos = this.session.documentToScreenPosition(position);\n      var cursorLeft = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, position.row) ? this.session.$bidiHandler.getPosLeft(pos.column) : pos.column * this.config.characterWidth);\n      var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) * this.config.lineHeight;\n      return {\n        left: cursorLeft,\n        top: cursorTop\n      };\n    };\n\n    this.isCursorInView = function (pixelPos, config) {\n      return pixelPos.top >= 0 && pixelPos.top < config.maxHeight;\n    };\n\n    this.update = function (config) {\n      this.config = config;\n      var selections = this.session.$selectionMarkers;\n      var i = 0,\n          cursorIndex = 0;\n\n      if (selections === undefined || selections.length === 0) {\n        selections = [{\n          cursor: null\n        }];\n      }\n\n      for (var i = 0, n = selections.length; i < n; i++) {\n        var pixelPos = this.getPixelPosition(selections[i].cursor, true);\n\n        if ((pixelPos.top > config.height + config.offset || pixelPos.top < 0) && i > 1) {\n          continue;\n        }\n\n        var element = this.cursors[cursorIndex++] || this.addCursor();\n        var style = element.style;\n\n        if (!this.drawCursor) {\n          if (!this.isCursorInView(pixelPos, config)) {\n            dom.setStyle(style, \"display\", \"none\");\n          } else {\n            dom.setStyle(style, \"display\", \"block\");\n            dom.translate(element, pixelPos.left, pixelPos.top);\n            dom.setStyle(style, \"width\", Math.round(config.characterWidth) + \"px\");\n            dom.setStyle(style, \"height\", config.lineHeight + \"px\");\n          }\n        } else {\n          this.drawCursor(element, pixelPos, config, selections[i], this.session);\n        }\n      }\n\n      while (this.cursors.length > cursorIndex) {\n        this.removeCursor();\n      }\n\n      var overwrite = this.session.getOverwrite();\n      this.$setOverwrite(overwrite);\n      this.$pixelPos = pixelPos;\n      this.restartTimer();\n    };\n\n    this.drawCursor = null;\n\n    this.$setOverwrite = function (overwrite) {\n      if (overwrite != this.overwrite) {\n        this.overwrite = overwrite;\n        if (overwrite) dom.addCssClass(this.element, \"ace_overwrite-cursors\");else dom.removeCssClass(this.element, \"ace_overwrite-cursors\");\n      }\n    };\n\n    this.destroy = function () {\n      clearInterval(this.intervalId);\n      clearTimeout(this.timeoutId);\n    };\n  }).call(Cursor.prototype);\n  exports.Cursor = Cursor;\n});\nace.define(\"ace/scrollbar\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/lib/event\", \"ace/lib/event_emitter\"], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"./lib/oop\");\n\n  var dom = require(\"./lib/dom\");\n\n  var event = require(\"./lib/event\");\n\n  var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\n  var MAX_SCROLL_H = 0x8000;\n\n  var ScrollBar = function ScrollBar(parent) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_scrollbar ace_scrollbar\" + this.classSuffix;\n    this.inner = dom.createElement(\"div\");\n    this.inner.className = \"ace_scrollbar-inner\";\n    this.inner.textContent = \"\\xa0\";\n    this.element.appendChild(this.inner);\n    parent.appendChild(this.element);\n    this.setVisible(false);\n    this.skipEvent = false;\n    event.addListener(this.element, \"scroll\", this.onScroll.bind(this));\n    event.addListener(this.element, \"mousedown\", event.preventDefault);\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.setVisible = function (isVisible) {\n      this.element.style.display = isVisible ? \"\" : \"none\";\n      this.isVisible = isVisible;\n      this.coeff = 1;\n    };\n  }).call(ScrollBar.prototype);\n\n  var VScrollBar = function VScrollBar(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollTop = 0;\n    this.scrollHeight = 0;\n    renderer.$scrollbarWidth = this.width = dom.scrollbarWidth(parent.ownerDocument);\n    this.inner.style.width = this.element.style.width = (this.width || 15) + 5 + \"px\";\n    this.$minWidth = 0;\n  };\n\n  oop.inherits(VScrollBar, ScrollBar);\n  (function () {\n    this.classSuffix = '-v';\n\n    this.onScroll = function () {\n      if (!this.skipEvent) {\n        this.scrollTop = this.element.scrollTop;\n\n        if (this.coeff != 1) {\n          var h = this.element.clientHeight / this.scrollHeight;\n          this.scrollTop = this.scrollTop * (1 - h) / (this.coeff - h);\n        }\n\n        this._emit(\"scroll\", {\n          data: this.scrollTop\n        });\n      }\n\n      this.skipEvent = false;\n    };\n\n    this.getWidth = function () {\n      return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);\n    };\n\n    this.setHeight = function (height) {\n      this.element.style.height = height + \"px\";\n    };\n\n    this.setInnerHeight = this.setScrollHeight = function (height) {\n      this.scrollHeight = height;\n\n      if (height > MAX_SCROLL_H) {\n        this.coeff = MAX_SCROLL_H / height;\n        height = MAX_SCROLL_H;\n      } else if (this.coeff != 1) {\n        this.coeff = 1;\n      }\n\n      this.inner.style.height = height + \"px\";\n    };\n\n    this.setScrollTop = function (scrollTop) {\n      if (this.scrollTop != scrollTop) {\n        this.skipEvent = true;\n        this.scrollTop = scrollTop;\n        this.element.scrollTop = scrollTop * this.coeff;\n      }\n    };\n  }).call(VScrollBar.prototype);\n\n  var HScrollBar = function HScrollBar(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollLeft = 0;\n    this.height = renderer.$scrollbarWidth;\n    this.inner.style.height = this.element.style.height = (this.height || 15) + 5 + \"px\";\n  };\n\n  oop.inherits(HScrollBar, ScrollBar);\n  (function () {\n    this.classSuffix = '-h';\n\n    this.onScroll = function () {\n      if (!this.skipEvent) {\n        this.scrollLeft = this.element.scrollLeft;\n\n        this._emit(\"scroll\", {\n          data: this.scrollLeft\n        });\n      }\n\n      this.skipEvent = false;\n    };\n\n    this.getHeight = function () {\n      return this.isVisible ? this.height : 0;\n    };\n\n    this.setWidth = function (width) {\n      this.element.style.width = width + \"px\";\n    };\n\n    this.setInnerWidth = function (width) {\n      this.inner.style.width = width + \"px\";\n    };\n\n    this.setScrollWidth = function (width) {\n      this.inner.style.width = width + \"px\";\n    };\n\n    this.setScrollLeft = function (scrollLeft) {\n      if (this.scrollLeft != scrollLeft) {\n        this.skipEvent = true;\n        this.scrollLeft = this.element.scrollLeft = scrollLeft;\n      }\n    };\n  }).call(HScrollBar.prototype);\n  exports.ScrollBar = VScrollBar; // backward compatibility\n\n  exports.ScrollBarV = VScrollBar; // backward compatibility\n\n  exports.ScrollBarH = HScrollBar; // backward compatibility\n\n  exports.VScrollBar = VScrollBar;\n  exports.HScrollBar = HScrollBar;\n});\nace.define(\"ace/renderloop\", [\"require\", \"exports\", \"module\", \"ace/lib/event\"], function (require, exports, module) {\n  \"use strict\";\n\n  var event = require(\"./lib/event\");\n\n  var RenderLoop = function RenderLoop(onRender, win) {\n    this.onRender = onRender;\n    this.pending = false;\n    this.changes = 0;\n    this.$recursionLimit = 2;\n    this.window = win || window;\n\n    var _self = this;\n\n    this._flush = function (ts) {\n      _self.pending = false;\n      var changes = _self.changes;\n\n      if (changes) {\n        event.blockIdle(100);\n        _self.changes = 0;\n\n        _self.onRender(changes);\n      }\n\n      if (_self.changes) {\n        if (_self.$recursionLimit-- < 0) return;\n\n        _self.schedule();\n      } else {\n        _self.$recursionLimit = 2;\n      }\n    };\n  };\n\n  (function () {\n    this.schedule = function (change) {\n      this.changes = this.changes | change;\n\n      if (this.changes && !this.pending) {\n        event.nextFrame(this._flush);\n        this.pending = true;\n      }\n    };\n\n    this.clear = function (change) {\n      var changes = this.changes;\n      this.changes = 0;\n      return changes;\n    };\n  }).call(RenderLoop.prototype);\n  exports.RenderLoop = RenderLoop;\n});\nace.define(\"ace/layer/font_metrics\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/lib/lang\", \"ace/lib/event\", \"ace/lib/useragent\", \"ace/lib/event_emitter\"], function (require, exports, module) {\n  var oop = require(\"../lib/oop\");\n\n  var dom = require(\"../lib/dom\");\n\n  var lang = require(\"../lib/lang\");\n\n  var event = require(\"../lib/event\");\n\n  var useragent = require(\"../lib/useragent\");\n\n  var EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\n  var CHAR_COUNT = 256;\n  var USE_OBSERVER = typeof ResizeObserver == \"function\";\n  var L = 200;\n\n  var FontMetrics = exports.FontMetrics = function (parentEl) {\n    this.el = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.el.style, true);\n    this.$main = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$main.style);\n    this.$measureNode = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$measureNode.style);\n    this.el.appendChild(this.$main);\n    this.el.appendChild(this.$measureNode);\n    parentEl.appendChild(this.el);\n    this.$measureNode.textContent = lang.stringRepeat(\"X\", CHAR_COUNT);\n    this.$characterSize = {\n      width: 0,\n      height: 0\n    };\n    if (USE_OBSERVER) this.$addObserver();else this.checkForSizeChanges();\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n    this.$characterSize = {\n      width: 0,\n      height: 0\n    };\n\n    this.$setMeasureNodeStyles = function (style, isRoot) {\n      style.width = style.height = \"auto\";\n      style.left = style.top = \"0px\";\n      style.visibility = \"hidden\";\n      style.position = \"absolute\";\n      style.whiteSpace = \"pre\";\n\n      if (useragent.isIE < 8) {\n        style[\"font-family\"] = \"inherit\";\n      } else {\n        style.font = \"inherit\";\n      }\n\n      style.overflow = isRoot ? \"hidden\" : \"visible\";\n    };\n\n    this.checkForSizeChanges = function (size) {\n      if (size === undefined) size = this.$measureSizes();\n\n      if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {\n        this.$measureNode.style.fontWeight = \"bold\";\n        var boldSize = this.$measureSizes();\n        this.$measureNode.style.fontWeight = \"\";\n        this.$characterSize = size;\n        this.charSizes = Object.create(null);\n        this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;\n\n        this._emit(\"changeCharacterSize\", {\n          data: size\n        });\n      }\n    };\n\n    this.$addObserver = function () {\n      var self = this;\n      this.$observer = new window.ResizeObserver(function (e) {\n        self.checkForSizeChanges();\n      });\n      this.$observer.observe(this.$measureNode);\n    };\n\n    this.$pollSizeChanges = function () {\n      if (this.$pollSizeChangesTimer || this.$observer) return this.$pollSizeChangesTimer;\n      var self = this;\n      return this.$pollSizeChangesTimer = event.onIdle(function cb() {\n        self.checkForSizeChanges();\n        event.onIdle(cb, 500);\n      }, 500);\n    };\n\n    this.setPolling = function (val) {\n      if (val) {\n        this.$pollSizeChanges();\n      } else if (this.$pollSizeChangesTimer) {\n        clearInterval(this.$pollSizeChangesTimer);\n        this.$pollSizeChangesTimer = 0;\n      }\n    };\n\n    this.$measureSizes = function (node) {\n      var size = {\n        height: (node || this.$measureNode).clientHeight,\n        width: (node || this.$measureNode).clientWidth / CHAR_COUNT\n      };\n      if (size.width === 0 || size.height === 0) return null;\n      return size;\n    };\n\n    this.$measureCharWidth = function (ch) {\n      this.$main.textContent = lang.stringRepeat(ch, CHAR_COUNT);\n      var rect = this.$main.getBoundingClientRect();\n      return rect.width / CHAR_COUNT;\n    };\n\n    this.getCharacterWidth = function (ch) {\n      var w = this.charSizes[ch];\n\n      if (w === undefined) {\n        w = this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;\n      }\n\n      return w;\n    };\n\n    this.destroy = function () {\n      clearInterval(this.$pollSizeChangesTimer);\n      if (this.$observer) this.$observer.disconnect();\n      if (this.el && this.el.parentNode) this.el.parentNode.removeChild(this.el);\n    };\n\n    this.$getZoom = function getZoom(element) {\n      if (!element || !element.parentElement) return 1;\n      return (window.getComputedStyle(element).zoom || 1) * getZoom(element.parentElement);\n    };\n\n    this.$initTransformMeasureNodes = function () {\n      var t = function t(_t, l) {\n        return [\"div\", {\n          style: \"position: absolute;top:\" + _t + \"px;left:\" + l + \"px;\"\n        }];\n      };\n\n      this.els = dom.buildDom([t(0, 0), t(L, 0), t(0, L), t(L, L)], this.el);\n    };\n\n    this.transformCoordinates = function (clientPos, elPos) {\n      if (clientPos) {\n        var zoom = this.$getZoom(this.el);\n        clientPos = mul(1 / zoom, clientPos);\n      }\n\n      function solve(l1, l2, r) {\n        var det = l1[1] * l2[0] - l1[0] * l2[1];\n        return [(-l2[1] * r[0] + l2[0] * r[1]) / det, (+l1[1] * r[0] - l1[0] * r[1]) / det];\n      }\n\n      function sub(a, b) {\n        return [a[0] - b[0], a[1] - b[1]];\n      }\n\n      function add(a, b) {\n        return [a[0] + b[0], a[1] + b[1]];\n      }\n\n      function mul(a, b) {\n        return [a * b[0], a * b[1]];\n      }\n\n      if (!this.els) this.$initTransformMeasureNodes();\n\n      function p(el) {\n        var r = el.getBoundingClientRect();\n        return [r.left, r.top];\n      }\n\n      var a = p(this.els[0]);\n      var b = p(this.els[1]);\n      var c = p(this.els[2]);\n      var d = p(this.els[3]);\n      var h = solve(sub(d, b), sub(d, c), sub(add(b, c), add(d, a)));\n      var m1 = mul(1 + h[0], sub(b, a));\n      var m2 = mul(1 + h[1], sub(c, a));\n\n      if (elPos) {\n        var x = elPos;\n        var k = h[0] * x[0] / L + h[1] * x[1] / L + 1;\n        var ut = add(mul(x[0], m1), mul(x[1], m2));\n        return add(mul(1 / k / L, ut), a);\n      }\n\n      var u = sub(clientPos, a);\n      var f = solve(sub(m1, mul(h[0], u)), sub(m2, mul(h[1], u)), u);\n      return mul(L, f);\n    };\n  }).call(FontMetrics.prototype);\n});\nace.define(\"ace/virtual_renderer\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/config\", \"ace/layer/gutter\", \"ace/layer/marker\", \"ace/layer/text\", \"ace/layer/cursor\", \"ace/scrollbar\", \"ace/scrollbar\", \"ace/renderloop\", \"ace/layer/font_metrics\", \"ace/lib/event_emitter\", \"ace/lib/useragent\"], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"./lib/oop\");\n\n  var dom = require(\"./lib/dom\");\n\n  var config = require(\"./config\");\n\n  var GutterLayer = require(\"./layer/gutter\").Gutter;\n\n  var MarkerLayer = require(\"./layer/marker\").Marker;\n\n  var TextLayer = require(\"./layer/text\").Text;\n\n  var CursorLayer = require(\"./layer/cursor\").Cursor;\n\n  var HScrollBar = require(\"./scrollbar\").HScrollBar;\n\n  var VScrollBar = require(\"./scrollbar\").VScrollBar;\n\n  var RenderLoop = require(\"./renderloop\").RenderLoop;\n\n  var FontMetrics = require(\"./layer/font_metrics\").FontMetrics;\n\n  var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\n  var editorCss = \"\\\n.ace_br1 {border-top-left-radius    : 3px;}\\\n.ace_br2 {border-top-right-radius   : 3px;}\\\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\\\n.ace_br4 {border-bottom-right-radius: 3px;}\\\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\\\n.ace_br8 {border-bottom-left-radius : 3px;}\\\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\\\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\\\n.ace_editor {\\\nposition: relative;\\\noverflow: hidden;\\\npadding: 0;\\\nfont: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;\\\ndirection: ltr;\\\ntext-align: left;\\\n-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\\n}\\\n.ace_scroller {\\\nposition: absolute;\\\noverflow: hidden;\\\ntop: 0;\\\nbottom: 0;\\\nbackground-color: inherit;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\ncursor: text;\\\n}\\\n.ace_content {\\\nposition: absolute;\\\nbox-sizing: border-box;\\\nmin-width: 100%;\\\ncontain: style size layout;\\\nfont-variant-ligatures: no-common-ligatures;\\\n}\\\n.ace_dragging .ace_scroller:before{\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\nbottom: 0;\\\ncontent: '';\\\nbackground: rgba(250, 250, 250, 0.01);\\\nz-index: 1000;\\\n}\\\n.ace_dragging.ace_dark .ace_scroller:before{\\\nbackground: rgba(0, 0, 0, 0.01);\\\n}\\\n.ace_selecting, .ace_selecting * {\\\ncursor: text !important;\\\n}\\\n.ace_gutter {\\\nposition: absolute;\\\noverflow : hidden;\\\nwidth: auto;\\\ntop: 0;\\\nbottom: 0;\\\nleft: 0;\\\ncursor: default;\\\nz-index: 4;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\ncontain: style size layout;\\\n}\\\n.ace_gutter-active-line {\\\nposition: absolute;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_scroller.ace_scroll-left {\\\nbox-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\\\n}\\\n.ace_gutter-cell {\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\npadding-left: 19px;\\\npadding-right: 6px;\\\nbackground-repeat: no-repeat;\\\n}\\\n.ace_gutter-cell.ace_error {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_warning {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_dark .ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_scrollbar {\\\ncontain: strict;\\\nposition: absolute;\\\nright: 0;\\\nbottom: 0;\\\nz-index: 6;\\\n}\\\n.ace_scrollbar-inner {\\\nposition: absolute;\\\ncursor: text;\\\nleft: 0;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-v{\\\noverflow-x: hidden;\\\noverflow-y: scroll;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-h {\\\noverflow-x: scroll;\\\noverflow-y: hidden;\\\nleft: 0;\\\n}\\\n.ace_print-margin {\\\nposition: absolute;\\\nheight: 100%;\\\n}\\\n.ace_text-input {\\\nposition: absolute;\\\nz-index: 0;\\\nwidth: 0.5em;\\\nheight: 1em;\\\nopacity: 0;\\\nbackground: transparent;\\\n-moz-appearance: none;\\\nappearance: none;\\\nborder: none;\\\nresize: none;\\\noutline: none;\\\noverflow: hidden;\\\nfont: inherit;\\\npadding: 0 1px;\\\nmargin: 0 -1px;\\\ncontain: strict;\\\n-ms-user-select: text;\\\n-moz-user-select: text;\\\n-webkit-user-select: text;\\\nuser-select: text;\\\nwhite-space: pre!important;\\\n}\\\n.ace_text-input.ace_composition {\\\nbackground: transparent;\\\ncolor: inherit;\\\nz-index: 1000;\\\nopacity: 1;\\\n}\\\n.ace_composition_placeholder { color: transparent }\\\n.ace_composition_marker { \\\nborder-bottom: 1px solid;\\\nposition: absolute;\\\nborder-radius: 0;\\\nmargin-top: 1px;\\\n}\\\n[ace_nocontext=true] {\\\ntransform: none!important;\\\nfilter: none!important;\\\nclip-path: none!important;\\\nmask : none!important;\\\ncontain: none!important;\\\nperspective: none!important;\\\nmix-blend-mode: initial!important;\\\nz-index: auto;\\\n}\\\n.ace_layer {\\\nz-index: 1;\\\nposition: absolute;\\\noverflow: hidden;\\\nword-wrap: normal;\\\nwhite-space: pre;\\\nheight: 100%;\\\nwidth: 100%;\\\nbox-sizing: border-box;\\\npointer-events: none;\\\n}\\\n.ace_gutter-layer {\\\nposition: relative;\\\nwidth: auto;\\\ntext-align: right;\\\npointer-events: auto;\\\nheight: 1000000px;\\\ncontain: style size layout;\\\n}\\\n.ace_text-layer {\\\nfont: inherit !important;\\\nposition: absolute;\\\nheight: 1000000px;\\\nwidth: 1000000px;\\\ncontain: style size layout;\\\n}\\\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\\\ncontain: style size layout;\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_hidpi .ace_text-layer,\\\n.ace_hidpi .ace_gutter-layer,\\\n.ace_hidpi .ace_content,\\\n.ace_hidpi .ace_gutter {\\\ncontain: strict;\\\nwill-change: transform;\\\n}\\\n.ace_hidpi .ace_text-layer > .ace_line, \\\n.ace_hidpi .ace_text-layer > .ace_line_group {\\\ncontain: strict;\\\n}\\\n.ace_cjk {\\\ndisplay: inline-block;\\\ntext-align: center;\\\n}\\\n.ace_cursor-layer {\\\nz-index: 4;\\\n}\\\n.ace_cursor {\\\nz-index: 4;\\\nposition: absolute;\\\nbox-sizing: border-box;\\\nborder-left: 2px solid;\\\ntransform: translatez(0);\\\n}\\\n.ace_multiselect .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_slim-cursors .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_overwrite-cursors .ace_cursor {\\\nborder-left-width: 0;\\\nborder-bottom: 1px solid;\\\n}\\\n.ace_hidden-cursors .ace_cursor {\\\nopacity: 0.2;\\\n}\\\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\\\nopacity: 0;\\\n}\\\n.ace_smooth-blinking .ace_cursor {\\\ntransition: opacity 0.18s;\\\n}\\\n.ace_animate-blinking .ace_cursor {\\\nanimation-duration: 1000ms;\\\nanimation-timing-function: step-end;\\\nanimation-name: blink-ace-animate;\\\nanimation-iteration-count: infinite;\\\n}\\\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\\\nanimation-duration: 1000ms;\\\nanimation-timing-function: ease-in-out;\\\nanimation-name: blink-ace-animate-smooth;\\\n}\\\n@keyframes blink-ace-animate {\\\nfrom, to { opacity: 1; }\\\n60% { opacity: 0; }\\\n}\\\n@keyframes blink-ace-animate-smooth {\\\nfrom, to { opacity: 1; }\\\n45% { opacity: 1; }\\\n60% { opacity: 0; }\\\n85% { opacity: 0; }\\\n}\\\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\\\nposition: absolute;\\\nz-index: 3;\\\n}\\\n.ace_marker-layer .ace_selection {\\\nposition: absolute;\\\nz-index: 5;\\\n}\\\n.ace_marker-layer .ace_bracket {\\\nposition: absolute;\\\nz-index: 6;\\\n}\\\n.ace_marker-layer .ace_error_bracket {\\\nposition: absolute;\\\nborder-bottom: 1px solid #DE5555;\\\nborder-radius: 0;\\\n}\\\n.ace_marker-layer .ace_active-line {\\\nposition: absolute;\\\nz-index: 2;\\\n}\\\n.ace_marker-layer .ace_selected-word {\\\nposition: absolute;\\\nz-index: 4;\\\nbox-sizing: border-box;\\\n}\\\n.ace_line .ace_fold {\\\nbox-sizing: border-box;\\\ndisplay: inline-block;\\\nheight: 11px;\\\nmargin-top: -2px;\\\nvertical-align: middle;\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\\\");\\\nbackground-repeat: no-repeat, repeat-x;\\\nbackground-position: center center, top left;\\\ncolor: transparent;\\\nborder: 1px solid black;\\\nborder-radius: 2px;\\\ncursor: pointer;\\\npointer-events: auto;\\\n}\\\n.ace_dark .ace_fold {\\\n}\\\n.ace_fold:hover{\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_tooltip {\\\nbackground-color: #FFF;\\\nbackground-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\\\nborder: 1px solid gray;\\\nborder-radius: 1px;\\\nbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\\\ncolor: black;\\\nmax-width: 100%;\\\npadding: 3px 4px;\\\nposition: fixed;\\\nz-index: 999999;\\\nbox-sizing: border-box;\\\ncursor: default;\\\nwhite-space: pre;\\\nword-wrap: break-word;\\\nline-height: normal;\\\nfont-style: normal;\\\nfont-weight: normal;\\\nletter-spacing: normal;\\\npointer-events: none;\\\n}\\\n.ace_folding-enabled > .ace_gutter-cell {\\\npadding-right: 13px;\\\n}\\\n.ace_fold-widget {\\\nbox-sizing: border-box;\\\nmargin: 0 -12px 0 1px;\\\ndisplay: none;\\\nwidth: 11px;\\\nvertical-align: top;\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: center;\\\nborder-radius: 3px;\\\nborder: 1px solid transparent;\\\ncursor: pointer;\\\n}\\\n.ace_folding-enabled .ace_fold-widget {\\\ndisplay: inline-block;   \\\n}\\\n.ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\\\");\\\n}\\\n.ace_fold-widget:hover {\\\nborder: 1px solid rgba(0, 0, 0, 0.3);\\\nbackground-color: rgba(255, 255, 255, 0.2);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\\n}\\\n.ace_fold-widget:active {\\\nborder: 1px solid rgba(0, 0, 0, 0.4);\\\nbackground-color: rgba(0, 0, 0, 0.05);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\\n}\\\n.ace_dark .ace_fold-widget {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget:hover {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\nbackground-color: rgba(255, 255, 255, 0.1);\\\n}\\\n.ace_dark .ace_fold-widget:active {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\n}\\\n.ace_inline_button {\\\nborder: 1px solid lightgray;\\\ndisplay: inline-block;\\\nmargin: -1px 8px;\\\npadding: 0 5px;\\\npointer-events: auto;\\\ncursor: pointer;\\\n}\\\n.ace_inline_button:hover {\\\nborder-color: gray;\\\nbackground: rgba(200,200,200,0.2);\\\ndisplay: inline-block;\\\npointer-events: auto;\\\n}\\\n.ace_fold-widget.ace_invalid {\\\nbackground-color: #FFB4B4;\\\nborder-color: #DE5555;\\\n}\\\n.ace_fade-fold-widgets .ace_fold-widget {\\\ntransition: opacity 0.4s ease 0.05s;\\\nopacity: 0;\\\n}\\\n.ace_fade-fold-widgets:hover .ace_fold-widget {\\\ntransition: opacity 0.05s ease 0.05s;\\\nopacity:1;\\\n}\\\n.ace_underline {\\\ntext-decoration: underline;\\\n}\\\n.ace_bold {\\\nfont-weight: bold;\\\n}\\\n.ace_nobold .ace_bold {\\\nfont-weight: normal;\\\n}\\\n.ace_italic {\\\nfont-style: italic;\\\n}\\\n.ace_error-marker {\\\nbackground-color: rgba(255, 0, 0,0.2);\\\nposition: absolute;\\\nz-index: 9;\\\n}\\\n.ace_highlight-marker {\\\nbackground-color: rgba(255, 255, 0,0.2);\\\nposition: absolute;\\\nz-index: 8;\\\n}\\\n.ace_mobile-menu {\\\nposition: absolute;\\\nline-height: 1.5;\\\nborder-radius: 4px;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\nbackground: white;\\\nbox-shadow: 1px 3px 2px grey;\\\nborder: 1px solid #dcdcdc;\\\ncolor: black;\\\n}\\\n.ace_dark > .ace_mobile-menu {\\\nbackground: #333;\\\ncolor: #ccc;\\\nbox-shadow: 1px 3px 2px grey;\\\nborder: 1px solid #444;\\\n}\\\n.ace_mobile-button {\\\npadding: 2px;\\\ncursor: pointer;\\\noverflow: hidden;\\\n}\\\n.ace_mobile-button:hover {\\\nbackground-color: #eee;\\\nopacity:1;\\\n}\\\n.ace_mobile-button:active {\\\nbackground-color: #ddd;\\\n}\\\n.ace_placeholder {\\\nfont-family: arial;\\\ntransform: scale(0.9);\\\ntransform-origin: left;\\\nwhite-space: pre;\\\nopacity: 0.7;\\\nmargin: 0 10px;\\\n}\";\n\n  var useragent = require(\"./lib/useragent\");\n\n  var HIDE_TEXTAREA = useragent.isIE;\n  dom.importCssString(editorCss, \"ace_editor.css\");\n\n  var VirtualRenderer = function VirtualRenderer(container, theme) {\n    var _self = this;\n\n    this.container = container || dom.createElement(\"div\");\n    dom.addCssClass(this.container, \"ace_editor\");\n    if (dom.HI_DPI) dom.addCssClass(this.container, \"ace_hidpi\");\n    this.setTheme(theme);\n    this.$gutter = dom.createElement(\"div\");\n    this.$gutter.className = \"ace_gutter\";\n    this.container.appendChild(this.$gutter);\n    this.$gutter.setAttribute(\"aria-hidden\", true);\n    this.scroller = dom.createElement(\"div\");\n    this.scroller.className = \"ace_scroller\";\n    this.container.appendChild(this.scroller);\n    this.content = dom.createElement(\"div\");\n    this.content.className = \"ace_content\";\n    this.scroller.appendChild(this.content);\n    this.$gutterLayer = new GutterLayer(this.$gutter);\n    this.$gutterLayer.on(\"changeGutterWidth\", this.onGutterResize.bind(this));\n    this.$markerBack = new MarkerLayer(this.content);\n    var textLayer = this.$textLayer = new TextLayer(this.content);\n    this.canvas = textLayer.element;\n    this.$markerFront = new MarkerLayer(this.content);\n    this.$cursorLayer = new CursorLayer(this.content);\n    this.$horizScroll = false;\n    this.$vScroll = false;\n    this.scrollBar = this.scrollBarV = new VScrollBar(this.container, this);\n    this.scrollBarH = new HScrollBar(this.container, this);\n    this.scrollBarV.on(\"scroll\", function (e) {\n      if (!_self.$scrollAnimation) _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n    });\n    this.scrollBarH.on(\"scroll\", function (e) {\n      if (!_self.$scrollAnimation) _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n    });\n    this.scrollTop = 0;\n    this.scrollLeft = 0;\n    this.cursorPos = {\n      row: 0,\n      column: 0\n    };\n    this.$fontMetrics = new FontMetrics(this.container);\n    this.$textLayer.$setFontMetrics(this.$fontMetrics);\n    this.$textLayer.on(\"changeCharacterSize\", function (e) {\n      _self.updateCharacterSize();\n\n      _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);\n\n      _self._signal(\"changeCharacterSize\", e);\n    });\n    this.$size = {\n      width: 0,\n      height: 0,\n      scrollerHeight: 0,\n      scrollerWidth: 0,\n      $dirty: true\n    };\n    this.layerConfig = {\n      width: 1,\n      padding: 0,\n      firstRow: 0,\n      firstRowScreen: 0,\n      lastRow: 0,\n      lineHeight: 0,\n      characterWidth: 0,\n      minHeight: 1,\n      maxHeight: 1,\n      offset: 0,\n      height: 1,\n      gutterOffset: 1\n    };\n    this.scrollMargin = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      v: 0,\n      h: 0\n    };\n    this.margin = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      v: 0,\n      h: 0\n    };\n    this.$keepTextAreaAtCursor = !useragent.isIOS;\n    this.$loop = new RenderLoop(this.$renderChanges.bind(this), this.container.ownerDocument.defaultView);\n    this.$loop.schedule(this.CHANGE_FULL);\n    this.updateCharacterSize();\n    this.setPadding(4);\n    config.resetOptions(this);\n\n    config._signal(\"renderer\", this);\n  };\n\n  (function () {\n    this.CHANGE_CURSOR = 1;\n    this.CHANGE_MARKER = 2;\n    this.CHANGE_GUTTER = 4;\n    this.CHANGE_SCROLL = 8;\n    this.CHANGE_LINES = 16;\n    this.CHANGE_TEXT = 32;\n    this.CHANGE_SIZE = 64;\n    this.CHANGE_MARKER_BACK = 128;\n    this.CHANGE_MARKER_FRONT = 256;\n    this.CHANGE_FULL = 512;\n    this.CHANGE_H_SCROLL = 1024;\n    oop.implement(this, EventEmitter);\n\n    this.updateCharacterSize = function () {\n      if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {\n        this.$allowBoldFonts = this.$textLayer.allowBoldFonts;\n        this.setStyle(\"ace_nobold\", !this.$allowBoldFonts);\n      }\n\n      this.layerConfig.characterWidth = this.characterWidth = this.$textLayer.getCharacterWidth();\n      this.layerConfig.lineHeight = this.lineHeight = this.$textLayer.getLineHeight();\n      this.$updatePrintMargin();\n      dom.setStyle(this.scroller.style, \"line-height\", this.lineHeight + \"px\");\n    };\n\n    this.setSession = function (session) {\n      if (this.session) this.session.doc.off(\"changeNewLineMode\", this.onChangeNewLineMode);\n      this.session = session;\n      if (session && this.scrollMargin.top && session.getScrollTop() <= 0) session.setScrollTop(-this.scrollMargin.top);\n      this.$cursorLayer.setSession(session);\n      this.$markerBack.setSession(session);\n      this.$markerFront.setSession(session);\n      this.$gutterLayer.setSession(session);\n      this.$textLayer.setSession(session);\n      if (!session) return;\n      this.$loop.schedule(this.CHANGE_FULL);\n      this.session.$setFontMetrics(this.$fontMetrics);\n      this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;\n      this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);\n      this.onChangeNewLineMode();\n      this.session.doc.on(\"changeNewLineMode\", this.onChangeNewLineMode);\n    };\n\n    this.updateLines = function (firstRow, lastRow, force) {\n      if (lastRow === undefined) lastRow = Infinity;\n\n      if (!this.$changedLines) {\n        this.$changedLines = {\n          firstRow: firstRow,\n          lastRow: lastRow\n        };\n      } else {\n        if (this.$changedLines.firstRow > firstRow) this.$changedLines.firstRow = firstRow;\n        if (this.$changedLines.lastRow < lastRow) this.$changedLines.lastRow = lastRow;\n      }\n\n      if (this.$changedLines.lastRow < this.layerConfig.firstRow) {\n        if (force) this.$changedLines.lastRow = this.layerConfig.lastRow;else return;\n      }\n\n      if (this.$changedLines.firstRow > this.layerConfig.lastRow) return;\n      this.$loop.schedule(this.CHANGE_LINES);\n    };\n\n    this.onChangeNewLineMode = function () {\n      this.$loop.schedule(this.CHANGE_TEXT);\n      this.$textLayer.$updateEolChar();\n      this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);\n    };\n\n    this.onChangeTabSize = function () {\n      this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);\n      this.$textLayer.onChangeTabSize();\n    };\n\n    this.updateText = function () {\n      this.$loop.schedule(this.CHANGE_TEXT);\n    };\n\n    this.updateFull = function (force) {\n      if (force) this.$renderChanges(this.CHANGE_FULL, true);else this.$loop.schedule(this.CHANGE_FULL);\n    };\n\n    this.updateFontSize = function () {\n      this.$textLayer.checkForSizeChanges();\n    };\n\n    this.$changes = 0;\n\n    this.$updateSizeAsync = function () {\n      if (this.$loop.pending) this.$size.$dirty = true;else this.onResize();\n    };\n\n    this.onResize = function (force, gutterWidth, width, height) {\n      if (this.resizing > 2) return;else if (this.resizing > 0) this.resizing++;else this.resizing = force ? 1 : 0;\n      var el = this.container;\n      if (!height) height = el.clientHeight || el.scrollHeight;\n      if (!width) width = el.clientWidth || el.scrollWidth;\n      var changes = this.$updateCachedSize(force, gutterWidth, width, height);\n      if (!this.$size.scrollerHeight || !width && !height) return this.resizing = 0;\n      if (force) this.$gutterLayer.$padding = null;\n      if (force) this.$renderChanges(changes | this.$changes, true);else this.$loop.schedule(changes | this.$changes);\n      if (this.resizing) this.resizing = 0;\n      this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null;\n    };\n\n    this.$updateCachedSize = function (force, gutterWidth, width, height) {\n      height -= this.$extraHeight || 0;\n      var changes = 0;\n      var size = this.$size;\n      var oldSize = {\n        width: size.width,\n        height: size.height,\n        scrollerHeight: size.scrollerHeight,\n        scrollerWidth: size.scrollerWidth\n      };\n\n      if (height && (force || size.height != height)) {\n        size.height = height;\n        changes |= this.CHANGE_SIZE;\n        size.scrollerHeight = size.height;\n        if (this.$horizScroll) size.scrollerHeight -= this.scrollBarH.getHeight();\n        this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + \"px\";\n        changes = changes | this.CHANGE_SCROLL;\n      }\n\n      if (width && (force || size.width != width)) {\n        changes |= this.CHANGE_SIZE;\n        size.width = width;\n        if (gutterWidth == null) gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n        this.gutterWidth = gutterWidth;\n        dom.setStyle(this.scrollBarH.element.style, \"left\", gutterWidth + \"px\");\n        dom.setStyle(this.scroller.style, \"left\", gutterWidth + this.margin.left + \"px\");\n        size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth() - this.margin.h);\n        dom.setStyle(this.$gutter.style, \"left\", this.margin.left + \"px\");\n        var right = this.scrollBarV.getWidth() + \"px\";\n        dom.setStyle(this.scrollBarH.element.style, \"right\", right);\n        dom.setStyle(this.scroller.style, \"right\", right);\n        dom.setStyle(this.scroller.style, \"bottom\", this.scrollBarH.getHeight());\n\n        if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force) {\n          changes |= this.CHANGE_FULL;\n        }\n      }\n\n      size.$dirty = !width || !height;\n      if (changes) this._signal(\"resize\", oldSize);\n      return changes;\n    };\n\n    this.onGutterResize = function (width) {\n      var gutterWidth = this.$showGutter ? width : 0;\n      if (gutterWidth != this.gutterWidth) this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);\n\n      if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {\n        this.$loop.schedule(this.CHANGE_FULL);\n      } else if (this.$size.$dirty) {\n        this.$loop.schedule(this.CHANGE_FULL);\n      } else {\n        this.$computeLayerConfig();\n      }\n    };\n\n    this.adjustWrapLimit = function () {\n      var availableWidth = this.$size.scrollerWidth - this.$padding * 2;\n      var limit = Math.floor(availableWidth / this.characterWidth);\n      return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);\n    };\n\n    this.setAnimatedScroll = function (shouldAnimate) {\n      this.setOption(\"animatedScroll\", shouldAnimate);\n    };\n\n    this.getAnimatedScroll = function () {\n      return this.$animatedScroll;\n    };\n\n    this.setShowInvisibles = function (showInvisibles) {\n      this.setOption(\"showInvisibles\", showInvisibles);\n      this.session.$bidiHandler.setShowInvisibles(showInvisibles);\n    };\n\n    this.getShowInvisibles = function () {\n      return this.getOption(\"showInvisibles\");\n    };\n\n    this.getDisplayIndentGuides = function () {\n      return this.getOption(\"displayIndentGuides\");\n    };\n\n    this.setDisplayIndentGuides = function (display) {\n      this.setOption(\"displayIndentGuides\", display);\n    };\n\n    this.setShowPrintMargin = function (showPrintMargin) {\n      this.setOption(\"showPrintMargin\", showPrintMargin);\n    };\n\n    this.getShowPrintMargin = function () {\n      return this.getOption(\"showPrintMargin\");\n    };\n\n    this.setPrintMarginColumn = function (showPrintMargin) {\n      this.setOption(\"printMarginColumn\", showPrintMargin);\n    };\n\n    this.getPrintMarginColumn = function () {\n      return this.getOption(\"printMarginColumn\");\n    };\n\n    this.getShowGutter = function () {\n      return this.getOption(\"showGutter\");\n    };\n\n    this.setShowGutter = function (show) {\n      return this.setOption(\"showGutter\", show);\n    };\n\n    this.getFadeFoldWidgets = function () {\n      return this.getOption(\"fadeFoldWidgets\");\n    };\n\n    this.setFadeFoldWidgets = function (show) {\n      this.setOption(\"fadeFoldWidgets\", show);\n    };\n\n    this.setHighlightGutterLine = function (shouldHighlight) {\n      this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function () {\n      return this.getOption(\"highlightGutterLine\");\n    };\n\n    this.$updatePrintMargin = function () {\n      if (!this.$showPrintMargin && !this.$printMarginEl) return;\n\n      if (!this.$printMarginEl) {\n        var containerEl = dom.createElement(\"div\");\n        containerEl.className = \"ace_layer ace_print-margin-layer\";\n        this.$printMarginEl = dom.createElement(\"div\");\n        this.$printMarginEl.className = \"ace_print-margin\";\n        containerEl.appendChild(this.$printMarginEl);\n        this.content.insertBefore(containerEl, this.content.firstChild);\n      }\n\n      var style = this.$printMarginEl.style;\n      style.left = Math.round(this.characterWidth * this.$printMarginColumn + this.$padding) + \"px\";\n      style.visibility = this.$showPrintMargin ? \"visible\" : \"hidden\";\n      if (this.session && this.session.$wrap == -1) this.adjustWrapLimit();\n    };\n\n    this.getContainerElement = function () {\n      return this.container;\n    };\n\n    this.getMouseEventTarget = function () {\n      return this.scroller;\n    };\n\n    this.getTextAreaContainer = function () {\n      return this.container;\n    };\n\n    this.$moveTextAreaToCursor = function () {\n      if (this.$isMousePressed) return;\n      var style = this.textarea.style;\n      var composition = this.$composition;\n\n      if (!this.$keepTextAreaAtCursor && !composition) {\n        dom.translate(this.textarea, -100, 0);\n        return;\n      }\n\n      var pixelPos = this.$cursorLayer.$pixelPos;\n      if (!pixelPos) return;\n      if (composition && composition.markerRange) pixelPos = this.$cursorLayer.getPixelPosition(composition.markerRange.start, true);\n      var config = this.layerConfig;\n      var posTop = pixelPos.top;\n      var posLeft = pixelPos.left;\n      posTop -= config.offset;\n      var h = composition && composition.useTextareaForIME ? this.lineHeight : HIDE_TEXTAREA ? 0 : 1;\n\n      if (posTop < 0 || posTop > config.height - h) {\n        dom.translate(this.textarea, 0, 0);\n        return;\n      }\n\n      var w = 1;\n      var maxTop = this.$size.height - h;\n\n      if (!composition) {\n        posTop += this.lineHeight;\n      } else {\n        if (composition.useTextareaForIME) {\n          var val = this.textarea.value;\n          w = this.characterWidth * this.session.$getStringScreenWidth(val)[0];\n        } else {\n          posTop += this.lineHeight + 2;\n        }\n      }\n\n      posLeft -= this.scrollLeft;\n      if (posLeft > this.$size.scrollerWidth - w) posLeft = this.$size.scrollerWidth - w;\n      posLeft += this.gutterWidth + this.margin.left;\n      dom.setStyle(style, \"height\", h + \"px\");\n      dom.setStyle(style, \"width\", w + \"px\");\n      dom.translate(this.textarea, Math.min(posLeft, this.$size.scrollerWidth - w), Math.min(posTop, maxTop));\n    };\n\n    this.getFirstVisibleRow = function () {\n      return this.layerConfig.firstRow;\n    };\n\n    this.getFirstFullyVisibleRow = function () {\n      return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);\n    };\n\n    this.getLastFullyVisibleRow = function () {\n      var config = this.layerConfig;\n      var lastRow = config.lastRow;\n      var top = this.session.documentToScreenRow(lastRow, 0) * config.lineHeight;\n      if (top - this.session.getScrollTop() > config.height - config.lineHeight) return lastRow - 1;\n      return lastRow;\n    };\n\n    this.getLastVisibleRow = function () {\n      return this.layerConfig.lastRow;\n    };\n\n    this.$padding = null;\n\n    this.setPadding = function (padding) {\n      this.$padding = padding;\n      this.$textLayer.setPadding(padding);\n      this.$cursorLayer.setPadding(padding);\n      this.$markerFront.setPadding(padding);\n      this.$markerBack.setPadding(padding);\n      this.$loop.schedule(this.CHANGE_FULL);\n      this.$updatePrintMargin();\n    };\n\n    this.setScrollMargin = function (top, bottom, left, right) {\n      var sm = this.scrollMargin;\n      sm.top = top | 0;\n      sm.bottom = bottom | 0;\n      sm.right = right | 0;\n      sm.left = left | 0;\n      sm.v = sm.top + sm.bottom;\n      sm.h = sm.left + sm.right;\n      if (sm.top && this.scrollTop <= 0 && this.session) this.session.setScrollTop(-sm.top);\n      this.updateFull();\n    };\n\n    this.setMargin = function (top, bottom, left, right) {\n      var sm = this.margin;\n      sm.top = top | 0;\n      sm.bottom = bottom | 0;\n      sm.right = right | 0;\n      sm.left = left | 0;\n      sm.v = sm.top + sm.bottom;\n      sm.h = sm.left + sm.right;\n      this.$updateCachedSize(true, this.gutterWidth, this.$size.width, this.$size.height);\n      this.updateFull();\n    };\n\n    this.getHScrollBarAlwaysVisible = function () {\n      return this.$hScrollBarAlwaysVisible;\n    };\n\n    this.setHScrollBarAlwaysVisible = function (alwaysVisible) {\n      this.setOption(\"hScrollBarAlwaysVisible\", alwaysVisible);\n    };\n\n    this.getVScrollBarAlwaysVisible = function () {\n      return this.$vScrollBarAlwaysVisible;\n    };\n\n    this.setVScrollBarAlwaysVisible = function (alwaysVisible) {\n      this.setOption(\"vScrollBarAlwaysVisible\", alwaysVisible);\n    };\n\n    this.$updateScrollBarV = function () {\n      var scrollHeight = this.layerConfig.maxHeight;\n      var scrollerHeight = this.$size.scrollerHeight;\n\n      if (!this.$maxLines && this.$scrollPastEnd) {\n        scrollHeight -= (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;\n\n        if (this.scrollTop > scrollHeight - scrollerHeight) {\n          scrollHeight = this.scrollTop + scrollerHeight;\n          this.scrollBarV.scrollTop = null;\n        }\n      }\n\n      this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);\n      this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);\n    };\n\n    this.$updateScrollBarH = function () {\n      this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);\n      this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);\n    };\n\n    this.$frozen = false;\n\n    this.freeze = function () {\n      this.$frozen = true;\n    };\n\n    this.unfreeze = function () {\n      this.$frozen = false;\n    };\n\n    this.$renderChanges = function (changes, force) {\n      if (this.$changes) {\n        changes |= this.$changes;\n        this.$changes = 0;\n      }\n\n      if (!this.session || !this.container.offsetWidth || this.$frozen || !changes && !force) {\n        this.$changes |= changes;\n        return;\n      }\n\n      if (this.$size.$dirty) {\n        this.$changes |= changes;\n        return this.onResize(true);\n      }\n\n      if (!this.lineHeight) {\n        this.$textLayer.checkForSizeChanges();\n      }\n\n      this._signal(\"beforeRender\", changes);\n\n      if (this.session && this.session.$bidiHandler) this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);\n      var config = this.layerConfig;\n\n      if (changes & this.CHANGE_FULL || changes & this.CHANGE_SIZE || changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES || changes & this.CHANGE_SCROLL || changes & this.CHANGE_H_SCROLL) {\n        changes |= this.$computeLayerConfig() | this.$loop.clear();\n\n        if (config.firstRow != this.layerConfig.firstRow && config.firstRowScreen == this.layerConfig.firstRowScreen) {\n          var st = this.scrollTop + (config.firstRow - this.layerConfig.firstRow) * this.lineHeight;\n\n          if (st > 0) {\n            this.scrollTop = st;\n            changes = changes | this.CHANGE_SCROLL;\n            changes |= this.$computeLayerConfig() | this.$loop.clear();\n          }\n        }\n\n        config = this.layerConfig;\n        this.$updateScrollBarV();\n        if (changes & this.CHANGE_H_SCROLL) this.$updateScrollBarH();\n        dom.translate(this.content, -this.scrollLeft, -config.offset);\n        var width = config.width + 2 * this.$padding + \"px\";\n        var height = config.minHeight + \"px\";\n        dom.setStyle(this.content.style, \"width\", width);\n        dom.setStyle(this.content.style, \"height\", height);\n      }\n\n      if (changes & this.CHANGE_H_SCROLL) {\n        dom.translate(this.content, -this.scrollLeft, -config.offset);\n        this.scroller.className = this.scrollLeft <= 0 ? \"ace_scroller\" : \"ace_scroller ace_scroll-left\";\n      }\n\n      if (changes & this.CHANGE_FULL) {\n        this.$changedLines = null;\n        this.$textLayer.update(config);\n        if (this.$showGutter) this.$gutterLayer.update(config);\n        this.$markerBack.update(config);\n        this.$markerFront.update(config);\n        this.$cursorLayer.update(config);\n        this.$moveTextAreaToCursor();\n\n        this._signal(\"afterRender\", changes);\n\n        return;\n      }\n\n      if (changes & this.CHANGE_SCROLL) {\n        this.$changedLines = null;\n        if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES) this.$textLayer.update(config);else this.$textLayer.scrollLines(config);\n\n        if (this.$showGutter) {\n          if (changes & this.CHANGE_GUTTER || changes & this.CHANGE_LINES) this.$gutterLayer.update(config);else this.$gutterLayer.scrollLines(config);\n        }\n\n        this.$markerBack.update(config);\n        this.$markerFront.update(config);\n        this.$cursorLayer.update(config);\n        this.$moveTextAreaToCursor();\n\n        this._signal(\"afterRender\", changes);\n\n        return;\n      }\n\n      if (changes & this.CHANGE_TEXT) {\n        this.$changedLines = null;\n        this.$textLayer.update(config);\n        if (this.$showGutter) this.$gutterLayer.update(config);\n      } else if (changes & this.CHANGE_LINES) {\n        if (this.$updateLines() || changes & this.CHANGE_GUTTER && this.$showGutter) this.$gutterLayer.update(config);\n      } else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {\n        if (this.$showGutter) this.$gutterLayer.update(config);\n      } else if (changes & this.CHANGE_CURSOR) {\n        if (this.$highlightGutterLine) this.$gutterLayer.updateLineHighlight(config);\n      }\n\n      if (changes & this.CHANGE_CURSOR) {\n        this.$cursorLayer.update(config);\n        this.$moveTextAreaToCursor();\n      }\n\n      if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {\n        this.$markerFront.update(config);\n      }\n\n      if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {\n        this.$markerBack.update(config);\n      }\n\n      this._signal(\"afterRender\", changes);\n    };\n\n    this.$autosize = function () {\n      var height = this.session.getScreenLength() * this.lineHeight;\n      var maxHeight = this.$maxLines * this.lineHeight;\n      var desiredHeight = Math.min(maxHeight, Math.max((this.$minLines || 1) * this.lineHeight, height)) + this.scrollMargin.v + (this.$extraHeight || 0);\n      if (this.$horizScroll) desiredHeight += this.scrollBarH.getHeight();\n      if (this.$maxPixelHeight && desiredHeight > this.$maxPixelHeight) desiredHeight = this.$maxPixelHeight;\n      var hideScrollbars = desiredHeight <= 2 * this.lineHeight;\n      var vScroll = !hideScrollbars && height > maxHeight;\n\n      if (desiredHeight != this.desiredHeight || this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {\n        if (vScroll != this.$vScroll) {\n          this.$vScroll = vScroll;\n          this.scrollBarV.setVisible(vScroll);\n        }\n\n        var w = this.container.clientWidth;\n        this.container.style.height = desiredHeight + \"px\";\n        this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);\n        this.desiredHeight = desiredHeight;\n\n        this._signal(\"autosize\");\n      }\n    };\n\n    this.$computeLayerConfig = function () {\n      var session = this.session;\n      var size = this.$size;\n      var hideScrollbars = size.height <= 2 * this.lineHeight;\n      var screenLines = this.session.getScreenLength();\n      var maxHeight = screenLines * this.lineHeight;\n      var longestLine = this.$getLongestLine();\n      var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible || size.scrollerWidth - longestLine - 2 * this.$padding < 0);\n      var hScrollChanged = this.$horizScroll !== horizScroll;\n\n      if (hScrollChanged) {\n        this.$horizScroll = horizScroll;\n        this.scrollBarH.setVisible(horizScroll);\n      }\n\n      var vScrollBefore = this.$vScroll; // autosize can change vscroll value in which case we need to update longestLine\n\n      if (this.$maxLines && this.lineHeight > 1) this.$autosize();\n      var minHeight = size.scrollerHeight + this.lineHeight;\n      var scrollPastEnd = !this.$maxLines && this.$scrollPastEnd ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd : 0;\n      maxHeight += scrollPastEnd;\n      var sm = this.scrollMargin;\n      this.session.setScrollTop(Math.max(-sm.top, Math.min(this.scrollTop, maxHeight - size.scrollerHeight + sm.bottom)));\n      this.session.setScrollLeft(Math.max(-sm.left, Math.min(this.scrollLeft, longestLine + 2 * this.$padding - size.scrollerWidth + sm.right)));\n      var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible || size.scrollerHeight - maxHeight + scrollPastEnd < 0 || this.scrollTop > sm.top);\n      var vScrollChanged = vScrollBefore !== vScroll;\n\n      if (vScrollChanged) {\n        this.$vScroll = vScroll;\n        this.scrollBarV.setVisible(vScroll);\n      }\n\n      var offset = this.scrollTop % this.lineHeight;\n      var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;\n      var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));\n      var lastRow = firstRow + lineCount;\n      var firstRowScreen, firstRowHeight;\n      var lineHeight = this.lineHeight;\n      firstRow = session.screenToDocumentRow(firstRow, 0);\n      var foldLine = session.getFoldLine(firstRow);\n\n      if (foldLine) {\n        firstRow = foldLine.start.row;\n      }\n\n      firstRowScreen = session.documentToScreenRow(firstRow, 0);\n      firstRowHeight = session.getRowLength(firstRow) * lineHeight;\n      lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);\n      minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight + firstRowHeight;\n      offset = this.scrollTop - firstRowScreen * lineHeight;\n      var changes = 0;\n      if (this.layerConfig.width != longestLine || hScrollChanged) changes = this.CHANGE_H_SCROLL;\n\n      if (hScrollChanged || vScrollChanged) {\n        changes |= this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);\n\n        this._signal(\"scrollbarVisibilityChanged\");\n\n        if (vScrollChanged) longestLine = this.$getLongestLine();\n      }\n\n      this.layerConfig = {\n        width: longestLine,\n        padding: this.$padding,\n        firstRow: firstRow,\n        firstRowScreen: firstRowScreen,\n        lastRow: lastRow,\n        lineHeight: lineHeight,\n        characterWidth: this.characterWidth,\n        minHeight: minHeight,\n        maxHeight: maxHeight,\n        offset: offset,\n        gutterOffset: lineHeight ? Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)) : 0,\n        height: this.$size.scrollerHeight\n      };\n      if (this.session.$bidiHandler) this.session.$bidiHandler.setContentWidth(longestLine - this.$padding);\n      return changes;\n    };\n\n    this.$updateLines = function () {\n      if (!this.$changedLines) return;\n      var firstRow = this.$changedLines.firstRow;\n      var lastRow = this.$changedLines.lastRow;\n      this.$changedLines = null;\n      var layerConfig = this.layerConfig;\n\n      if (firstRow > layerConfig.lastRow + 1) {\n        return;\n      }\n\n      if (lastRow < layerConfig.firstRow) {\n        return;\n      }\n\n      if (lastRow === Infinity) {\n        if (this.$showGutter) this.$gutterLayer.update(layerConfig);\n        this.$textLayer.update(layerConfig);\n        return;\n      }\n\n      this.$textLayer.updateLines(layerConfig, firstRow, lastRow);\n      return true;\n    };\n\n    this.$getLongestLine = function () {\n      var charCount = this.session.getScreenWidth();\n      if (this.showInvisibles && !this.session.$useWrapMode) charCount += 1;\n      if (this.$textLayer && charCount > this.$textLayer.MAX_LINE_LENGTH) charCount = this.$textLayer.MAX_LINE_LENGTH + 30;\n      return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));\n    };\n\n    this.updateFrontMarkers = function () {\n      this.$markerFront.setMarkers(this.session.getMarkers(true));\n      this.$loop.schedule(this.CHANGE_MARKER_FRONT);\n    };\n\n    this.updateBackMarkers = function () {\n      this.$markerBack.setMarkers(this.session.getMarkers());\n      this.$loop.schedule(this.CHANGE_MARKER_BACK);\n    };\n\n    this.addGutterDecoration = function (row, className) {\n      this.$gutterLayer.addGutterDecoration(row, className);\n    };\n\n    this.removeGutterDecoration = function (row, className) {\n      this.$gutterLayer.removeGutterDecoration(row, className);\n    };\n\n    this.updateBreakpoints = function (rows) {\n      this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n\n    this.setAnnotations = function (annotations) {\n      this.$gutterLayer.setAnnotations(annotations);\n      this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n\n    this.updateCursor = function () {\n      this.$loop.schedule(this.CHANGE_CURSOR);\n    };\n\n    this.hideCursor = function () {\n      this.$cursorLayer.hideCursor();\n    };\n\n    this.showCursor = function () {\n      this.$cursorLayer.showCursor();\n    };\n\n    this.scrollSelectionIntoView = function (anchor, lead, offset) {\n      this.scrollCursorIntoView(anchor, offset);\n      this.scrollCursorIntoView(lead, offset);\n    };\n\n    this.scrollCursorIntoView = function (cursor, offset, $viewMargin) {\n      if (this.$size.scrollerHeight === 0) return;\n      var pos = this.$cursorLayer.getPixelPosition(cursor);\n      var left = pos.left;\n      var top = pos.top;\n      var topMargin = $viewMargin && $viewMargin.top || 0;\n      var bottomMargin = $viewMargin && $viewMargin.bottom || 0;\n      var scrollTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;\n\n      if (scrollTop + topMargin > top) {\n        if (offset && scrollTop + topMargin > top + this.lineHeight) top -= offset * this.$size.scrollerHeight;\n        if (top === 0) top = -this.scrollMargin.top;\n        this.session.setScrollTop(top);\n      } else if (scrollTop + this.$size.scrollerHeight - bottomMargin < top + this.lineHeight) {\n        if (offset && scrollTop + this.$size.scrollerHeight - bottomMargin < top - this.lineHeight) top += offset * this.$size.scrollerHeight;\n        this.session.setScrollTop(top + this.lineHeight + bottomMargin - this.$size.scrollerHeight);\n      }\n\n      var scrollLeft = this.scrollLeft;\n\n      if (scrollLeft > left) {\n        if (left < this.$padding + 2 * this.layerConfig.characterWidth) left = -this.scrollMargin.left;\n        this.session.setScrollLeft(left);\n      } else if (scrollLeft + this.$size.scrollerWidth < left + this.characterWidth) {\n        this.session.setScrollLeft(Math.round(left + this.characterWidth - this.$size.scrollerWidth));\n      } else if (scrollLeft <= this.$padding && left - scrollLeft < this.characterWidth) {\n        this.session.setScrollLeft(0);\n      }\n    };\n\n    this.getScrollTop = function () {\n      return this.session.getScrollTop();\n    };\n\n    this.getScrollLeft = function () {\n      return this.session.getScrollLeft();\n    };\n\n    this.getScrollTopRow = function () {\n      return this.scrollTop / this.lineHeight;\n    };\n\n    this.getScrollBottomRow = function () {\n      return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);\n    };\n\n    this.scrollToRow = function (row) {\n      this.session.setScrollTop(row * this.lineHeight);\n    };\n\n    this.alignCursor = function (cursor, alignment) {\n      if (typeof cursor == \"number\") cursor = {\n        row: cursor,\n        column: 0\n      };\n      var pos = this.$cursorLayer.getPixelPosition(cursor);\n      var h = this.$size.scrollerHeight - this.lineHeight;\n      var offset = pos.top - h * (alignment || 0);\n      this.session.setScrollTop(offset);\n      return offset;\n    };\n\n    this.STEPS = 8;\n\n    this.$calcSteps = function (fromValue, toValue) {\n      var i = 0;\n      var l = this.STEPS;\n      var steps = [];\n\n      var func = function func(t, x_min, dx) {\n        return dx * (Math.pow(t - 1, 3) + 1) + x_min;\n      };\n\n      for (i = 0; i < l; ++i) {\n        steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));\n      }\n\n      return steps;\n    };\n\n    this.scrollToLine = function (line, center, animate, callback) {\n      var pos = this.$cursorLayer.getPixelPosition({\n        row: line,\n        column: 0\n      });\n      var offset = pos.top;\n      if (center) offset -= this.$size.scrollerHeight / 2;\n      var initialScroll = this.scrollTop;\n      this.session.setScrollTop(offset);\n      if (animate !== false) this.animateScrolling(initialScroll, callback);\n    };\n\n    this.animateScrolling = function (fromValue, callback) {\n      var toValue = this.scrollTop;\n      if (!this.$animatedScroll) return;\n\n      var _self = this;\n\n      if (fromValue == toValue) return;\n\n      if (this.$scrollAnimation) {\n        var oldSteps = this.$scrollAnimation.steps;\n\n        if (oldSteps.length) {\n          fromValue = oldSteps[0];\n          if (fromValue == toValue) return;\n        }\n      }\n\n      var steps = _self.$calcSteps(fromValue, toValue);\n\n      this.$scrollAnimation = {\n        from: fromValue,\n        to: toValue,\n        steps: steps\n      };\n      clearInterval(this.$timer);\n\n      _self.session.setScrollTop(steps.shift());\n\n      _self.session.$scrollTop = toValue;\n      this.$timer = setInterval(function () {\n        if (!_self.session) return clearInterval(_self.$timer);\n\n        if (steps.length) {\n          _self.session.setScrollTop(steps.shift());\n\n          _self.session.$scrollTop = toValue;\n        } else if (toValue != null) {\n          _self.session.$scrollTop = -1;\n\n          _self.session.setScrollTop(toValue);\n\n          toValue = null;\n        } else {\n          _self.$timer = clearInterval(_self.$timer);\n          _self.$scrollAnimation = null;\n          callback && callback();\n        }\n      }, 10);\n    };\n\n    this.scrollToY = function (scrollTop) {\n      if (this.scrollTop !== scrollTop) {\n        this.$loop.schedule(this.CHANGE_SCROLL);\n        this.scrollTop = scrollTop;\n      }\n    };\n\n    this.scrollToX = function (scrollLeft) {\n      if (this.scrollLeft !== scrollLeft) this.scrollLeft = scrollLeft;\n      this.$loop.schedule(this.CHANGE_H_SCROLL);\n    };\n\n    this.scrollTo = function (x, y) {\n      this.session.setScrollTop(y);\n      this.session.setScrollLeft(y);\n    };\n\n    this.scrollBy = function (deltaX, deltaY) {\n      deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);\n      deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);\n    };\n\n    this.isScrollableBy = function (deltaX, deltaY) {\n      if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top) return true;\n      if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom) return true;\n      if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left) return true;\n      if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth - this.layerConfig.width < -1 + this.scrollMargin.right) return true;\n    };\n\n    this.pixelToScreenCoordinates = function (x, y) {\n      var canvasPos;\n\n      if (this.$hasCssTransforms) {\n        canvasPos = {\n          top: 0,\n          left: 0\n        };\n        var p = this.$fontMetrics.transformCoordinates([x, y]);\n        x = p[1] - this.gutterWidth - this.margin.left;\n        y = p[0];\n      } else {\n        canvasPos = this.scroller.getBoundingClientRect();\n      }\n\n      var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n      var offset = offsetX / this.characterWidth;\n      var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n      var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n      return {\n        row: row,\n        column: col,\n        side: offset - col > 0 ? 1 : -1,\n        offsetX: offsetX\n      };\n    };\n\n    this.screenToTextCoordinates = function (x, y) {\n      var canvasPos;\n\n      if (this.$hasCssTransforms) {\n        canvasPos = {\n          top: 0,\n          left: 0\n        };\n        var p = this.$fontMetrics.transformCoordinates([x, y]);\n        x = p[1] - this.gutterWidth - this.margin.left;\n        y = p[0];\n      } else {\n        canvasPos = this.scroller.getBoundingClientRect();\n      }\n\n      var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n      var offset = offsetX / this.characterWidth;\n      var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n      var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n      return this.session.screenToDocumentPosition(row, Math.max(col, 0), offsetX);\n    };\n\n    this.textToScreenCoordinates = function (row, column) {\n      var canvasPos = this.scroller.getBoundingClientRect();\n      var pos = this.session.documentToScreenPosition(row, column);\n      var x = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, row) ? this.session.$bidiHandler.getPosLeft(pos.column) : Math.round(pos.column * this.characterWidth));\n      var y = pos.row * this.lineHeight;\n      return {\n        pageX: canvasPos.left + x - this.scrollLeft,\n        pageY: canvasPos.top + y - this.scrollTop\n      };\n    };\n\n    this.visualizeFocus = function () {\n      dom.addCssClass(this.container, \"ace_focus\");\n    };\n\n    this.visualizeBlur = function () {\n      dom.removeCssClass(this.container, \"ace_focus\");\n    };\n\n    this.showComposition = function (composition) {\n      this.$composition = composition;\n\n      if (!composition.cssText) {\n        composition.cssText = this.textarea.style.cssText;\n      }\n\n      if (composition.useTextareaForIME == undefined) composition.useTextareaForIME = this.$useTextareaForIME;\n\n      if (this.$useTextareaForIME) {\n        dom.addCssClass(this.textarea, \"ace_composition\");\n        this.textarea.style.cssText = \"\";\n        this.$moveTextAreaToCursor();\n        this.$cursorLayer.element.style.display = \"none\";\n      } else {\n        composition.markerId = this.session.addMarker(composition.markerRange, \"ace_composition_marker\", \"text\");\n      }\n    };\n\n    this.setCompositionText = function (text) {\n      var cursor = this.session.selection.cursor;\n      this.addToken(text, \"composition_placeholder\", cursor.row, cursor.column);\n      this.$moveTextAreaToCursor();\n    };\n\n    this.hideComposition = function () {\n      if (!this.$composition) return;\n      if (this.$composition.markerId) this.session.removeMarker(this.$composition.markerId);\n      dom.removeCssClass(this.textarea, \"ace_composition\");\n      this.textarea.style.cssText = this.$composition.cssText;\n      var cursor = this.session.selection.cursor;\n      this.removeExtraToken(cursor.row, cursor.column);\n      this.$composition = null;\n      this.$cursorLayer.element.style.display = \"\";\n    };\n\n    this.addToken = function (text, type, row, column) {\n      var session = this.session;\n      session.bgTokenizer.lines[row] = null;\n      var newToken = {\n        type: type,\n        value: text\n      };\n      var tokens = session.getTokens(row);\n\n      if (column == null) {\n        tokens.push(newToken);\n      } else {\n        var l = 0;\n\n        for (var i = 0; i < tokens.length; i++) {\n          var token = tokens[i];\n          l += token.value.length;\n\n          if (column <= l) {\n            var diff = token.value.length - (l - column);\n            var before = token.value.slice(0, diff);\n            var after = token.value.slice(diff);\n            tokens.splice(i, 1, {\n              type: token.type,\n              value: before\n            }, newToken, {\n              type: token.type,\n              value: after\n            });\n            break;\n          }\n        }\n      }\n\n      this.updateLines(row, row);\n    };\n\n    this.removeExtraToken = function (row, column) {\n      this.updateLines(row, row);\n    };\n\n    this.setTheme = function (theme, cb) {\n      var _self = this;\n\n      this.$themeId = theme;\n\n      _self._dispatchEvent('themeChange', {\n        theme: theme\n      });\n\n      if (!theme || typeof theme == \"string\") {\n        var moduleName = theme || this.$options.theme.initialValue;\n        config.loadModule([\"theme\", moduleName], afterLoad);\n      } else {\n        afterLoad(theme);\n      }\n\n      function afterLoad(module) {\n        if (_self.$themeId != theme) return cb && cb();\n        if (!module || !module.cssClass) throw new Error(\"couldn't load module \" + theme + \" or it didn't call define\");\n        if (module.$id) _self.$themeId = module.$id;\n        dom.importCssString(module.cssText, module.cssClass, _self.container);\n        if (_self.theme) dom.removeCssClass(_self.container, _self.theme.cssClass);\n        var padding = \"padding\" in module ? module.padding : \"padding\" in (_self.theme || {}) ? 4 : _self.$padding;\n        if (_self.$padding && padding != _self.$padding) _self.setPadding(padding);\n        _self.$theme = module.cssClass;\n        _self.theme = module;\n        dom.addCssClass(_self.container, module.cssClass);\n        dom.setCssClass(_self.container, \"ace_dark\", module.isDark);\n\n        if (_self.$size) {\n          _self.$size.width = 0;\n\n          _self.$updateSizeAsync();\n        }\n\n        _self._dispatchEvent('themeLoaded', {\n          theme: module\n        });\n\n        cb && cb();\n      }\n    };\n\n    this.getTheme = function () {\n      return this.$themeId;\n    };\n\n    this.setStyle = function (style, include) {\n      dom.setCssClass(this.container, style, include !== false);\n    };\n\n    this.unsetStyle = function (style) {\n      dom.removeCssClass(this.container, style);\n    };\n\n    this.setCursorStyle = function (style) {\n      dom.setStyle(this.scroller.style, \"cursor\", style);\n    };\n\n    this.setMouseCursor = function (cursorStyle) {\n      dom.setStyle(this.scroller.style, \"cursor\", cursorStyle);\n    };\n\n    this.attachToShadowRoot = function () {\n      dom.importCssString(editorCss, \"ace_editor.css\", this.container);\n    };\n\n    this.destroy = function () {\n      this.freeze();\n      this.$fontMetrics.destroy();\n      this.$cursorLayer.destroy();\n      this.removeAllListeners();\n      this.container.textContent = \"\";\n    };\n  }).call(VirtualRenderer.prototype);\n  config.defineOptions(VirtualRenderer.prototype, \"renderer\", {\n    animatedScroll: {\n      initialValue: false\n    },\n    showInvisibles: {\n      set: function set(value) {\n        if (this.$textLayer.setShowInvisibles(value)) this.$loop.schedule(this.CHANGE_TEXT);\n      },\n      initialValue: false\n    },\n    showPrintMargin: {\n      set: function set() {\n        this.$updatePrintMargin();\n      },\n      initialValue: true\n    },\n    printMarginColumn: {\n      set: function set() {\n        this.$updatePrintMargin();\n      },\n      initialValue: 80\n    },\n    printMargin: {\n      set: function set(val) {\n        if (typeof val == \"number\") this.$printMarginColumn = val;\n        this.$showPrintMargin = !!val;\n        this.$updatePrintMargin();\n      },\n      get: function get() {\n        return this.$showPrintMargin && this.$printMarginColumn;\n      }\n    },\n    showGutter: {\n      set: function set(show) {\n        this.$gutter.style.display = show ? \"block\" : \"none\";\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.onGutterResize();\n      },\n      initialValue: true\n    },\n    fadeFoldWidgets: {\n      set: function set(show) {\n        dom.setCssClass(this.$gutter, \"ace_fade-fold-widgets\", show);\n      },\n      initialValue: false\n    },\n    showFoldWidgets: {\n      set: function set(show) {\n        this.$gutterLayer.setShowFoldWidgets(show);\n        this.$loop.schedule(this.CHANGE_GUTTER);\n      },\n      initialValue: true\n    },\n    displayIndentGuides: {\n      set: function set(show) {\n        if (this.$textLayer.setDisplayIndentGuides(show)) this.$loop.schedule(this.CHANGE_TEXT);\n      },\n      initialValue: true\n    },\n    highlightGutterLine: {\n      set: function set(shouldHighlight) {\n        this.$gutterLayer.setHighlightGutterLine(shouldHighlight);\n        this.$loop.schedule(this.CHANGE_GUTTER);\n      },\n      initialValue: true\n    },\n    hScrollBarAlwaysVisible: {\n      set: function set(val) {\n        if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll) this.$loop.schedule(this.CHANGE_SCROLL);\n      },\n      initialValue: false\n    },\n    vScrollBarAlwaysVisible: {\n      set: function set(val) {\n        if (!this.$vScrollBarAlwaysVisible || !this.$vScroll) this.$loop.schedule(this.CHANGE_SCROLL);\n      },\n      initialValue: false\n    },\n    fontSize: {\n      set: function set(size) {\n        if (typeof size == \"number\") size = size + \"px\";\n        this.container.style.fontSize = size;\n        this.updateFontSize();\n      },\n      initialValue: 12\n    },\n    fontFamily: {\n      set: function set(name) {\n        this.container.style.fontFamily = name;\n        this.updateFontSize();\n      }\n    },\n    maxLines: {\n      set: function set(val) {\n        this.updateFull();\n      }\n    },\n    minLines: {\n      set: function set(val) {\n        if (!(this.$minLines < 0x1ffffffffffff)) this.$minLines = 0;\n        this.updateFull();\n      }\n    },\n    maxPixelHeight: {\n      set: function set(val) {\n        this.updateFull();\n      },\n      initialValue: 0\n    },\n    scrollPastEnd: {\n      set: function set(val) {\n        val = +val || 0;\n        if (this.$scrollPastEnd == val) return;\n        this.$scrollPastEnd = val;\n        this.$loop.schedule(this.CHANGE_SCROLL);\n      },\n      initialValue: 0,\n      handlesSet: true\n    },\n    fixedWidthGutter: {\n      set: function set(val) {\n        this.$gutterLayer.$fixedWidth = !!val;\n        this.$loop.schedule(this.CHANGE_GUTTER);\n      }\n    },\n    theme: {\n      set: function set(val) {\n        this.setTheme(val);\n      },\n      get: function get() {\n        return this.$themeId || this.theme;\n      },\n      initialValue: \"./theme/textmate\",\n      handlesSet: true\n    },\n    hasCssTransforms: {},\n    useTextareaForIME: {\n      initialValue: !useragent.isMobile && !useragent.isIE\n    }\n  });\n  exports.VirtualRenderer = VirtualRenderer;\n});\nace.define(\"ace/worker/worker_client\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/net\", \"ace/lib/event_emitter\", \"ace/config\"], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"../lib/oop\");\n\n  var net = require(\"../lib/net\");\n\n  var EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\n  var config = require(\"../config\");\n\n  function $workerBlob(workerUrl) {\n    var script = \"importScripts('\" + net.qualifyURL(workerUrl) + \"');\";\n\n    try {\n      return new Blob([script], {\n        \"type\": \"application/javascript\"\n      });\n    } catch (e) {\n      // Backwards-compatibility\n      var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n      var blobBuilder = new BlobBuilder();\n      blobBuilder.append(script);\n      return blobBuilder.getBlob(\"application/javascript\");\n    }\n  }\n\n  function createWorker(workerUrl) {\n    if (typeof Worker == \"undefined\") return {\n      postMessage: function postMessage() {},\n      terminate: function terminate() {}\n    };\n\n    if (config.get(\"loadWorkerFromBlob\")) {\n      var blob = $workerBlob(workerUrl);\n      var URL = window.URL || window.webkitURL;\n      var blobURL = URL.createObjectURL(blob);\n      return new Worker(blobURL);\n    }\n\n    return new Worker(workerUrl);\n  }\n\n  var WorkerClient = function WorkerClient(worker) {\n    if (!worker.postMessage) worker = this.$createWorkerFromOldConfig.apply(this, arguments);\n    this.$worker = worker;\n    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.onMessage = this.onMessage.bind(this);\n    this.callbackId = 1;\n    this.callbacks = {};\n    this.$worker.onmessage = this.onMessage;\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.$createWorkerFromOldConfig = function (topLevelNamespaces, mod, classname, workerUrl, importScripts) {\n      if (require.nameToUrl && !require.toUrl) require.toUrl = require.nameToUrl;\n\n      if (config.get(\"packaged\") || !require.toUrl) {\n        workerUrl = workerUrl || config.moduleUrl(mod, \"worker\");\n      } else {\n        var normalizePath = this.$normalizePath;\n        workerUrl = workerUrl || normalizePath(require.toUrl(\"ace/worker/worker.js\", null, \"_\"));\n        var tlns = {};\n        topLevelNamespaces.forEach(function (ns) {\n          tlns[ns] = normalizePath(require.toUrl(ns, null, \"_\").replace(/(\\.js)?(\\?.*)?$/, \"\"));\n        });\n      }\n\n      this.$worker = createWorker(workerUrl);\n\n      if (importScripts) {\n        this.send(\"importScripts\", importScripts);\n      }\n\n      this.$worker.postMessage({\n        init: true,\n        tlns: tlns,\n        module: mod,\n        classname: classname\n      });\n      return this.$worker;\n    };\n\n    this.onMessage = function (e) {\n      var msg = e.data;\n\n      switch (msg.type) {\n        case \"event\":\n          this._signal(msg.name, {\n            data: msg.data\n          });\n\n          break;\n\n        case \"call\":\n          var callback = this.callbacks[msg.id];\n\n          if (callback) {\n            callback(msg.data);\n            delete this.callbacks[msg.id];\n          }\n\n          break;\n\n        case \"error\":\n          this.reportError(msg.data);\n          break;\n\n        case \"log\":\n          window.console && console.log && console.log.apply(console, msg.data);\n          break;\n      }\n    };\n\n    this.reportError = function (err) {\n      window.console && console.error && console.error(err);\n    };\n\n    this.$normalizePath = function (path) {\n      return net.qualifyURL(path);\n    };\n\n    this.terminate = function () {\n      this._signal(\"terminate\", {});\n\n      this.deltaQueue = null;\n      this.$worker.terminate();\n      this.$worker = null;\n      if (this.$doc) this.$doc.off(\"change\", this.changeListener);\n      this.$doc = null;\n    };\n\n    this.send = function (cmd, args) {\n      this.$worker.postMessage({\n        command: cmd,\n        args: args\n      });\n    };\n\n    this.call = function (cmd, args, callback) {\n      if (callback) {\n        var id = this.callbackId++;\n        this.callbacks[id] = callback;\n        args.push(id);\n      }\n\n      this.send(cmd, args);\n    };\n\n    this.emit = function (event, data) {\n      try {\n        if (data.data && data.data.err) data.data.err = {\n          message: data.data.err.message,\n          stack: data.data.err.stack,\n          code: data.data.err.code\n        };\n        this.$worker.postMessage({\n          event: event,\n          data: {\n            data: data.data\n          }\n        });\n      } catch (ex) {\n        console.error(ex.stack);\n      }\n    };\n\n    this.attachToDocument = function (doc) {\n      if (this.$doc) this.terminate();\n      this.$doc = doc;\n      this.call(\"setValue\", [doc.getValue()]);\n      doc.on(\"change\", this.changeListener);\n    };\n\n    this.changeListener = function (delta) {\n      if (!this.deltaQueue) {\n        this.deltaQueue = [];\n        setTimeout(this.$sendDeltaQueue, 0);\n      }\n\n      if (delta.action == \"insert\") this.deltaQueue.push(delta.start, delta.lines);else this.deltaQueue.push(delta.start, delta.end);\n    };\n\n    this.$sendDeltaQueue = function () {\n      var q = this.deltaQueue;\n      if (!q) return;\n      this.deltaQueue = null;\n\n      if (q.length > 50 && q.length > this.$doc.getLength() >> 1) {\n        this.call(\"setValue\", [this.$doc.getValue()]);\n      } else this.emit(\"change\", {\n        data: q\n      });\n    };\n  }).call(WorkerClient.prototype);\n\n  var UIWorkerClient = function UIWorkerClient(topLevelNamespaces, mod, classname) {\n    var main = null;\n    var emitSync = false;\n    var sender = Object.create(EventEmitter);\n    var messageBuffer = [];\n    var workerClient = new WorkerClient({\n      messageBuffer: messageBuffer,\n      terminate: function terminate() {},\n      postMessage: function postMessage(e) {\n        messageBuffer.push(e);\n        if (!main) return;\n        if (emitSync) setTimeout(processNext);else processNext();\n      }\n    });\n\n    workerClient.setEmitSync = function (val) {\n      emitSync = val;\n    };\n\n    var processNext = function processNext() {\n      var msg = messageBuffer.shift();\n      if (msg.command) main[msg.command].apply(main, msg.args);else if (msg.event) sender._signal(msg.event, msg.data);\n    };\n\n    sender.postMessage = function (msg) {\n      workerClient.onMessage({\n        data: msg\n      });\n    };\n\n    sender.callback = function (data, callbackId) {\n      this.postMessage({\n        type: \"call\",\n        id: callbackId,\n        data: data\n      });\n    };\n\n    sender.emit = function (name, data) {\n      this.postMessage({\n        type: \"event\",\n        name: name,\n        data: data\n      });\n    };\n\n    config.loadModule([\"worker\", mod], function (Main) {\n      main = new Main[classname](sender);\n\n      while (messageBuffer.length) {\n        processNext();\n      }\n    });\n    return workerClient;\n  };\n\n  exports.UIWorkerClient = UIWorkerClient;\n  exports.WorkerClient = WorkerClient;\n  exports.createWorker = createWorker;\n});\nace.define(\"ace/placeholder\", [\"require\", \"exports\", \"module\", \"ace/range\", \"ace/lib/event_emitter\", \"ace/lib/oop\"], function (require, exports, module) {\n  \"use strict\";\n\n  var Range = require(\"./range\").Range;\n\n  var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\n  var oop = require(\"./lib/oop\");\n\n  var PlaceHolder = function PlaceHolder(session, length, pos, others, mainClass, othersClass) {\n    var _self = this;\n\n    this.length = length;\n    this.session = session;\n    this.doc = session.getDocument();\n    this.mainClass = mainClass;\n    this.othersClass = othersClass;\n    this.$onUpdate = this.onUpdate.bind(this);\n    this.doc.on(\"change\", this.$onUpdate);\n    this.$others = others;\n\n    this.$onCursorChange = function () {\n      setTimeout(function () {\n        _self.onCursorChange();\n      });\n    };\n\n    this.$pos = pos;\n    var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || {\n      length: -1\n    };\n    this.$undoStackDepth = undoStack.length;\n    this.setup();\n    session.selection.on(\"changeCursor\", this.$onCursorChange);\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.setup = function () {\n      var _self = this;\n\n      var doc = this.doc;\n      var session = this.session;\n      this.selectionBefore = session.selection.toJSON();\n      if (session.selection.inMultiSelectMode) session.selection.toSingleRange();\n      this.pos = doc.createAnchor(this.$pos.row, this.$pos.column);\n      var pos = this.pos;\n      pos.$insertRight = true;\n      pos.detach();\n      pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);\n      this.others = [];\n      this.$others.forEach(function (other) {\n        var anchor = doc.createAnchor(other.row, other.column);\n        anchor.$insertRight = true;\n        anchor.detach();\n\n        _self.others.push(anchor);\n      });\n      session.setUndoSelect(false);\n    };\n\n    this.showOtherMarkers = function () {\n      if (this.othersActive) return;\n      var session = this.session;\n\n      var _self = this;\n\n      this.othersActive = true;\n      this.others.forEach(function (anchor) {\n        anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column + _self.length), _self.othersClass, null, false);\n      });\n    };\n\n    this.hideOtherMarkers = function () {\n      if (!this.othersActive) return;\n      this.othersActive = false;\n\n      for (var i = 0; i < this.others.length; i++) {\n        this.session.removeMarker(this.others[i].markerId);\n      }\n    };\n\n    this.onUpdate = function (delta) {\n      if (this.$updating) return this.updateAnchors(delta);\n      var range = delta;\n      if (range.start.row !== range.end.row) return;\n      if (range.start.row !== this.pos.row) return;\n      this.$updating = true;\n      var lengthDiff = delta.action === \"insert\" ? range.end.column - range.start.column : range.start.column - range.end.column;\n      var inMainRange = range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1;\n      var distanceFromStart = range.start.column - this.pos.column;\n      this.updateAnchors(delta);\n      if (inMainRange) this.length += lengthDiff;\n\n      if (inMainRange && !this.session.$fromUndo) {\n        if (delta.action === 'insert') {\n          for (var i = this.others.length - 1; i >= 0; i--) {\n            var otherPos = this.others[i];\n            var newPos = {\n              row: otherPos.row,\n              column: otherPos.column + distanceFromStart\n            };\n            this.doc.insertMergedLines(newPos, delta.lines);\n          }\n        } else if (delta.action === 'remove') {\n          for (var i = this.others.length - 1; i >= 0; i--) {\n            var otherPos = this.others[i];\n            var newPos = {\n              row: otherPos.row,\n              column: otherPos.column + distanceFromStart\n            };\n            this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));\n          }\n        }\n      }\n\n      this.$updating = false;\n      this.updateMarkers();\n    };\n\n    this.updateAnchors = function (delta) {\n      this.pos.onChange(delta);\n\n      for (var i = this.others.length; i--;) {\n        this.others[i].onChange(delta);\n      }\n\n      this.updateMarkers();\n    };\n\n    this.updateMarkers = function () {\n      if (this.$updating) return;\n\n      var _self = this;\n\n      var session = this.session;\n\n      var updateMarker = function updateMarker(pos, className) {\n        session.removeMarker(pos.markerId);\n        pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + _self.length), className, null, false);\n      };\n\n      updateMarker(this.pos, this.mainClass);\n\n      for (var i = this.others.length; i--;) {\n        updateMarker(this.others[i], this.othersClass);\n      }\n    };\n\n    this.onCursorChange = function (event) {\n      if (this.$updating || !this.session) return;\n      var pos = this.session.selection.getCursor();\n\n      if (pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {\n        this.showOtherMarkers();\n\n        this._emit(\"cursorEnter\", event);\n      } else {\n        this.hideOtherMarkers();\n\n        this._emit(\"cursorLeave\", event);\n      }\n    };\n\n    this.detach = function () {\n      this.session.removeMarker(this.pos && this.pos.markerId);\n      this.hideOtherMarkers();\n      this.doc.off(\"change\", this.$onUpdate);\n      this.session.selection.off(\"changeCursor\", this.$onCursorChange);\n      this.session.setUndoSelect(true);\n      this.session = null;\n    };\n\n    this.cancel = function () {\n      if (this.$undoStackDepth === -1) return;\n      var undoManager = this.session.getUndoManager();\n      var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;\n\n      for (var i = 0; i < undosRequired; i++) {\n        undoManager.undo(this.session, true);\n      }\n\n      if (this.selectionBefore) this.session.selection.fromJSON(this.selectionBefore);\n    };\n  }).call(PlaceHolder.prototype);\n  exports.PlaceHolder = PlaceHolder;\n});\nace.define(\"ace/mouse/multi_select_handler\", [\"require\", \"exports\", \"module\", \"ace/lib/event\", \"ace/lib/useragent\"], function (require, exports, module) {\n  var event = require(\"../lib/event\");\n\n  var useragent = require(\"../lib/useragent\");\n\n  function isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n  }\n\n  function onMouseDown(e) {\n    var ev = e.domEvent;\n    var alt = ev.altKey;\n    var shift = ev.shiftKey;\n    var ctrl = ev.ctrlKey;\n    var accel = e.getAccelKey();\n    var button = e.getButton();\n    if (ctrl && useragent.isMac) button = ev.button;\n\n    if (e.editor.inMultiSelectMode && button == 2) {\n      e.editor.textInput.onContextMenu(e.domEvent);\n      return;\n    }\n\n    if (!ctrl && !alt && !accel) {\n      if (button === 0 && e.editor.inMultiSelectMode) e.editor.exitMultiSelectMode();\n      return;\n    }\n\n    if (button !== 0) return;\n    var editor = e.editor;\n    var selection = editor.selection;\n    var isMultiSelect = editor.inMultiSelectMode;\n    var pos = e.getDocumentPosition();\n    var cursor = selection.getCursor();\n    var inSelection = e.inSelection() || selection.isEmpty() && isSamePoint(pos, cursor);\n    var mouseX = e.x,\n        mouseY = e.y;\n\n    var onMouseSelection = function onMouseSelection(e) {\n      mouseX = e.clientX;\n      mouseY = e.clientY;\n    };\n\n    var session = editor.session;\n    var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n    var screenCursor = screenAnchor;\n    var selectionMode;\n\n    if (editor.$mouseHandler.$enableJumpToDef) {\n      if (ctrl && alt || accel && alt) selectionMode = shift ? \"block\" : \"add\";else if (alt && editor.$blockSelectEnabled) selectionMode = \"block\";\n    } else {\n      if (accel && !alt) {\n        selectionMode = \"add\";\n        if (!isMultiSelect && shift) return;\n      } else if (alt && editor.$blockSelectEnabled) {\n        selectionMode = \"block\";\n      }\n    }\n\n    if (selectionMode && useragent.isMac && ev.ctrlKey) {\n      editor.$mouseHandler.cancelContextMenu();\n    }\n\n    if (selectionMode == \"add\") {\n      if (!isMultiSelect && inSelection) return; // dragging\n\n      if (!isMultiSelect) {\n        var range = selection.toOrientedRange();\n        editor.addSelectionMarker(range);\n      }\n\n      var oldRange = selection.rangeList.rangeAtPoint(pos);\n      editor.inVirtualSelectionMode = true;\n\n      if (shift) {\n        oldRange = null;\n        range = selection.ranges[0] || range;\n        editor.removeSelectionMarker(range);\n      }\n\n      editor.once(\"mouseup\", function () {\n        var tmpSel = selection.toOrientedRange();\n        if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor)) selection.substractPoint(tmpSel.cursor);else {\n          if (shift) {\n            selection.substractPoint(range.cursor);\n          } else if (range) {\n            editor.removeSelectionMarker(range);\n            selection.addRange(range);\n          }\n\n          selection.addRange(tmpSel);\n        }\n        editor.inVirtualSelectionMode = false;\n      });\n    } else if (selectionMode == \"block\") {\n      e.stop();\n      editor.inVirtualSelectionMode = true;\n      var initialRange;\n      var rectSel = [];\n\n      var blockSelect = function blockSelect() {\n        var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n        var cursor = session.screenToDocumentPosition(newCursor.row, newCursor.column, newCursor.offsetX);\n        if (isSamePoint(screenCursor, newCursor) && isSamePoint(cursor, selection.lead)) return;\n        screenCursor = newCursor;\n        editor.selection.moveToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n        editor.removeSelectionMarkers(rectSel);\n        rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);\n        if (editor.$mouseHandler.$clickSelection && rectSel.length == 1 && rectSel[0].isEmpty()) rectSel[0] = editor.$mouseHandler.$clickSelection.clone();\n        rectSel.forEach(editor.addSelectionMarker, editor);\n        editor.updateSelectionMarkers();\n      };\n\n      if (isMultiSelect && !accel) {\n        selection.toSingleRange();\n      } else if (!isMultiSelect && accel) {\n        initialRange = selection.toOrientedRange();\n        editor.addSelectionMarker(initialRange);\n      }\n\n      if (shift) screenAnchor = session.documentToScreenPosition(selection.lead);else selection.moveToPosition(pos);\n      screenCursor = {\n        row: -1,\n        column: -1\n      };\n\n      var onMouseSelectionEnd = function onMouseSelectionEnd(e) {\n        blockSelect();\n        clearInterval(timerId);\n        editor.removeSelectionMarkers(rectSel);\n        if (!rectSel.length) rectSel = [selection.toOrientedRange()];\n\n        if (initialRange) {\n          editor.removeSelectionMarker(initialRange);\n          selection.toSingleRange(initialRange);\n        }\n\n        for (var i = 0; i < rectSel.length; i++) {\n          selection.addRange(rectSel[i]);\n        }\n\n        editor.inVirtualSelectionMode = false;\n        editor.$mouseHandler.$clickSelection = null;\n      };\n\n      var onSelectionInterval = blockSelect;\n      event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);\n      var timerId = setInterval(function () {\n        onSelectionInterval();\n      }, 20);\n      return e.preventDefault();\n    }\n  }\n\n  exports.onMouseDown = onMouseDown;\n});\nace.define(\"ace/commands/multi_select_commands\", [\"require\", \"exports\", \"module\", \"ace/keyboard/hash_handler\"], function (require, exports, module) {\n  exports.defaultCommands = [{\n    name: \"addCursorAbove\",\n    description: \"Add cursor above\",\n    exec: function exec(editor) {\n      editor.selectMoreLines(-1);\n    },\n    bindKey: {\n      win: \"Ctrl-Alt-Up\",\n      mac: \"Ctrl-Alt-Up\"\n    },\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"addCursorBelow\",\n    description: \"Add cursor below\",\n    exec: function exec(editor) {\n      editor.selectMoreLines(1);\n    },\n    bindKey: {\n      win: \"Ctrl-Alt-Down\",\n      mac: \"Ctrl-Alt-Down\"\n    },\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"addCursorAboveSkipCurrent\",\n    description: \"Add cursor above (skip current)\",\n    exec: function exec(editor) {\n      editor.selectMoreLines(-1, true);\n    },\n    bindKey: {\n      win: \"Ctrl-Alt-Shift-Up\",\n      mac: \"Ctrl-Alt-Shift-Up\"\n    },\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"addCursorBelowSkipCurrent\",\n    description: \"Add cursor below (skip current)\",\n    exec: function exec(editor) {\n      editor.selectMoreLines(1, true);\n    },\n    bindKey: {\n      win: \"Ctrl-Alt-Shift-Down\",\n      mac: \"Ctrl-Alt-Shift-Down\"\n    },\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selectMoreBefore\",\n    description: \"Select more before\",\n    exec: function exec(editor) {\n      editor.selectMore(-1);\n    },\n    bindKey: {\n      win: \"Ctrl-Alt-Left\",\n      mac: \"Ctrl-Alt-Left\"\n    },\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selectMoreAfter\",\n    description: \"Select more after\",\n    exec: function exec(editor) {\n      editor.selectMore(1);\n    },\n    bindKey: {\n      win: \"Ctrl-Alt-Right\",\n      mac: \"Ctrl-Alt-Right\"\n    },\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selectNextBefore\",\n    description: \"Select next before\",\n    exec: function exec(editor) {\n      editor.selectMore(-1, true);\n    },\n    bindKey: {\n      win: \"Ctrl-Alt-Shift-Left\",\n      mac: \"Ctrl-Alt-Shift-Left\"\n    },\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selectNextAfter\",\n    description: \"Select next after\",\n    exec: function exec(editor) {\n      editor.selectMore(1, true);\n    },\n    bindKey: {\n      win: \"Ctrl-Alt-Shift-Right\",\n      mac: \"Ctrl-Alt-Shift-Right\"\n    },\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"toggleSplitSelectionIntoLines\",\n    description: \"Split into lines\",\n    exec: function exec(editor) {\n      if (editor.multiSelect.rangeCount > 1) editor.multiSelect.joinSelections();else editor.multiSelect.splitIntoLines();\n    },\n    bindKey: {\n      win: \"Ctrl-Alt-L\",\n      mac: \"Ctrl-Alt-L\"\n    },\n    readOnly: true\n  }, {\n    name: \"splitSelectionIntoLines\",\n    description: \"Split into lines\",\n    exec: function exec(editor) {\n      editor.multiSelect.splitIntoLines();\n    },\n    readOnly: true\n  }, {\n    name: \"alignCursors\",\n    description: \"Align cursors\",\n    exec: function exec(editor) {\n      editor.alignCursors();\n    },\n    bindKey: {\n      win: \"Ctrl-Alt-A\",\n      mac: \"Ctrl-Alt-A\"\n    },\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"findAll\",\n    description: \"Find all\",\n    exec: function exec(editor) {\n      editor.findAll();\n    },\n    bindKey: {\n      win: \"Ctrl-Alt-K\",\n      mac: \"Ctrl-Alt-G\"\n    },\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }];\n  exports.multiSelectCommands = [{\n    name: \"singleSelection\",\n    description: \"Single selection\",\n    bindKey: \"esc\",\n    exec: function exec(editor) {\n      editor.exitMultiSelectMode();\n    },\n    scrollIntoView: \"cursor\",\n    readOnly: true,\n    isAvailable: function isAvailable(editor) {\n      return editor && editor.inMultiSelectMode;\n    }\n  }];\n\n  var HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\n\n  exports.keyboardHandler = new HashHandler(exports.multiSelectCommands);\n});\nace.define(\"ace/multi_select\", [\"require\", \"exports\", \"module\", \"ace/range_list\", \"ace/range\", \"ace/selection\", \"ace/mouse/multi_select_handler\", \"ace/lib/event\", \"ace/lib/lang\", \"ace/commands/multi_select_commands\", \"ace/search\", \"ace/edit_session\", \"ace/editor\", \"ace/config\"], function (require, exports, module) {\n  var RangeList = require(\"./range_list\").RangeList;\n\n  var Range = require(\"./range\").Range;\n\n  var Selection = require(\"./selection\").Selection;\n\n  var onMouseDown = require(\"./mouse/multi_select_handler\").onMouseDown;\n\n  var event = require(\"./lib/event\");\n\n  var lang = require(\"./lib/lang\");\n\n  var commands = require(\"./commands/multi_select_commands\");\n\n  exports.commands = commands.defaultCommands.concat(commands.multiSelectCommands);\n\n  var Search = require(\"./search\").Search;\n\n  var search = new Search();\n\n  function find(session, needle, dir) {\n    search.$options.wrap = true;\n    search.$options.needle = needle;\n    search.$options.backwards = dir == -1;\n    return search.find(session);\n  }\n\n  var EditSession = require(\"./edit_session\").EditSession;\n\n  (function () {\n    this.getSelectionMarkers = function () {\n      return this.$selectionMarkers;\n    };\n  }).call(EditSession.prototype);\n  (function () {\n    this.ranges = null;\n    this.rangeList = null;\n\n    this.addRange = function (range, $blockChangeEvents) {\n      if (!range) return;\n\n      if (!this.inMultiSelectMode && this.rangeCount === 0) {\n        var oldRange = this.toOrientedRange();\n        this.rangeList.add(oldRange);\n        this.rangeList.add(range);\n\n        if (this.rangeList.ranges.length != 2) {\n          this.rangeList.removeAll();\n          return $blockChangeEvents || this.fromOrientedRange(range);\n        }\n\n        this.rangeList.removeAll();\n        this.rangeList.add(oldRange);\n        this.$onAddRange(oldRange);\n      }\n\n      if (!range.cursor) range.cursor = range.end;\n      var removed = this.rangeList.add(range);\n      this.$onAddRange(range);\n      if (removed.length) this.$onRemoveRange(removed);\n\n      if (this.rangeCount > 1 && !this.inMultiSelectMode) {\n        this._signal(\"multiSelect\");\n\n        this.inMultiSelectMode = true;\n        this.session.$undoSelect = false;\n        this.rangeList.attach(this.session);\n      }\n\n      return $blockChangeEvents || this.fromOrientedRange(range);\n    };\n\n    this.toSingleRange = function (range) {\n      range = range || this.ranges[0];\n      var removed = this.rangeList.removeAll();\n      if (removed.length) this.$onRemoveRange(removed);\n      range && this.fromOrientedRange(range);\n    };\n\n    this.substractPoint = function (pos) {\n      var removed = this.rangeList.substractPoint(pos);\n\n      if (removed) {\n        this.$onRemoveRange(removed);\n        return removed[0];\n      }\n    };\n\n    this.mergeOverlappingRanges = function () {\n      var removed = this.rangeList.merge();\n      if (removed.length) this.$onRemoveRange(removed);\n    };\n\n    this.$onAddRange = function (range) {\n      this.rangeCount = this.rangeList.ranges.length;\n      this.ranges.unshift(range);\n\n      this._signal(\"addRange\", {\n        range: range\n      });\n    };\n\n    this.$onRemoveRange = function (removed) {\n      this.rangeCount = this.rangeList.ranges.length;\n\n      if (this.rangeCount == 1 && this.inMultiSelectMode) {\n        var lastRange = this.rangeList.ranges.pop();\n        removed.push(lastRange);\n        this.rangeCount = 0;\n      }\n\n      for (var i = removed.length; i--;) {\n        var index = this.ranges.indexOf(removed[i]);\n        this.ranges.splice(index, 1);\n      }\n\n      this._signal(\"removeRange\", {\n        ranges: removed\n      });\n\n      if (this.rangeCount === 0 && this.inMultiSelectMode) {\n        this.inMultiSelectMode = false;\n\n        this._signal(\"singleSelect\");\n\n        this.session.$undoSelect = true;\n        this.rangeList.detach(this.session);\n      }\n\n      lastRange = lastRange || this.ranges[0];\n      if (lastRange && !lastRange.isEqual(this.getRange())) this.fromOrientedRange(lastRange);\n    };\n\n    this.$initRangeList = function () {\n      if (this.rangeList) return;\n      this.rangeList = new RangeList();\n      this.ranges = [];\n      this.rangeCount = 0;\n    };\n\n    this.getAllRanges = function () {\n      return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];\n    };\n\n    this.splitIntoLines = function () {\n      var ranges = this.ranges.length ? this.ranges : [this.getRange()];\n      var newRanges = [];\n\n      for (var i = 0; i < ranges.length; i++) {\n        var range = ranges[i];\n        var row = range.start.row;\n        var endRow = range.end.row;\n\n        if (row === endRow) {\n          newRanges.push(range.clone());\n        } else {\n          newRanges.push(new Range(row, range.start.column, row, this.session.getLine(row).length));\n\n          while (++row < endRow) {\n            newRanges.push(this.getLineRange(row, true));\n          }\n\n          newRanges.push(new Range(endRow, 0, endRow, range.end.column));\n        }\n\n        if (i == 0 && !this.isBackwards()) newRanges = newRanges.reverse();\n      }\n\n      this.toSingleRange();\n\n      for (var i = newRanges.length; i--;) {\n        this.addRange(newRanges[i]);\n      }\n    };\n\n    this.joinSelections = function () {\n      var ranges = this.rangeList.ranges;\n      var lastRange = ranges[ranges.length - 1];\n      var range = Range.fromPoints(ranges[0].start, lastRange.end);\n      this.toSingleRange();\n      this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n    };\n\n    this.toggleBlockSelection = function () {\n      if (this.rangeCount > 1) {\n        var ranges = this.rangeList.ranges;\n        var lastRange = ranges[ranges.length - 1];\n        var range = Range.fromPoints(ranges[0].start, lastRange.end);\n        this.toSingleRange();\n        this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n      } else {\n        var cursor = this.session.documentToScreenPosition(this.cursor);\n        var anchor = this.session.documentToScreenPosition(this.anchor);\n        var rectSel = this.rectangularRangeBlock(cursor, anchor);\n        rectSel.forEach(this.addRange, this);\n      }\n    };\n\n    this.rectangularRangeBlock = function (screenCursor, screenAnchor, includeEmptyLines) {\n      var rectSel = [];\n      var xBackwards = screenCursor.column < screenAnchor.column;\n\n      if (xBackwards) {\n        var startColumn = screenCursor.column;\n        var endColumn = screenAnchor.column;\n        var startOffsetX = screenCursor.offsetX;\n        var endOffsetX = screenAnchor.offsetX;\n      } else {\n        var startColumn = screenAnchor.column;\n        var endColumn = screenCursor.column;\n        var startOffsetX = screenAnchor.offsetX;\n        var endOffsetX = screenCursor.offsetX;\n      }\n\n      var yBackwards = screenCursor.row < screenAnchor.row;\n\n      if (yBackwards) {\n        var startRow = screenCursor.row;\n        var endRow = screenAnchor.row;\n      } else {\n        var startRow = screenAnchor.row;\n        var endRow = screenCursor.row;\n      }\n\n      if (startColumn < 0) startColumn = 0;\n      if (startRow < 0) startRow = 0;\n      if (startRow == endRow) includeEmptyLines = true;\n      var docEnd;\n\n      for (var row = startRow; row <= endRow; row++) {\n        var range = Range.fromPoints(this.session.screenToDocumentPosition(row, startColumn, startOffsetX), this.session.screenToDocumentPosition(row, endColumn, endOffsetX));\n\n        if (range.isEmpty()) {\n          if (docEnd && isSamePoint(range.end, docEnd)) break;\n          docEnd = range.end;\n        }\n\n        range.cursor = xBackwards ? range.start : range.end;\n        rectSel.push(range);\n      }\n\n      if (yBackwards) rectSel.reverse();\n\n      if (!includeEmptyLines) {\n        var end = rectSel.length - 1;\n\n        while (rectSel[end].isEmpty() && end > 0) {\n          end--;\n        }\n\n        if (end > 0) {\n          var start = 0;\n\n          while (rectSel[start].isEmpty()) {\n            start++;\n          }\n        }\n\n        for (var i = end; i >= start; i--) {\n          if (rectSel[i].isEmpty()) rectSel.splice(i, 1);\n        }\n      }\n\n      return rectSel;\n    };\n  }).call(Selection.prototype);\n\n  var Editor = require(\"./editor\").Editor;\n\n  (function () {\n    this.updateSelectionMarkers = function () {\n      this.renderer.updateCursor();\n      this.renderer.updateBackMarkers();\n    };\n\n    this.addSelectionMarker = function (orientedRange) {\n      if (!orientedRange.cursor) orientedRange.cursor = orientedRange.end;\n      var style = this.getSelectionStyle();\n      orientedRange.marker = this.session.addMarker(orientedRange, \"ace_selection\", style);\n      this.session.$selectionMarkers.push(orientedRange);\n      this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n      return orientedRange;\n    };\n\n    this.removeSelectionMarker = function (range) {\n      if (!range.marker) return;\n      this.session.removeMarker(range.marker);\n      var index = this.session.$selectionMarkers.indexOf(range);\n      if (index != -1) this.session.$selectionMarkers.splice(index, 1);\n      this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n    };\n\n    this.removeSelectionMarkers = function (ranges) {\n      var markerList = this.session.$selectionMarkers;\n\n      for (var i = ranges.length; i--;) {\n        var range = ranges[i];\n        if (!range.marker) continue;\n        this.session.removeMarker(range.marker);\n        var index = markerList.indexOf(range);\n        if (index != -1) markerList.splice(index, 1);\n      }\n\n      this.session.selectionMarkerCount = markerList.length;\n    };\n\n    this.$onAddRange = function (e) {\n      this.addSelectionMarker(e.range);\n      this.renderer.updateCursor();\n      this.renderer.updateBackMarkers();\n    };\n\n    this.$onRemoveRange = function (e) {\n      this.removeSelectionMarkers(e.ranges);\n      this.renderer.updateCursor();\n      this.renderer.updateBackMarkers();\n    };\n\n    this.$onMultiSelect = function (e) {\n      if (this.inMultiSelectMode) return;\n      this.inMultiSelectMode = true;\n      this.setStyle(\"ace_multiselect\");\n      this.keyBinding.addKeyboardHandler(commands.keyboardHandler);\n      this.commands.setDefaultHandler(\"exec\", this.$onMultiSelectExec);\n      this.renderer.updateCursor();\n      this.renderer.updateBackMarkers();\n    };\n\n    this.$onSingleSelect = function (e) {\n      if (this.session.multiSelect.inVirtualMode) return;\n      this.inMultiSelectMode = false;\n      this.unsetStyle(\"ace_multiselect\");\n      this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);\n      this.commands.removeDefaultHandler(\"exec\", this.$onMultiSelectExec);\n      this.renderer.updateCursor();\n      this.renderer.updateBackMarkers();\n\n      this._emit(\"changeSelection\");\n    };\n\n    this.$onMultiSelectExec = function (e) {\n      var command = e.command;\n      var editor = e.editor;\n      if (!editor.multiSelect) return;\n\n      if (!command.multiSelectAction) {\n        var result = command.exec(editor, e.args || {});\n        editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());\n        editor.multiSelect.mergeOverlappingRanges();\n      } else if (command.multiSelectAction == \"forEach\") {\n        result = editor.forEachSelection(command, e.args);\n      } else if (command.multiSelectAction == \"forEachLine\") {\n        result = editor.forEachSelection(command, e.args, true);\n      } else if (command.multiSelectAction == \"single\") {\n        editor.exitMultiSelectMode();\n        result = command.exec(editor, e.args || {});\n      } else {\n        result = command.multiSelectAction(editor, e.args || {});\n      }\n\n      return result;\n    };\n\n    this.forEachSelection = function (cmd, args, options) {\n      if (this.inVirtualSelectionMode) return;\n      var keepOrder = options && options.keepOrder;\n      var $byLines = options == true || options && options.$byLines;\n      var session = this.session;\n      var selection = this.selection;\n      var rangeList = selection.rangeList;\n      var ranges = (keepOrder ? selection : rangeList).ranges;\n      var result;\n      if (!ranges.length) return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n      var reg = selection._eventRegistry;\n      selection._eventRegistry = {};\n      var tmpSel = new Selection(session);\n      this.inVirtualSelectionMode = true;\n\n      for (var i = ranges.length; i--;) {\n        if ($byLines) {\n          while (i > 0 && ranges[i].start.row == ranges[i - 1].end.row) {\n            i--;\n          }\n        }\n\n        tmpSel.fromOrientedRange(ranges[i]);\n        tmpSel.index = i;\n        this.selection = session.selection = tmpSel;\n        var cmdResult = cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n        if (!result && cmdResult !== undefined) result = cmdResult;\n        tmpSel.toOrientedRange(ranges[i]);\n      }\n\n      tmpSel.detach();\n      this.selection = session.selection = selection;\n      this.inVirtualSelectionMode = false;\n      selection._eventRegistry = reg;\n      selection.mergeOverlappingRanges();\n      if (selection.ranges[0]) selection.fromOrientedRange(selection.ranges[0]);\n      var anim = this.renderer.$scrollAnimation;\n      this.onCursorChange();\n      this.onSelectionChange();\n      if (anim && anim.from == anim.to) this.renderer.animateScrolling(anim.from);\n      return result;\n    };\n\n    this.exitMultiSelectMode = function () {\n      if (!this.inMultiSelectMode || this.inVirtualSelectionMode) return;\n      this.multiSelect.toSingleRange();\n    };\n\n    this.getSelectedText = function () {\n      var text = \"\";\n\n      if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n        var ranges = this.multiSelect.rangeList.ranges;\n        var buf = [];\n\n        for (var i = 0; i < ranges.length; i++) {\n          buf.push(this.session.getTextRange(ranges[i]));\n        }\n\n        var nl = this.session.getDocument().getNewLineCharacter();\n        text = buf.join(nl);\n        if (text.length == (buf.length - 1) * nl.length) text = \"\";\n      } else if (!this.selection.isEmpty()) {\n        text = this.session.getTextRange(this.getSelectionRange());\n      }\n\n      return text;\n    };\n\n    this.$checkMultiselectChange = function (e, anchor) {\n      if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n        var range = this.multiSelect.ranges[0];\n        if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor) return;\n        var pos = anchor == this.multiSelect.anchor ? range.cursor == range.start ? range.end : range.start : range.cursor;\n        if (pos.row != anchor.row || this.session.$clipPositionToDocument(pos.row, pos.column).column != anchor.column) this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());else this.multiSelect.mergeOverlappingRanges();\n      }\n    };\n\n    this.findAll = function (needle, options, additive) {\n      options = options || {};\n      options.needle = needle || options.needle;\n\n      if (options.needle == undefined) {\n        var range = this.selection.isEmpty() ? this.selection.getWordRange() : this.selection.getRange();\n        options.needle = this.session.getTextRange(range);\n      }\n\n      this.$search.set(options);\n      var ranges = this.$search.findAll(this.session);\n      if (!ranges.length) return 0;\n      var selection = this.multiSelect;\n      if (!additive) selection.toSingleRange(ranges[0]);\n\n      for (var i = ranges.length; i--;) {\n        selection.addRange(ranges[i], true);\n      }\n\n      if (range && selection.rangeList.rangeAtPoint(range.start)) selection.addRange(range, true);\n      return ranges.length;\n    };\n\n    this.selectMoreLines = function (dir, skip) {\n      var range = this.selection.toOrientedRange();\n      var isBackwards = range.cursor == range.end;\n      var screenLead = this.session.documentToScreenPosition(range.cursor);\n      if (this.selection.$desiredColumn) screenLead.column = this.selection.$desiredColumn;\n      var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);\n\n      if (!range.isEmpty()) {\n        var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);\n        var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);\n      } else {\n        var anchor = lead;\n      }\n\n      if (isBackwards) {\n        var newRange = Range.fromPoints(lead, anchor);\n        newRange.cursor = newRange.start;\n      } else {\n        var newRange = Range.fromPoints(anchor, lead);\n        newRange.cursor = newRange.end;\n      }\n\n      newRange.desiredColumn = screenLead.column;\n\n      if (!this.selection.inMultiSelectMode) {\n        this.selection.addRange(range);\n      } else {\n        if (skip) var toRemove = range.cursor;\n      }\n\n      this.selection.addRange(newRange);\n      if (toRemove) this.selection.substractPoint(toRemove);\n    };\n\n    this.transposeSelections = function (dir) {\n      var session = this.session;\n      var sel = session.multiSelect;\n      var all = sel.ranges;\n\n      for (var i = all.length; i--;) {\n        var range = all[i];\n\n        if (range.isEmpty()) {\n          var tmp = session.getWordRange(range.start.row, range.start.column);\n          range.start.row = tmp.start.row;\n          range.start.column = tmp.start.column;\n          range.end.row = tmp.end.row;\n          range.end.column = tmp.end.column;\n        }\n      }\n\n      sel.mergeOverlappingRanges();\n      var words = [];\n\n      for (var i = all.length; i--;) {\n        var range = all[i];\n        words.unshift(session.getTextRange(range));\n      }\n\n      if (dir < 0) words.unshift(words.pop());else words.push(words.shift());\n\n      for (var i = all.length; i--;) {\n        var range = all[i];\n        var tmp = range.clone();\n        session.replace(range, words[i]);\n        range.start.row = tmp.start.row;\n        range.start.column = tmp.start.column;\n      }\n\n      sel.fromOrientedRange(sel.ranges[0]);\n    };\n\n    this.selectMore = function (dir, skip, stopAtFirst) {\n      var session = this.session;\n      var sel = session.multiSelect;\n      var range = sel.toOrientedRange();\n\n      if (range.isEmpty()) {\n        range = session.getWordRange(range.start.row, range.start.column);\n        range.cursor = dir == -1 ? range.start : range.end;\n        this.multiSelect.addRange(range);\n        if (stopAtFirst) return;\n      }\n\n      var needle = session.getTextRange(range);\n      var newRange = find(session, needle, dir);\n\n      if (newRange) {\n        newRange.cursor = dir == -1 ? newRange.start : newRange.end;\n        this.session.unfold(newRange);\n        this.multiSelect.addRange(newRange);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n      }\n\n      if (skip) this.multiSelect.substractPoint(range.cursor);\n    };\n\n    this.alignCursors = function () {\n      var session = this.session;\n      var sel = session.multiSelect;\n      var ranges = sel.ranges;\n      var row = -1;\n      var sameRowRanges = ranges.filter(function (r) {\n        if (r.cursor.row == row) return true;\n        row = r.cursor.row;\n      });\n\n      if (!ranges.length || sameRowRanges.length == ranges.length - 1) {\n        var range = this.selection.getRange();\n        var fr = range.start.row,\n            lr = range.end.row;\n        var guessRange = fr == lr;\n\n        if (guessRange) {\n          var max = this.session.getLength();\n          var line;\n\n          do {\n            line = this.session.getLine(lr);\n          } while (/[=:]/.test(line) && ++lr < max);\n\n          do {\n            line = this.session.getLine(fr);\n          } while (/[=:]/.test(line) && --fr > 0);\n\n          if (fr < 0) fr = 0;\n          if (lr >= max) lr = max - 1;\n        }\n\n        var lines = this.session.removeFullLines(fr, lr);\n        lines = this.$reAlignText(lines, guessRange);\n        this.session.insert({\n          row: fr,\n          column: 0\n        }, lines.join(\"\\n\") + \"\\n\");\n\n        if (!guessRange) {\n          range.start.column = 0;\n          range.end.column = lines[lines.length - 1].length;\n        }\n\n        this.selection.setRange(range);\n      } else {\n        sameRowRanges.forEach(function (r) {\n          sel.substractPoint(r.cursor);\n        });\n        var maxCol = 0;\n        var minSpace = Infinity;\n        var spaceOffsets = ranges.map(function (r) {\n          var p = r.cursor;\n          var line = session.getLine(p.row);\n          var spaceOffset = line.substr(p.column).search(/\\S/g);\n          if (spaceOffset == -1) spaceOffset = 0;\n          if (p.column > maxCol) maxCol = p.column;\n          if (spaceOffset < minSpace) minSpace = spaceOffset;\n          return spaceOffset;\n        });\n        ranges.forEach(function (r, i) {\n          var p = r.cursor;\n          var l = maxCol - p.column;\n          var d = spaceOffsets[i] - minSpace;\n          if (l > d) session.insert(p, lang.stringRepeat(\" \", l - d));else session.remove(new Range(p.row, p.column, p.row, p.column - l + d));\n          r.start.column = r.end.column = maxCol;\n          r.start.row = r.end.row = p.row;\n          r.cursor = r.end;\n        });\n        sel.fromOrientedRange(ranges[0]);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n      }\n    };\n\n    this.$reAlignText = function (lines, forceLeft) {\n      var isLeftAligned = true,\n          isRightAligned = true;\n      var startW, textW, endW;\n      return lines.map(function (line) {\n        var m = line.match(/(\\s*)(.*?)(\\s*)([=:].*)/);\n        if (!m) return [line];\n\n        if (startW == null) {\n          startW = m[1].length;\n          textW = m[2].length;\n          endW = m[3].length;\n          return m;\n        }\n\n        if (startW + textW + endW != m[1].length + m[2].length + m[3].length) isRightAligned = false;\n        if (startW != m[1].length) isLeftAligned = false;\n        if (startW > m[1].length) startW = m[1].length;\n        if (textW < m[2].length) textW = m[2].length;\n        if (endW > m[3].length) endW = m[3].length;\n        return m;\n      }).map(forceLeft ? alignLeft : isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);\n\n      function spaces(n) {\n        return lang.stringRepeat(\" \", n);\n      }\n\n      function alignLeft(m) {\n        return !m[2] ? m[0] : spaces(startW) + m[2] + spaces(textW - m[2].length + endW) + m[4].replace(/^([=:])\\s+/, \"$1 \");\n      }\n\n      function alignRight(m) {\n        return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2] + spaces(endW) + m[4].replace(/^([=:])\\s+/, \"$1 \");\n      }\n\n      function unAlign(m) {\n        return !m[2] ? m[0] : spaces(startW) + m[2] + spaces(endW) + m[4].replace(/^([=:])\\s+/, \"$1 \");\n      }\n    };\n  }).call(Editor.prototype);\n\n  function isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n  }\n\n  exports.onSessionChange = function (e) {\n    var session = e.session;\n\n    if (session && !session.multiSelect) {\n      session.$selectionMarkers = [];\n      session.selection.$initRangeList();\n      session.multiSelect = session.selection;\n    }\n\n    this.multiSelect = session && session.multiSelect;\n    var oldSession = e.oldSession;\n\n    if (oldSession) {\n      oldSession.multiSelect.off(\"addRange\", this.$onAddRange);\n      oldSession.multiSelect.off(\"removeRange\", this.$onRemoveRange);\n      oldSession.multiSelect.off(\"multiSelect\", this.$onMultiSelect);\n      oldSession.multiSelect.off(\"singleSelect\", this.$onSingleSelect);\n      oldSession.multiSelect.lead.off(\"change\", this.$checkMultiselectChange);\n      oldSession.multiSelect.anchor.off(\"change\", this.$checkMultiselectChange);\n    }\n\n    if (session) {\n      session.multiSelect.on(\"addRange\", this.$onAddRange);\n      session.multiSelect.on(\"removeRange\", this.$onRemoveRange);\n      session.multiSelect.on(\"multiSelect\", this.$onMultiSelect);\n      session.multiSelect.on(\"singleSelect\", this.$onSingleSelect);\n      session.multiSelect.lead.on(\"change\", this.$checkMultiselectChange);\n      session.multiSelect.anchor.on(\"change\", this.$checkMultiselectChange);\n    }\n\n    if (session && this.inMultiSelectMode != session.selection.inMultiSelectMode) {\n      if (session.selection.inMultiSelectMode) this.$onMultiSelect();else this.$onSingleSelect();\n    }\n  };\n\n  function MultiSelect(editor) {\n    if (editor.$multiselectOnSessionChange) return;\n    editor.$onAddRange = editor.$onAddRange.bind(editor);\n    editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);\n    editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);\n    editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);\n    editor.$multiselectOnSessionChange = exports.onSessionChange.bind(editor);\n    editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(editor);\n    editor.$multiselectOnSessionChange(editor);\n    editor.on(\"changeSession\", editor.$multiselectOnSessionChange);\n    editor.on(\"mousedown\", onMouseDown);\n    editor.commands.addCommands(commands.defaultCommands);\n    addAltCursorListeners(editor);\n  }\n\n  function addAltCursorListeners(editor) {\n    if (!editor.textInput) return;\n    var el = editor.textInput.getElement();\n    var altCursor = false;\n    event.addListener(el, \"keydown\", function (e) {\n      var altDown = e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey);\n\n      if (editor.$blockSelectEnabled && altDown) {\n        if (!altCursor) {\n          editor.renderer.setMouseCursor(\"crosshair\");\n          altCursor = true;\n        }\n      } else if (altCursor) {\n        reset();\n      }\n    }, editor);\n    event.addListener(el, \"keyup\", reset, editor);\n    event.addListener(el, \"blur\", reset, editor);\n\n    function reset(e) {\n      if (altCursor) {\n        editor.renderer.setMouseCursor(\"\");\n        altCursor = false;\n      }\n    }\n  }\n\n  exports.MultiSelect = MultiSelect;\n\n  require(\"./config\").defineOptions(Editor.prototype, \"editor\", {\n    enableMultiselect: {\n      set: function set(val) {\n        MultiSelect(this);\n\n        if (val) {\n          this.on(\"changeSession\", this.$multiselectOnSessionChange);\n          this.on(\"mousedown\", onMouseDown);\n        } else {\n          this.off(\"changeSession\", this.$multiselectOnSessionChange);\n          this.off(\"mousedown\", onMouseDown);\n        }\n      },\n      value: true\n    },\n    enableBlockSelect: {\n      set: function set(val) {\n        this.$blockSelectEnabled = val;\n      },\n      value: true\n    }\n  });\n});\nace.define(\"ace/mode/folding/fold_mode\", [\"require\", \"exports\", \"module\", \"ace/range\"], function (require, exports, module) {\n  \"use strict\";\n\n  var Range = require(\"../../range\").Range;\n\n  var FoldMode = exports.FoldMode = function () {};\n\n  (function () {\n    this.foldingStartMarker = null;\n    this.foldingStopMarker = null;\n\n    this.getFoldWidget = function (session, foldStyle, row) {\n      var line = session.getLine(row);\n      if (this.foldingStartMarker.test(line)) return \"start\";\n      if (foldStyle == \"markbeginend\" && this.foldingStopMarker && this.foldingStopMarker.test(line)) return \"end\";\n      return \"\";\n    };\n\n    this.getFoldWidgetRange = function (session, foldStyle, row) {\n      return null;\n    };\n\n    this.indentationBlock = function (session, row, column) {\n      var re = /\\S/;\n      var line = session.getLine(row);\n      var startLevel = line.search(re);\n      if (startLevel == -1) return;\n      var startColumn = column || line.length;\n      var maxRow = session.getLength();\n      var startRow = row;\n      var endRow = row;\n\n      while (++row < maxRow) {\n        var level = session.getLine(row).search(re);\n        if (level == -1) continue;\n\n        if (level <= startLevel) {\n          var token = session.getTokenAt(row, 0);\n          if (!token || token.type !== \"string\") break;\n        }\n\n        endRow = row;\n      }\n\n      if (endRow > startRow) {\n        var endColumn = session.getLine(endRow).length;\n        return new Range(startRow, startColumn, endRow, endColumn);\n      }\n    };\n\n    this.openingBracketBlock = function (session, bracket, row, column, typeRe) {\n      var start = {\n        row: row,\n        column: column + 1\n      };\n      var end = session.$findClosingBracket(bracket, start, typeRe);\n      if (!end) return;\n      var fw = session.foldWidgets[end.row];\n      if (fw == null) fw = session.getFoldWidget(end.row);\n\n      if (fw == \"start\" && end.row > start.row) {\n        end.row--;\n        end.column = session.getLine(end.row).length;\n      }\n\n      return Range.fromPoints(start, end);\n    };\n\n    this.closingBracketBlock = function (session, bracket, row, column, typeRe) {\n      var end = {\n        row: row,\n        column: column\n      };\n      var start = session.$findOpeningBracket(bracket, end);\n      if (!start) return;\n      start.column++;\n      end.column--;\n      return Range.fromPoints(start, end);\n    };\n  }).call(FoldMode.prototype);\n});\nace.define(\"ace/theme/textmate\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\"], function (require, exports, module) {\n  \"use strict\";\n\n  exports.isDark = false;\n  exports.cssClass = \"ace-tm\";\n  exports.cssText = \".ace-tm .ace_gutter {\\\nbackground: #f0f0f0;\\\ncolor: #333;\\\n}\\\n.ace-tm .ace_print-margin {\\\nwidth: 1px;\\\nbackground: #e8e8e8;\\\n}\\\n.ace-tm .ace_fold {\\\nbackground-color: #6B72E6;\\\n}\\\n.ace-tm {\\\nbackground-color: #FFFFFF;\\\ncolor: black;\\\n}\\\n.ace-tm .ace_cursor {\\\ncolor: black;\\\n}\\\n.ace-tm .ace_invisible {\\\ncolor: rgb(191, 191, 191);\\\n}\\\n.ace-tm .ace_storage,\\\n.ace-tm .ace_keyword {\\\ncolor: blue;\\\n}\\\n.ace-tm .ace_constant {\\\ncolor: rgb(197, 6, 11);\\\n}\\\n.ace-tm .ace_constant.ace_buildin {\\\ncolor: rgb(88, 72, 246);\\\n}\\\n.ace-tm .ace_constant.ace_language {\\\ncolor: rgb(88, 92, 246);\\\n}\\\n.ace-tm .ace_constant.ace_library {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_invalid {\\\nbackground-color: rgba(255, 0, 0, 0.1);\\\ncolor: red;\\\n}\\\n.ace-tm .ace_support.ace_function {\\\ncolor: rgb(60, 76, 114);\\\n}\\\n.ace-tm .ace_support.ace_constant {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_support.ace_type,\\\n.ace-tm .ace_support.ace_class {\\\ncolor: rgb(109, 121, 222);\\\n}\\\n.ace-tm .ace_keyword.ace_operator {\\\ncolor: rgb(104, 118, 135);\\\n}\\\n.ace-tm .ace_string {\\\ncolor: rgb(3, 106, 7);\\\n}\\\n.ace-tm .ace_comment {\\\ncolor: rgb(76, 136, 107);\\\n}\\\n.ace-tm .ace_comment.ace_doc {\\\ncolor: rgb(0, 102, 255);\\\n}\\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\\ncolor: rgb(128, 159, 191);\\\n}\\\n.ace-tm .ace_constant.ace_numeric {\\\ncolor: rgb(0, 0, 205);\\\n}\\\n.ace-tm .ace_variable {\\\ncolor: rgb(49, 132, 149);\\\n}\\\n.ace-tm .ace_xml-pe {\\\ncolor: rgb(104, 104, 91);\\\n}\\\n.ace-tm .ace_entity.ace_name.ace_function {\\\ncolor: #0000A2;\\\n}\\\n.ace-tm .ace_heading {\\\ncolor: rgb(12, 7, 255);\\\n}\\\n.ace-tm .ace_list {\\\ncolor:rgb(185, 6, 144);\\\n}\\\n.ace-tm .ace_meta.ace_tag {\\\ncolor:rgb(0, 22, 142);\\\n}\\\n.ace-tm .ace_string.ace_regex {\\\ncolor: rgb(255, 0, 0)\\\n}\\\n.ace-tm .ace_marker-layer .ace_selection {\\\nbackground: rgb(181, 213, 255);\\\n}\\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: 0 0 3px 0px white;\\\n}\\\n.ace-tm .ace_marker-layer .ace_step {\\\nbackground: rgb(252, 255, 0);\\\n}\\\n.ace-tm .ace_marker-layer .ace_stack {\\\nbackground: rgb(164, 229, 101);\\\n}\\\n.ace-tm .ace_marker-layer .ace_bracket {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid rgb(192, 192, 192);\\\n}\\\n.ace-tm .ace_marker-layer .ace_active-line {\\\nbackground: rgba(0, 0, 0, 0.07);\\\n}\\\n.ace-tm .ace_gutter-active-line {\\\nbackground-color : #dcdcdc;\\\n}\\\n.ace-tm .ace_marker-layer .ace_selected-word {\\\nbackground: rgb(250, 250, 255);\\\nborder: 1px solid rgb(200, 200, 250);\\\n}\\\n.ace-tm .ace_indent-guide {\\\nbackground: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y;\\\n}\\\n\";\n  exports.$id = \"ace/theme/textmate\";\n\n  var dom = require(\"../lib/dom\");\n\n  dom.importCssString(exports.cssText, exports.cssClass);\n});\nace.define(\"ace/line_widgets\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\"], function (require, exports, module) {\n  \"use strict\";\n\n  var dom = require(\"./lib/dom\");\n\n  function LineWidgets(session) {\n    this.session = session;\n    this.session.widgetManager = this;\n    this.session.getRowLength = this.getRowLength;\n    this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;\n    this.updateOnChange = this.updateOnChange.bind(this);\n    this.renderWidgets = this.renderWidgets.bind(this);\n    this.measureWidgets = this.measureWidgets.bind(this);\n    this.session._changedWidgets = [];\n    this.$onChangeEditor = this.$onChangeEditor.bind(this);\n    this.session.on(\"change\", this.updateOnChange);\n    this.session.on(\"changeFold\", this.updateOnFold);\n    this.session.on(\"changeEditor\", this.$onChangeEditor);\n  }\n\n  (function () {\n    this.getRowLength = function (row) {\n      var h;\n      if (this.lineWidgets) h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;else h = 0;\n\n      if (!this.$useWrapMode || !this.$wrapData[row]) {\n        return 1 + h;\n      } else {\n        return this.$wrapData[row].length + 1 + h;\n      }\n    };\n\n    this.$getWidgetScreenLength = function () {\n      var screenRows = 0;\n      this.lineWidgets.forEach(function (w) {\n        if (w && w.rowCount && !w.hidden) screenRows += w.rowCount;\n      });\n      return screenRows;\n    };\n\n    this.$onChangeEditor = function (e) {\n      this.attach(e.editor);\n    };\n\n    this.attach = function (editor) {\n      if (editor && editor.widgetManager && editor.widgetManager != this) editor.widgetManager.detach();\n      if (this.editor == editor) return;\n      this.detach();\n      this.editor = editor;\n\n      if (editor) {\n        editor.widgetManager = this;\n        editor.renderer.on(\"beforeRender\", this.measureWidgets);\n        editor.renderer.on(\"afterRender\", this.renderWidgets);\n      }\n    };\n\n    this.detach = function (e) {\n      var editor = this.editor;\n      if (!editor) return;\n      this.editor = null;\n      editor.widgetManager = null;\n      editor.renderer.off(\"beforeRender\", this.measureWidgets);\n      editor.renderer.off(\"afterRender\", this.renderWidgets);\n      var lineWidgets = this.session.lineWidgets;\n      lineWidgets && lineWidgets.forEach(function (w) {\n        if (w && w.el && w.el.parentNode) {\n          w._inDocument = false;\n          w.el.parentNode.removeChild(w.el);\n        }\n      });\n    };\n\n    this.updateOnFold = function (e, session) {\n      var lineWidgets = session.lineWidgets;\n      if (!lineWidgets || !e.action) return;\n      var fold = e.data;\n      var start = fold.start.row;\n      var end = fold.end.row;\n      var hide = e.action == \"add\";\n\n      for (var i = start + 1; i < end; i++) {\n        if (lineWidgets[i]) lineWidgets[i].hidden = hide;\n      }\n\n      if (lineWidgets[end]) {\n        if (hide) {\n          if (!lineWidgets[start]) lineWidgets[start] = lineWidgets[end];else lineWidgets[end].hidden = hide;\n        } else {\n          if (lineWidgets[start] == lineWidgets[end]) lineWidgets[start] = undefined;\n          lineWidgets[end].hidden = hide;\n        }\n      }\n    };\n\n    this.updateOnChange = function (delta) {\n      var lineWidgets = this.session.lineWidgets;\n      if (!lineWidgets) return;\n      var startRow = delta.start.row;\n      var len = delta.end.row - startRow;\n\n      if (len === 0) {} else if (delta.action == \"remove\") {\n        var removed = lineWidgets.splice(startRow + 1, len);\n\n        if (!lineWidgets[startRow] && removed[removed.length - 1]) {\n          lineWidgets[startRow] = removed.pop();\n        }\n\n        removed.forEach(function (w) {\n          w && this.removeLineWidget(w);\n        }, this);\n        this.$updateRows();\n      } else {\n        var args = new Array(len);\n\n        if (lineWidgets[startRow] && lineWidgets[startRow].column != null) {\n          if (delta.start.column > lineWidgets[startRow].column) startRow++;\n        }\n\n        args.unshift(startRow, 0);\n        lineWidgets.splice.apply(lineWidgets, args);\n        this.$updateRows();\n      }\n    };\n\n    this.$updateRows = function () {\n      var lineWidgets = this.session.lineWidgets;\n      if (!lineWidgets) return;\n      var noWidgets = true;\n      lineWidgets.forEach(function (w, i) {\n        if (w) {\n          noWidgets = false;\n          w.row = i;\n\n          while (w.$oldWidget) {\n            w.$oldWidget.row = i;\n            w = w.$oldWidget;\n          }\n        }\n      });\n      if (noWidgets) this.session.lineWidgets = null;\n    };\n\n    this.$registerLineWidget = function (w) {\n      if (!this.session.lineWidgets) this.session.lineWidgets = new Array(this.session.getLength());\n      var old = this.session.lineWidgets[w.row];\n\n      if (old) {\n        w.$oldWidget = old;\n\n        if (old.el && old.el.parentNode) {\n          old.el.parentNode.removeChild(old.el);\n          old._inDocument = false;\n        }\n      }\n\n      this.session.lineWidgets[w.row] = w;\n      return w;\n    };\n\n    this.addLineWidget = function (w) {\n      this.$registerLineWidget(w);\n      w.session = this.session;\n      if (!this.editor) return w;\n      var renderer = this.editor.renderer;\n\n      if (w.html && !w.el) {\n        w.el = dom.createElement(\"div\");\n        w.el.innerHTML = w.html;\n      }\n\n      if (w.el) {\n        dom.addCssClass(w.el, \"ace_lineWidgetContainer\");\n        w.el.style.position = \"absolute\";\n        w.el.style.zIndex = 5;\n        renderer.container.appendChild(w.el);\n        w._inDocument = true;\n\n        if (!w.coverGutter) {\n          w.el.style.zIndex = 3;\n        }\n\n        if (w.pixelHeight == null) {\n          w.pixelHeight = w.el.offsetHeight;\n        }\n      }\n\n      if (w.rowCount == null) {\n        w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;\n      }\n\n      var fold = this.session.getFoldAt(w.row, 0);\n      w.$fold = fold;\n\n      if (fold) {\n        var lineWidgets = this.session.lineWidgets;\n        if (w.row == fold.end.row && !lineWidgets[fold.start.row]) lineWidgets[fold.start.row] = w;else w.hidden = true;\n      }\n\n      this.session._emit(\"changeFold\", {\n        data: {\n          start: {\n            row: w.row\n          }\n        }\n      });\n\n      this.$updateRows();\n      this.renderWidgets(null, renderer);\n      this.onWidgetChanged(w);\n      return w;\n    };\n\n    this.removeLineWidget = function (w) {\n      w._inDocument = false;\n      w.session = null;\n      if (w.el && w.el.parentNode) w.el.parentNode.removeChild(w.el);\n      if (w.editor && w.editor.destroy) try {\n        w.editor.destroy();\n      } catch (e) {}\n\n      if (this.session.lineWidgets) {\n        var w1 = this.session.lineWidgets[w.row];\n\n        if (w1 == w) {\n          this.session.lineWidgets[w.row] = w.$oldWidget;\n          if (w.$oldWidget) this.onWidgetChanged(w.$oldWidget);\n        } else {\n          while (w1) {\n            if (w1.$oldWidget == w) {\n              w1.$oldWidget = w.$oldWidget;\n              break;\n            }\n\n            w1 = w1.$oldWidget;\n          }\n        }\n      }\n\n      this.session._emit(\"changeFold\", {\n        data: {\n          start: {\n            row: w.row\n          }\n        }\n      });\n\n      this.$updateRows();\n    };\n\n    this.getWidgetsAtRow = function (row) {\n      var lineWidgets = this.session.lineWidgets;\n      var w = lineWidgets && lineWidgets[row];\n      var list = [];\n\n      while (w) {\n        list.push(w);\n        w = w.$oldWidget;\n      }\n\n      return list;\n    };\n\n    this.onWidgetChanged = function (w) {\n      this.session._changedWidgets.push(w);\n\n      this.editor && this.editor.renderer.updateFull();\n    };\n\n    this.measureWidgets = function (e, renderer) {\n      var changedWidgets = this.session._changedWidgets;\n      var config = renderer.layerConfig;\n      if (!changedWidgets || !changedWidgets.length) return;\n      var min = Infinity;\n\n      for (var i = 0; i < changedWidgets.length; i++) {\n        var w = changedWidgets[i];\n        if (!w || !w.el) continue;\n        if (w.session != this.session) continue;\n\n        if (!w._inDocument) {\n          if (this.session.lineWidgets[w.row] != w) continue;\n          w._inDocument = true;\n          renderer.container.appendChild(w.el);\n        }\n\n        w.h = w.el.offsetHeight;\n\n        if (!w.fixedWidth) {\n          w.w = w.el.offsetWidth;\n          w.screenWidth = Math.ceil(w.w / config.characterWidth);\n        }\n\n        var rowCount = w.h / config.lineHeight;\n\n        if (w.coverLine) {\n          rowCount -= this.session.getRowLineCount(w.row);\n          if (rowCount < 0) rowCount = 0;\n        }\n\n        if (w.rowCount != rowCount) {\n          w.rowCount = rowCount;\n          if (w.row < min) min = w.row;\n        }\n      }\n\n      if (min != Infinity) {\n        this.session._emit(\"changeFold\", {\n          data: {\n            start: {\n              row: min\n            }\n          }\n        });\n\n        this.session.lineWidgetWidth = null;\n      }\n\n      this.session._changedWidgets = [];\n    };\n\n    this.renderWidgets = function (e, renderer) {\n      var config = renderer.layerConfig;\n      var lineWidgets = this.session.lineWidgets;\n      if (!lineWidgets) return;\n      var first = Math.min(this.firstRow, config.firstRow);\n      var last = Math.max(this.lastRow, config.lastRow, lineWidgets.length);\n\n      while (first > 0 && !lineWidgets[first]) {\n        first--;\n      }\n\n      this.firstRow = config.firstRow;\n      this.lastRow = config.lastRow;\n      renderer.$cursorLayer.config = config;\n\n      for (var i = first; i <= last; i++) {\n        var w = lineWidgets[i];\n        if (!w || !w.el) continue;\n\n        if (w.hidden) {\n          w.el.style.top = -100 - (w.pixelHeight || 0) + \"px\";\n          continue;\n        }\n\n        if (!w._inDocument) {\n          w._inDocument = true;\n          renderer.container.appendChild(w.el);\n        }\n\n        var top = renderer.$cursorLayer.getPixelPosition({\n          row: i,\n          column: 0\n        }, true).top;\n        if (!w.coverLine) top += config.lineHeight * this.session.getRowLineCount(w.row);\n        w.el.style.top = top - config.offset + \"px\";\n        var left = w.coverGutter ? 0 : renderer.gutterWidth;\n        if (!w.fixedWidth) left -= renderer.scrollLeft;\n        w.el.style.left = left + \"px\";\n\n        if (w.fullWidth && w.screenWidth) {\n          w.el.style.minWidth = config.width + 2 * config.padding + \"px\";\n        }\n\n        if (w.fixedWidth) {\n          w.el.style.right = renderer.scrollBar.getWidth() + \"px\";\n        } else {\n          w.el.style.right = \"\";\n        }\n      }\n    };\n  }).call(LineWidgets.prototype);\n  exports.LineWidgets = LineWidgets;\n});\nace.define(\"ace/ext/error_marker\", [\"require\", \"exports\", \"module\", \"ace/line_widgets\", \"ace/lib/dom\", \"ace/range\"], function (require, exports, module) {\n  \"use strict\";\n\n  var LineWidgets = require(\"../line_widgets\").LineWidgets;\n\n  var dom = require(\"../lib/dom\");\n\n  var Range = require(\"../range\").Range;\n\n  function binarySearch(array, needle, comparator) {\n    var first = 0;\n    var last = array.length - 1;\n\n    while (first <= last) {\n      var mid = first + last >> 1;\n      var c = comparator(needle, array[mid]);\n      if (c > 0) first = mid + 1;else if (c < 0) last = mid - 1;else return mid;\n    }\n\n    return -(first + 1);\n  }\n\n  function findAnnotations(session, row, dir) {\n    var annotations = session.getAnnotations().sort(Range.comparePoints);\n    if (!annotations.length) return;\n    var i = binarySearch(annotations, {\n      row: row,\n      column: -1\n    }, Range.comparePoints);\n    if (i < 0) i = -i - 1;\n    if (i >= annotations.length) i = dir > 0 ? 0 : annotations.length - 1;else if (i === 0 && dir < 0) i = annotations.length - 1;\n    var annotation = annotations[i];\n    if (!annotation || !dir) return;\n\n    if (annotation.row === row) {\n      do {\n        annotation = annotations[i += dir];\n      } while (annotation && annotation.row === row);\n\n      if (!annotation) return annotations.slice();\n    }\n\n    var matched = [];\n    row = annotation.row;\n\n    do {\n      matched[dir < 0 ? \"unshift\" : \"push\"](annotation);\n      annotation = annotations[i += dir];\n    } while (annotation && annotation.row == row);\n\n    return matched.length && matched;\n  }\n\n  exports.showErrorMarker = function (editor, dir) {\n    var session = editor.session;\n\n    if (!session.widgetManager) {\n      session.widgetManager = new LineWidgets(session);\n      session.widgetManager.attach(editor);\n    }\n\n    var pos = editor.getCursorPosition();\n    var row = pos.row;\n    var oldWidget = session.widgetManager.getWidgetsAtRow(row).filter(function (w) {\n      return w.type == \"errorMarker\";\n    })[0];\n\n    if (oldWidget) {\n      oldWidget.destroy();\n    } else {\n      row -= dir;\n    }\n\n    var annotations = findAnnotations(session, row, dir);\n    var gutterAnno;\n\n    if (annotations) {\n      var annotation = annotations[0];\n      pos.column = (annotation.pos && typeof annotation.column != \"number\" ? annotation.pos.sc : annotation.column) || 0;\n      pos.row = annotation.row;\n      gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];\n    } else if (oldWidget) {\n      return;\n    } else {\n      gutterAnno = {\n        text: [\"Looks good!\"],\n        className: \"ace_ok\"\n      };\n    }\n\n    editor.session.unfold(pos.row);\n    editor.selection.moveToPosition(pos);\n    var w = {\n      row: pos.row,\n      fixedWidth: true,\n      coverGutter: true,\n      el: dom.createElement(\"div\"),\n      type: \"errorMarker\"\n    };\n    var el = w.el.appendChild(dom.createElement(\"div\"));\n    var arrow = w.el.appendChild(dom.createElement(\"div\"));\n    arrow.className = \"error_widget_arrow \" + gutterAnno.className;\n    var left = editor.renderer.$cursorLayer.getPixelPosition(pos).left;\n    arrow.style.left = left + editor.renderer.gutterWidth - 5 + \"px\";\n    w.el.className = \"error_widget_wrapper\";\n    el.className = \"error_widget \" + gutterAnno.className;\n    el.innerHTML = gutterAnno.text.join(\"<br>\");\n    el.appendChild(dom.createElement(\"div\"));\n\n    var kb = function kb(_, hashId, keyString) {\n      if (hashId === 0 && (keyString === \"esc\" || keyString === \"return\")) {\n        w.destroy();\n        return {\n          command: \"null\"\n        };\n      }\n    };\n\n    w.destroy = function () {\n      if (editor.$mouseHandler.isMousePressed) return;\n      editor.keyBinding.removeKeyboardHandler(kb);\n      session.widgetManager.removeLineWidget(w);\n      editor.off(\"changeSelection\", w.destroy);\n      editor.off(\"changeSession\", w.destroy);\n      editor.off(\"mouseup\", w.destroy);\n      editor.off(\"change\", w.destroy);\n    };\n\n    editor.keyBinding.addKeyboardHandler(kb);\n    editor.on(\"changeSelection\", w.destroy);\n    editor.on(\"changeSession\", w.destroy);\n    editor.on(\"mouseup\", w.destroy);\n    editor.on(\"change\", w.destroy);\n    editor.session.widgetManager.addLineWidget(w);\n    w.el.onmousedown = editor.focus.bind(editor);\n    editor.renderer.scrollCursorIntoView(null, 0.5, {\n      bottom: w.el.offsetHeight\n    });\n  };\n\n  dom.importCssString(\"\\\n    .error_widget_wrapper {\\\n        background: inherit;\\\n        color: inherit;\\\n        border:none\\\n    }\\\n    .error_widget {\\\n        border-top: solid 2px;\\\n        border-bottom: solid 2px;\\\n        margin: 5px 0;\\\n        padding: 10px 40px;\\\n        white-space: pre-wrap;\\\n    }\\\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\\\n        border-color: #ff5a5a\\\n    }\\\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\\\n        border-color: #F1D817\\\n    }\\\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\\\n        border-color: #5a5a5a\\\n    }\\\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\\\n        border-color: #5aaa5a\\\n    }\\\n    .error_widget_arrow {\\\n        position: absolute;\\\n        border: solid 5px;\\\n        border-top-color: transparent!important;\\\n        border-right-color: transparent!important;\\\n        border-left-color: transparent!important;\\\n        top: -5px;\\\n    }\\\n\", \"\");\n});\nace.define(\"ace/ace\", [\"require\", \"exports\", \"module\", \"ace/lib/fixoldbrowsers\", \"ace/lib/dom\", \"ace/lib/event\", \"ace/range\", \"ace/editor\", \"ace/edit_session\", \"ace/undomanager\", \"ace/virtual_renderer\", \"ace/worker/worker_client\", \"ace/keyboard/hash_handler\", \"ace/placeholder\", \"ace/multi_select\", \"ace/mode/folding/fold_mode\", \"ace/theme/textmate\", \"ace/ext/error_marker\", \"ace/config\"], function (require, exports, module) {\n  \"use strict\";\n\n  require(\"./lib/fixoldbrowsers\");\n\n  var dom = require(\"./lib/dom\");\n\n  var event = require(\"./lib/event\");\n\n  var Range = require(\"./range\").Range;\n\n  var Editor = require(\"./editor\").Editor;\n\n  var EditSession = require(\"./edit_session\").EditSession;\n\n  var UndoManager = require(\"./undomanager\").UndoManager;\n\n  var Renderer = require(\"./virtual_renderer\").VirtualRenderer;\n\n  require(\"./worker/worker_client\");\n\n  require(\"./keyboard/hash_handler\");\n\n  require(\"./placeholder\");\n\n  require(\"./multi_select\");\n\n  require(\"./mode/folding/fold_mode\");\n\n  require(\"./theme/textmate\");\n\n  require(\"./ext/error_marker\");\n\n  exports.config = require(\"./config\");\n  exports.require = require;\n  if (typeof define === \"function\") exports.define = define;\n\n  exports.edit = function (el, options) {\n    if (typeof el == \"string\") {\n      var _id = el;\n      el = document.getElementById(_id);\n      if (!el) throw new Error(\"ace.edit can't find div #\" + _id);\n    }\n\n    if (el && el.env && el.env.editor instanceof Editor) return el.env.editor;\n    var value = \"\";\n\n    if (el && /input|textarea/i.test(el.tagName)) {\n      var oldNode = el;\n      value = oldNode.value;\n      el = dom.createElement(\"pre\");\n      oldNode.parentNode.replaceChild(el, oldNode);\n    } else if (el) {\n      value = el.textContent;\n      el.innerHTML = \"\";\n    }\n\n    var doc = exports.createEditSession(value);\n    var editor = new Editor(new Renderer(el), doc, options);\n    var env = {\n      document: doc,\n      editor: editor,\n      onResize: editor.resize.bind(editor, null)\n    };\n    if (oldNode) env.textarea = oldNode;\n    event.addListener(window, \"resize\", env.onResize);\n    editor.on(\"destroy\", function () {\n      event.removeListener(window, \"resize\", env.onResize);\n      env.editor.container.env = null; // prevent memory leak on old ie\n    });\n    editor.container.env = editor.env = env;\n    return editor;\n  };\n\n  exports.createEditSession = function (text, mode) {\n    var doc = new EditSession(text, mode);\n    doc.setUndoManager(new UndoManager());\n    return doc;\n  };\n\n  exports.Range = Range;\n  exports.Editor = Editor;\n  exports.EditSession = EditSession;\n  exports.UndoManager = UndoManager;\n  exports.VirtualRenderer = Renderer;\n  exports.version = exports.config.version;\n});\n\n(function () {\n  ace.require([\"ace/ace\"], function (a) {\n    if (a) {\n      a.config.init(true);\n      a.define = ace.define;\n    }\n\n    if (!window.ace) window.ace = a;\n\n    for (var key in a) {\n      if (a.hasOwnProperty(key)) window.ace[key] = a[key];\n    }\n\n    window.ace[\"default\"] = window.ace;\n\n    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n      module.exports = window.ace;\n    }\n  });\n})();"],"sourceRoot":""}